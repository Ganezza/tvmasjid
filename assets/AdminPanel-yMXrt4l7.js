import{c as Xe,r as m,R as xd,u as Ot,s as V,a as P,j as o,b as xe,P as Me,d as bd,g as _d,e as Fn,f as Er,B as ue,h as jr,i as Te,k as Dr,l as ss,m as rr,n as os,o as dr,p as is,V as wd,A as Ha,q as oe,t as qa,v as zo,w as Za,D as Ka,C as ls,x as Zs,y as cs,z as Bt,E as kd,X as jd,F as Ks,G as tr,H as Un,I as Nd,J as Sd,K as Yo,L as Cd,S as Md}from"./index-BP8ToU7o.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Xe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Xe("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Xe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);var Od=xd[" useId ".trim().toString()]||(()=>{}),Id=0;function Ct(e){const[t,r]=m.useState(Od());return Ot(()=>{r(a=>a??String(Id++))},[e]),e||(t?`radix-${t}`:"")}const Fd=async()=>{try{const{error:e}=await V.auth.signOut();if(e){console.error("Error signing out:",e),P.error(`Gagal logout: ${e.message}`);return}for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith("sb-dectagjljgxcwsequkdt")&&localStorage.removeItem(r)}P.success("Berhasil logout dan membersihkan sesi."),console.log("User signed out and session cleared from local storage.")}catch(e){console.error("Unexpected error during sign out and session clear:",e),P.error("Terjadi kesalahan saat logout.")}},rt=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rt.displayName="Card";const at=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));at.displayName="CardHeader";const nt=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));nt.displayName="CardTitle";const Ud=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Ud.displayName="CardDescription";const st=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));st.displayName="CardContent";const Ld=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));Ld.displayName="CardFooter";const ve=m.forwardRef(({className:e,type:t,...r},a)=>o.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));ve.displayName="Input";var $d="Label",Jo=m.forwardRef((e,t)=>o.jsx(Me.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Jo.displayName=$d;var Xo=Jo;const Vd=bd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=m.forwardRef(({className:e,...t},r)=>o.jsx(Xo,{ref:r,className:xe(Vd(),e),...t}));ne.displayName=Xo.displayName;const Ja=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ja.displayName="Textarea";var mn={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js;function Bd(){if(Js)return be;Js=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function g(f){return f===null||typeof f!="object"?null:(f=h&&f[h]||f["@@iterator"],typeof f=="function"?f:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,p={};function w(f,_,$){this.props=f,this.context=_,this.refs=p,this.updater=$||y}w.prototype.isReactComponent={},w.prototype.setState=function(f,_){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,_,"setState")},w.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function S(){}S.prototype=w.prototype;function x(f,_,$){this.props=f,this.context=_,this.refs=p,this.updater=$||y}var M=x.prototype=new S;M.constructor=x,k(M,w.prototype),M.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,R={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(f,_,$){var H,Y={},Z=null,F=null;if(_!=null)for(H in _.ref!==void 0&&(F=_.ref),_.key!==void 0&&(Z=""+_.key),_)N.call(_,H)&&!b.hasOwnProperty(H)&&(Y[H]=_[H]);var K=arguments.length-2;if(K===1)Y.children=$;else if(1<K){for(var z=Array(K),de=0;de<K;de++)z[de]=arguments[de+2];Y.children=z}if(f&&f.defaultProps)for(H in K=f.defaultProps,K)Y[H]===void 0&&(Y[H]=K[H]);return{$$typeof:e,type:f,key:Z,ref:F,props:Y,_owner:R.current}}function B(f,_){return{$$typeof:e,type:f.type,key:_,ref:f.ref,props:f.props,_owner:f._owner}}function te(f){return typeof f=="object"&&f!==null&&f.$$typeof===e}function le(f){var _={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function($){return _[$]})}var ee=/\/+/g;function q(f,_){return typeof f=="object"&&f!==null&&f.key!=null?le(""+f.key):_.toString(36)}function ce(f,_,$,H,Y){var Z=typeof f;(Z==="undefined"||Z==="boolean")&&(f=null);var F=!1;if(f===null)F=!0;else switch(Z){case"string":case"number":F=!0;break;case"object":switch(f.$$typeof){case e:case t:F=!0}}if(F)return F=f,Y=Y(F),f=H===""?"."+q(F,0):H,j(Y)?($="",f!=null&&($=f.replace(ee,"$&/")+"/"),ce(Y,_,$,"",function(de){return de})):Y!=null&&(te(Y)&&(Y=B(Y,$+(!Y.key||F&&F.key===Y.key?"":(""+Y.key).replace(ee,"$&/")+"/")+f)),_.push(Y)),1;if(F=0,H=H===""?".":H+":",j(f))for(var K=0;K<f.length;K++){Z=f[K];var z=H+q(Z,K);F+=ce(Z,_,$,z,Y)}else if(z=g(f),typeof z=="function")for(f=z.call(f),K=0;!(Z=f.next()).done;)Z=Z.value,z=H+q(Z,K++),F+=ce(Z,_,$,z,Y);else if(Z==="object")throw _=String(f),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return F}function fe(f,_,$){if(f==null)return f;var H=[],Y=0;return ce(f,H,"","",function(Z){return _.call($,Z,Y++)}),H}function ie(f){if(f._status===-1){var _=f._result;_=_(),_.then(function($){(f._status===0||f._status===-1)&&(f._status=1,f._result=$)},function($){(f._status===0||f._status===-1)&&(f._status=2,f._result=$)}),f._status===-1&&(f._status=0,f._result=_)}if(f._status===1)return f._result.default;throw f._result}var D={current:null},O={transition:null},J={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:fe,forEach:function(f,_,$){fe(f,function(){_.apply(this,arguments)},$)},count:function(f){var _=0;return fe(f,function(){_++}),_},toArray:function(f){return fe(f,function(_){return _})||[]},only:function(f){if(!te(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},be.Component=w,be.Fragment=r,be.Profiler=n,be.PureComponent=x,be.StrictMode=a,be.Suspense=c,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,be.act=U,be.cloneElement=function(f,_,$){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var H=k({},f.props),Y=f.key,Z=f.ref,F=f._owner;if(_!=null){if(_.ref!==void 0&&(Z=_.ref,F=R.current),_.key!==void 0&&(Y=""+_.key),f.type&&f.type.defaultProps)var K=f.type.defaultProps;for(z in _)N.call(_,z)&&!b.hasOwnProperty(z)&&(H[z]=_[z]===void 0&&K!==void 0?K[z]:_[z])}var z=arguments.length-2;if(z===1)H.children=$;else if(1<z){K=Array(z);for(var de=0;de<z;de++)K[de]=arguments[de+2];H.children=K}return{$$typeof:e,type:f.type,key:Y,ref:Z,props:H,_owner:F}},be.createContext=function(f){return f={$$typeof:i,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:s,_context:f},f.Consumer=f},be.createElement=A,be.createFactory=function(f){var _=A.bind(null,f);return _.type=f,_},be.createRef=function(){return{current:null}},be.forwardRef=function(f){return{$$typeof:l,render:f}},be.isValidElement=te,be.lazy=function(f){return{$$typeof:u,_payload:{_status:-1,_result:f},_init:ie}},be.memo=function(f,_){return{$$typeof:d,type:f,compare:_===void 0?null:_}},be.startTransition=function(f){var _=O.transition;O.transition={};try{f()}finally{O.transition=_}},be.unstable_act=U,be.useCallback=function(f,_){return D.current.useCallback(f,_)},be.useContext=function(f){return D.current.useContext(f)},be.useDebugValue=function(){},be.useDeferredValue=function(f){return D.current.useDeferredValue(f)},be.useEffect=function(f,_){return D.current.useEffect(f,_)},be.useId=function(){return D.current.useId()},be.useImperativeHandle=function(f,_,$){return D.current.useImperativeHandle(f,_,$)},be.useInsertionEffect=function(f,_){return D.current.useInsertionEffect(f,_)},be.useLayoutEffect=function(f,_){return D.current.useLayoutEffect(f,_)},be.useMemo=function(f,_){return D.current.useMemo(f,_)},be.useReducer=function(f,_,$){return D.current.useReducer(f,_,$)},be.useRef=function(f){return D.current.useRef(f)},be.useState=function(f){return D.current.useState(f)},be.useSyncExternalStore=function(f,_,$){return D.current.useSyncExternalStore(f,_,$)},be.useTransition=function(){return D.current.useTransition()},be.version="18.3.1",be}var Xs;function Wd(){return Xs||(Xs=1,mn.exports=Bd()),mn.exports}var zd=Wd();const ft=_d(zd);var aa=e=>e.type==="checkbox",er=e=>e instanceof Date,Ye=e=>e==null;const Qo=e=>typeof e=="object";var Oe=e=>!Ye(e)&&!Array.isArray(e)&&Qo(e)&&!er(e),Yd=e=>Oe(e)&&e.target?aa(e.target)?e.target.checked:e.target.value:e,Gd=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Hd=(e,t)=>e.has(Gd(t)),qd=e=>{const t=e.constructor&&e.constructor.prototype;return Oe(t)&&t.hasOwnProperty("isPrototypeOf")},ds=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function We(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ds&&(e instanceof Blob||a))&&(r||Oe(e)))if(t=r?[]:{},!r&&!qd(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=We(e[n]));else return e;return t}var Xa=e=>Array.isArray(e)?e.filter(Boolean):[],Fe=e=>e===void 0,ae=(e,t,r)=>{if(!t||!Oe(e))return r;const a=Xa(t.split(/[,[\].]+?/)).reduce((n,s)=>Ye(n)?n:n[s],e);return Fe(a)||a===e?Fe(e[t])?r:e[t]:a},wt=e=>typeof e=="boolean",us=e=>/^\w*$/.test(e),ei=e=>Xa(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(e,t,r)=>{let a=-1;const n=us(t)?[t]:ei(t),s=n.length,i=s-1;for(;++a<s;){const l=n[a];let c=r;if(a!==i){const d=e[l];c=Oe(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Qs={BLUR:"blur",FOCUS_OUT:"focusout"},ht={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ft.createContext(null);var Zd=(e,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(n,s,{get:()=>{const i=s;return t._proxyFormState[i]!==ht.all&&(t._proxyFormState[i]=!a||ht.all),e[i]}});return n},jt=e=>typeof e=="string",Kd=(e,t,r,a,n)=>jt(e)?(a&&t.watch.add(e),ae(r,e,n)):Array.isArray(e)?e.map(s=>(a&&t.watch.add(s),ae(r,s))):(a&&(t.watchAll=!0),r),Jd=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},Gr=e=>Array.isArray(e)?e:[e],eo=()=>{let e=[];return{get observers(){return e},next:n=>{for(const s of e)s.next&&s.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(s=>s!==n)}}),unsubscribe:()=>{e=[]}}},Ln=e=>Ye(e)||!Qo(e);function Gt(e,t){if(Ln(e)||Ln(t))return e===t;if(er(e)&&er(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const n of r){const s=e[n];if(!a.includes(n))return!1;if(n!=="ref"){const i=t[n];if(er(s)&&er(i)||Oe(s)&&Oe(i)||Array.isArray(s)&&Array.isArray(i)?!Gt(s,i):s!==i)return!1}}return!0}var ze=e=>Oe(e)&&!Object.keys(e).length,fs=e=>e.type==="file",pt=e=>typeof e=="function",ja=e=>{if(!ds)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ti=e=>e.type==="select-multiple",ms=e=>e.type==="radio",Xd=e=>ms(e)||aa(e),hn=e=>ja(e)&&e.isConnected;function Qd(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=Fe(e)?a++:e[t[a++]];return e}function eu(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fe(e[t]))return!1;return!0}function Ue(e,t){const r=Array.isArray(t)?t:us(t)?[t]:ei(t),a=r.length===1?e:Qd(e,r),n=r.length-1,s=r[n];return a&&delete a[s],n!==0&&(Oe(a)&&ze(a)||Array.isArray(a)&&eu(a))&&Ue(e,r.slice(0,-1)),e}var ri=e=>{for(const t in e)if(pt(e[t]))return!0;return!1};function Na(e,t={}){const r=Array.isArray(e);if(Oe(e)||r)for(const a in e)Array.isArray(e[a])||Oe(e[a])&&!ri(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Na(e[a],t[a])):Ye(e[a])||(t[a]=!0);return t}function ai(e,t,r){const a=Array.isArray(e);if(Oe(e)||a)for(const n in e)Array.isArray(e[n])||Oe(e[n])&&!ri(e[n])?Fe(t)||Ln(r[n])?r[n]=Array.isArray(e[n])?Na(e[n],[]):{...Na(e[n])}:ai(e[n],Ye(t)?{}:t[n],r[n]):r[n]=!Gt(e[n],t[n]);return r}var Ir=(e,t)=>ai(e,t,Na(t));const to={value:!1,isValid:!1},ro={value:!0,isValid:!0};var ni=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fe(e[0].attributes.value)?Fe(e[0].value)||e[0].value===""?ro:{value:e[0].value,isValid:!0}:ro:to}return to},si=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>Fe(e)?e:t?e===""?NaN:e&&+e:r&&jt(e)?new Date(e):a?a(e):e;const ao={isValid:!1,value:null};var oi=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ao):ao;function no(e){const t=e.ref;return fs(t)?t.files:ms(t)?oi(e.refs).value:ti(t)?[...t.selectedOptions].map(({value:r})=>r):aa(t)?ni(e.refs).value:si(Fe(t.value)?e.ref.value:t.value,e)}var tu=(e,t,r,a)=>{const n={};for(const s of e){const i=ae(t,s);i&&Pe(n,s,i._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}},Sa=e=>e instanceof RegExp,Fr=e=>Fe(e)?e:Sa(e)?e.source:Oe(e)?Sa(e.value)?e.value.source:e.value:e,so=e=>({isOnSubmit:!e||e===ht.onSubmit,isOnBlur:e===ht.onBlur,isOnChange:e===ht.onChange,isOnAll:e===ht.all,isOnTouch:e===ht.onTouched});const oo="AsyncFunction";var ru=e=>!!e&&!!e.validate&&!!(pt(e.validate)&&e.validate.constructor.name===oo||Oe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===oo)),au=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),io=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Hr=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const s=ae(e,n);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],n)&&!a)return!0;if(i.ref&&t(i.ref,i.name)&&!a)return!0;if(Hr(l,t))break}else if(Oe(l)&&Hr(l,t))break}}};function lo(e,t,r){const a=ae(e,r);if(a||us(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const s=n.join("."),i=ae(t,s),l=ae(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};n.pop()}return{name:r}}var nu=(e,t,r,a)=>{r(e);const{name:n,...s}=e;return ze(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!a||ht.all))},su=(e,t,r)=>!e||!t||e===t||Gr(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),ou=(e,t,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:(r?a.isOnChange:n.isOnChange)?e:!0,iu=(e,t)=>!Xa(ae(e,t)).length&&Ue(e,t),lu=(e,t,r)=>{const a=Gr(ae(e,r));return Pe(a,"root",t[r]),Pe(e,r,a),e},xa=e=>jt(e);function co(e,t,r="validate"){if(xa(e)||Array.isArray(e)&&e.every(xa)||wt(e)&&!e)return{type:r,message:xa(e)?e:"",ref:t}}var gr=e=>Oe(e)&&!Sa(e)?e:{value:e,message:""},uo=async(e,t,r,a,n,s)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:u,min:h,max:g,pattern:y,validate:k,name:p,valueAsNumber:w,mount:S}=e._f,x=ae(r,p);if(!S||t.has(p))return{};const M=l?l[0]:i,j=ee=>{n&&M.reportValidity&&(M.setCustomValidity(wt(ee)?"":ee||""),M.reportValidity())},N={},R=ms(i),b=aa(i),A=R||b,B=(w||fs(i))&&Fe(i.value)&&Fe(x)||ja(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,te=Jd.bind(null,p,a,N),le=(ee,q,ce,fe=Dt.maxLength,ie=Dt.minLength)=>{const D=ee?q:ce;N[p]={type:ee?fe:ie,message:D,ref:i,...te(ee?fe:ie,D)}};if(s?!Array.isArray(x)||!x.length:c&&(!A&&(B||Ye(x))||wt(x)&&!x||b&&!ni(l).isValid||R&&!oi(l).isValid)){const{value:ee,message:q}=xa(c)?{value:!!c,message:c}:gr(c);if(ee&&(N[p]={type:Dt.required,message:q,ref:M,...te(Dt.required,q)},!a))return j(q),N}if(!B&&(!Ye(h)||!Ye(g))){let ee,q;const ce=gr(g),fe=gr(h);if(!Ye(x)&&!isNaN(x)){const ie=i.valueAsNumber||x&&+x;Ye(ce.value)||(ee=ie>ce.value),Ye(fe.value)||(q=ie<fe.value)}else{const ie=i.valueAsDate||new Date(x),D=U=>new Date(new Date().toDateString()+" "+U),O=i.type=="time",J=i.type=="week";jt(ce.value)&&x&&(ee=O?D(x)>D(ce.value):J?x>ce.value:ie>new Date(ce.value)),jt(fe.value)&&x&&(q=O?D(x)<D(fe.value):J?x<fe.value:ie<new Date(fe.value))}if((ee||q)&&(le(!!ee,ce.message,fe.message,Dt.max,Dt.min),!a))return j(N[p].message),N}if((d||u)&&!B&&(jt(x)||s&&Array.isArray(x))){const ee=gr(d),q=gr(u),ce=!Ye(ee.value)&&x.length>+ee.value,fe=!Ye(q.value)&&x.length<+q.value;if((ce||fe)&&(le(ce,ee.message,q.message),!a))return j(N[p].message),N}if(y&&!B&&jt(x)){const{value:ee,message:q}=gr(y);if(Sa(ee)&&!x.match(ee)&&(N[p]={type:Dt.pattern,message:q,ref:i,...te(Dt.pattern,q)},!a))return j(q),N}if(k){if(pt(k)){const ee=await k(x,r),q=co(ee,M);if(q&&(N[p]={...q,...te(Dt.validate,q.message)},!a))return j(q.message),N}else if(Oe(k)){let ee={};for(const q in k){if(!ze(ee)&&!a)break;const ce=co(await k[q](x,r),M,q);ce&&(ee={...ce,...te(q,ce.message)},j(ce.message),a&&(N[p]=ee))}if(!ze(ee)&&(N[p]={ref:M,...ee},!a))return N}}return j(!0),N};const cu={mode:ht.onSubmit,reValidateMode:ht.onChange,shouldFocusError:!0};function du(e={}){let t={...cu,...e},r={submitCount:0,isDirty:!1,isLoading:pt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let n=Oe(t.defaultValues)||Oe(t.values)?We(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:We(n),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const g={array:eo(),state:eo()},y=so(t.mode),k=so(t.reValidateMode),p=t.criteriaMode===ht.all,w=v=>C=>{clearTimeout(d),d=setTimeout(v,C)},S=async v=>{if(!t.disabled&&(u.isValid||h.isValid||v)){const C=t.resolver?ze((await B()).errors):await le(a,!0);C!==r.isValid&&g.state.next({isValid:C})}},x=(v,C)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((v||Array.from(l.mount)).forEach(E=>{E&&(C?Pe(r.validatingFields,E,C):Ue(r.validatingFields,E))}),g.state.next({validatingFields:r.validatingFields,isValidating:!ze(r.validatingFields)}))},M=(v,C=[],E,X,W=!0,L=!0)=>{if(X&&E&&!t.disabled){if(i.action=!0,L&&Array.isArray(ae(a,v))){const re=E(ae(a,v),X.argA,X.argB);W&&Pe(a,v,re)}if(L&&Array.isArray(ae(r.errors,v))){const re=E(ae(r.errors,v),X.argA,X.argB);W&&Pe(r.errors,v,re),iu(r.errors,v)}if((u.touchedFields||h.touchedFields)&&L&&Array.isArray(ae(r.touchedFields,v))){const re=E(ae(r.touchedFields,v),X.argA,X.argB);W&&Pe(r.touchedFields,v,re)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ir(n,s)),g.state.next({name:v,isDirty:q(v,C),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Pe(s,v,C)},j=(v,C)=>{Pe(r.errors,v,C),g.state.next({errors:r.errors})},N=v=>{r.errors=v,g.state.next({errors:r.errors,isValid:!1})},R=(v,C,E,X)=>{const W=ae(a,v);if(W){const L=ae(s,v,Fe(E)?ae(n,v):E);Fe(L)||X&&X.defaultChecked||C?Pe(s,v,C?L:no(W._f)):ie(v,L),i.mount&&S()}},b=(v,C,E,X,W)=>{let L=!1,re=!1;const Ce={name:v};if(!t.disabled){if(!E||X){(u.isDirty||h.isDirty)&&(re=r.isDirty,r.isDirty=Ce.isDirty=q(),L=re!==Ce.isDirty);const Ie=Gt(ae(n,v),C);re=!!ae(r.dirtyFields,v),Ie?Ue(r.dirtyFields,v):Pe(r.dirtyFields,v,!0),Ce.dirtyFields=r.dirtyFields,L=L||(u.dirtyFields||h.dirtyFields)&&re!==!Ie}if(E){const Ie=ae(r.touchedFields,v);Ie||(Pe(r.touchedFields,v,E),Ce.touchedFields=r.touchedFields,L=L||(u.touchedFields||h.touchedFields)&&Ie!==E)}L&&W&&g.state.next(Ce)}return L?Ce:{}},A=(v,C,E,X)=>{const W=ae(r.errors,v),L=(u.isValid||h.isValid)&&wt(C)&&r.isValid!==C;if(t.delayError&&E?(c=w(()=>j(v,E)),c(t.delayError)):(clearTimeout(d),c=null,E?Pe(r.errors,v,E):Ue(r.errors,v)),(E?!Gt(W,E):W)||!ze(X)||L){const re={...X,...L&&wt(C)?{isValid:C}:{},errors:r.errors,name:v};r={...r,...re},g.state.next(re)}},B=async v=>{x(v,!0);const C=await t.resolver(s,t.context,tu(v||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return x(v),C},te=async v=>{const{errors:C}=await B(v);if(v)for(const E of v){const X=ae(C,E);X?Pe(r.errors,E,X):Ue(r.errors,E)}else r.errors=C;return C},le=async(v,C,E={valid:!0})=>{for(const X in v){const W=v[X];if(W){const{_f:L,...re}=W;if(L){const Ce=l.array.has(L.name),Ie=W._f&&ru(W._f);Ie&&u.validatingFields&&x([X],!0);const Be=await uo(W,l.disabled,s,p,t.shouldUseNativeValidation&&!C,Ce);if(Ie&&u.validatingFields&&x([X]),Be[L.name]&&(E.valid=!1,C))break;!C&&(ae(Be,L.name)?Ce?lu(r.errors,Be,L.name):Pe(r.errors,L.name,Be[L.name]):Ue(r.errors,L.name))}!ze(re)&&await le(re,C,E)}}return E.valid},ee=()=>{for(const v of l.unMount){const C=ae(a,v);C&&(C._f.refs?C._f.refs.every(E=>!hn(E)):!hn(C._f.ref))&&z(v)}l.unMount=new Set},q=(v,C)=>!t.disabled&&(v&&C&&Pe(s,v,C),!Gt(_(),n)),ce=(v,C,E)=>Kd(v,l,{...i.mount?s:Fe(C)?n:jt(v)?{[v]:C}:C},E,C),fe=v=>Xa(ae(i.mount?s:n,v,t.shouldUnregister?ae(n,v,[]):[])),ie=(v,C,E={})=>{const X=ae(a,v);let W=C;if(X){const L=X._f;L&&(!L.disabled&&Pe(s,v,si(C,L)),W=ja(L.ref)&&Ye(C)?"":C,ti(L.ref)?[...L.ref.options].forEach(re=>re.selected=W.includes(re.value)):L.refs?aa(L.ref)?L.refs.length>1?L.refs.forEach(re=>(!re.defaultChecked||!re.disabled)&&(re.checked=Array.isArray(W)?!!W.find(Ce=>Ce===re.value):W===re.value)):L.refs[0]&&(L.refs[0].checked=!!W):L.refs.forEach(re=>re.checked=re.value===W):fs(L.ref)?L.ref.value="":(L.ref.value=W,L.ref.type||g.state.next({name:v,values:We(s)})))}(E.shouldDirty||E.shouldTouch)&&b(v,W,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&f(v)},D=(v,C,E)=>{for(const X in C){const W=C[X],L=`${v}.${X}`,re=ae(a,L);(l.array.has(v)||Oe(W)||re&&!re._f)&&!er(W)?D(L,W,E):ie(L,W,E)}},O=(v,C,E={})=>{const X=ae(a,v),W=l.array.has(v),L=We(C);Pe(s,v,L),W?(g.array.next({name:v,values:We(s)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&E.shouldDirty&&g.state.next({name:v,dirtyFields:Ir(n,s),isDirty:q(v,L)})):X&&!X._f&&!Ye(L)?D(v,L,E):ie(v,L,E),io(v,l)&&g.state.next({...r}),g.state.next({name:i.mount?v:void 0,values:We(s)})},J=async v=>{i.mount=!0;const C=v.target;let E=C.name,X=!0;const W=ae(a,E),L=re=>{X=Number.isNaN(re)||er(re)&&isNaN(re.getTime())||Gt(re,ae(s,E,re))};if(W){let re,Ce;const Ie=C.type?no(W._f):Yd(v),Be=v.type===Qs.BLUR||v.type===Qs.FOCUS_OUT,gd=!au(W._f)&&!t.resolver&&!ae(r.errors,E)&&!W._f.deps||ou(Be,ae(r.touchedFields,E),r.isSubmitted,k,y),un=io(E,l,Be);Pe(s,E,Ie),Be?(W._f.onBlur&&W._f.onBlur(v),c&&c(0)):W._f.onChange&&W._f.onChange(v);const fn=b(E,Ie,Be),yd=!ze(fn)||un;if(!Be&&g.state.next({name:E,type:v.type,values:We(s)}),gd)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Be&&S():Be||S()),yd&&g.state.next({name:E,...un?{}:fn});if(!Be&&un&&g.state.next({...r}),t.resolver){const{errors:Hs}=await B([E]);if(L(Ie),X){const vd=lo(r.errors,a,E),qs=lo(Hs,a,vd.name||E);re=qs.error,E=qs.name,Ce=ze(Hs)}}else x([E],!0),re=(await uo(W,l.disabled,s,p,t.shouldUseNativeValidation))[E],x([E]),L(Ie),X&&(re?Ce=!1:(u.isValid||h.isValid)&&(Ce=await le(a,!0)));X&&(W._f.deps&&f(W._f.deps),A(E,Ce,re,fn))}},U=(v,C)=>{if(ae(r.errors,C)&&v.focus)return v.focus(),1},f=async(v,C={})=>{let E,X;const W=Gr(v);if(t.resolver){const L=await te(Fe(v)?v:W);E=ze(L),X=v?!W.some(re=>ae(L,re)):E}else v?(X=(await Promise.all(W.map(async L=>{const re=ae(a,L);return await le(re&&re._f?{[L]:re}:re)}))).every(Boolean),!(!X&&!r.isValid)&&S()):X=E=await le(a);return g.state.next({...!jt(v)||(u.isValid||h.isValid)&&E!==r.isValid?{}:{name:v},...t.resolver||!v?{isValid:E}:{},errors:r.errors}),C.shouldFocus&&!X&&Hr(a,U,v?W:l.mount),X},_=v=>{const C={...i.mount?s:n};return Fe(v)?C:jt(v)?ae(C,v):v.map(E=>ae(C,E))},$=(v,C)=>({invalid:!!ae((C||r).errors,v),isDirty:!!ae((C||r).dirtyFields,v),error:ae((C||r).errors,v),isValidating:!!ae(r.validatingFields,v),isTouched:!!ae((C||r).touchedFields,v)}),H=v=>{v&&Gr(v).forEach(C=>Ue(r.errors,C)),g.state.next({errors:v?r.errors:{}})},Y=(v,C,E)=>{const X=(ae(a,v,{_f:{}})._f||{}).ref,W=ae(r.errors,v)||{},{ref:L,message:re,type:Ce,...Ie}=W;Pe(r.errors,v,{...Ie,...C,ref:X}),g.state.next({name:v,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&X&&X.focus&&X.focus()},Z=(v,C)=>pt(v)?g.state.subscribe({next:E=>v(ce(void 0,C),E)}):ce(v,C,!0),F=v=>g.state.subscribe({next:C=>{su(v.name,C.name,v.exact)&&nu(C,v.formState||u,pd,v.reRenderRoot)&&v.callback({values:{...s},...r,...C})}}).unsubscribe,K=v=>(i.mount=!0,h={...h,...v.formState},F({...v,formState:h})),z=(v,C={})=>{for(const E of v?Gr(v):l.mount)l.mount.delete(E),l.array.delete(E),C.keepValue||(Ue(a,E),Ue(s,E)),!C.keepError&&Ue(r.errors,E),!C.keepDirty&&Ue(r.dirtyFields,E),!C.keepTouched&&Ue(r.touchedFields,E),!C.keepIsValidating&&Ue(r.validatingFields,E),!t.shouldUnregister&&!C.keepDefaultValue&&Ue(n,E);g.state.next({values:We(s)}),g.state.next({...r,...C.keepDirty?{isDirty:q()}:{}}),!C.keepIsValid&&S()},de=({disabled:v,name:C})=>{(wt(v)&&i.mount||v||l.disabled.has(C))&&(v?l.disabled.add(C):l.disabled.delete(C))},Se=(v,C={})=>{let E=ae(a,v);const X=wt(C.disabled)||wt(t.disabled);return Pe(a,v,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:v}},name:v,mount:!0,...C}}),l.mount.add(v),E?de({disabled:wt(C.disabled)?C.disabled:t.disabled,name:v}):R(v,!0,C.value),{...X?{disabled:C.disabled||t.disabled}:{},...t.progressive?{required:!!C.required,min:Fr(C.min),max:Fr(C.max),minLength:Fr(C.minLength),maxLength:Fr(C.maxLength),pattern:Fr(C.pattern)}:{},name:v,onChange:J,onBlur:J,ref:W=>{if(W){Se(v,C),E=ae(a,v);const L=Fe(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,re=Xd(L),Ce=E._f.refs||[];if(re?Ce.find(Ie=>Ie===L):L===E._f.ref)return;Pe(a,v,{_f:{...E._f,...re?{refs:[...Ce.filter(hn),L,...Array.isArray(ae(n,v))?[{}]:[]],ref:{type:L.type,name:v}}:{ref:L}}}),R(v,!1,void 0,L)}else E=ae(a,v,{}),E._f&&(E._f.mount=!1),(t.shouldUnregister||C.shouldUnregister)&&!(Hd(l.array,v)&&i.action)&&l.unMount.add(v)}}},ke=()=>t.shouldFocusError&&Hr(a,U,l.mount),it=v=>{wt(v)&&(g.state.next({disabled:v}),Hr(a,(C,E)=>{const X=ae(a,E);X&&(C.disabled=X._f.disabled||v,Array.isArray(X._f.refs)&&X._f.refs.forEach(W=>{W.disabled=X._f.disabled||v}))},0,!1))},_t=(v,C)=>async E=>{let X;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let W=We(s);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:L,values:re}=await B();r.errors=L,W=re}else await le(a);if(l.disabled.size)for(const L of l.disabled)Pe(W,L,void 0);if(Ue(r.errors,"root"),ze(r.errors)){g.state.next({errors:{}});try{await v(W,E)}catch(L){X=L}}else C&&await C({...r.errors},E),ke(),setTimeout(ke);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ze(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},Or=(v,C={})=>{ae(a,v)&&(Fe(C.defaultValue)?O(v,We(ae(n,v))):(O(v,C.defaultValue),Pe(n,v,We(C.defaultValue))),C.keepTouched||Ue(r.touchedFields,v),C.keepDirty||(Ue(r.dirtyFields,v),r.isDirty=C.defaultValue?q(v,We(ae(n,v))):q()),C.keepError||(Ue(r.errors,v),u.isValid&&S()),g.state.next({...r}))},hr=(v,C={})=>{const E=v?We(v):n,X=We(E),W=ze(v),L=W?n:X;if(C.keepDefaultValues||(n=E),!C.keepValues){if(C.keepDirtyValues){const re=new Set([...l.mount,...Object.keys(Ir(n,s))]);for(const Ce of Array.from(re))ae(r.dirtyFields,Ce)?Pe(L,Ce,ae(s,Ce)):O(Ce,ae(L,Ce))}else{if(ds&&Fe(v))for(const re of l.mount){const Ce=ae(a,re);if(Ce&&Ce._f){const Ie=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(ja(Ie)){const Be=Ie.closest("form");if(Be){Be.reset();break}}}}for(const re of l.mount)O(re,ae(L,re))}s=We(L),g.array.next({values:{...L}}),g.state.next({values:{...L}})}l={mount:C.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!C.keepIsValid||!!C.keepDirtyValues,i.watch=!!t.shouldUnregister,g.state.next({submitCount:C.keepSubmitCount?r.submitCount:0,isDirty:W?!1:C.keepDirty?r.isDirty:!!(C.keepDefaultValues&&!Gt(v,n)),isSubmitted:C.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:W?{}:C.keepDirtyValues?C.keepDefaultValues&&s?Ir(n,s):r.dirtyFields:C.keepDefaultValues&&v?Ir(n,v):C.keepDirty?r.dirtyFields:{},touchedFields:C.keepTouched?r.touchedFields:{},errors:C.keepErrors?r.errors:{},isSubmitSuccessful:C.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},pr=(v,C)=>hr(pt(v)?v(s):v,C),hd=(v,C={})=>{const E=ae(a,v),X=E&&E._f;if(X){const W=X.refs?X.refs[0]:X.ref;W.focus&&(W.focus(),C.shouldSelect&&pt(W.select)&&W.select())}},pd=v=>{r={...r,...v}},Gs={control:{register:Se,unregister:z,getFieldState:$,handleSubmit:_t,setError:Y,_subscribe:F,_runSchema:B,_getWatch:ce,_getDirty:q,_setValid:S,_setFieldArray:M,_setDisabledField:de,_setErrors:N,_getFieldArray:fe,_reset:hr,_resetDefaultValues:()=>pt(t.defaultValues)&&t.defaultValues().then(v=>{pr(v,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:it,_subjects:g,_proxyFormState:u,get _fields(){return a},get _formValues(){return s},get _state(){return i},set _state(v){i=v},get _defaultValues(){return n},get _names(){return l},set _names(v){l=v},get _formState(){return r},get _options(){return t},set _options(v){t={...t,...v}}},subscribe:K,trigger:f,register:Se,handleSubmit:_t,watch:Z,setValue:O,getValues:_,reset:pr,resetField:Or,clearErrors:H,unregister:z,setError:Y,setFocus:hd,getFieldState:$};return{...Gs,formControl:Gs}}function Qe(e={}){const t=ft.useRef(void 0),r=ft.useRef(void 0),[a,n]=ft.useState({isDirty:!1,isValidating:!1,isLoading:pt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:pt(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:du(e),formState:a},e.formControl&&e.defaultValues&&!pt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,ft.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>n({...s._formState}),reRenderRoot:!0}),[s]),ft.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ft.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==a.isDirty&&s._subjects.state.next({isDirty:i})}},[s,a.isDirty]),ft.useEffect(()=>{e.values&&!Gt(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,n(i=>({...i}))):s._resetDefaultValues()},[e.values,s]),ft.useEffect(()=>{e.errors&&!ze(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),ft.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ft.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=Zd(a,s),t.current}var uu=e=>e instanceof Date,ii=e=>e==null;const fu=e=>typeof e=="object";var li=e=>!ii(e)&&!Array.isArray(e)&&fu(e)&&!uu(e),ci=e=>Array.isArray(e)?e.filter(Boolean):[],fo=e=>e===void 0,$n=(e,t,r)=>{if(!t||!li(e))return r;const a=ci(t.split(/[,[\].]+?/)).reduce((n,s)=>ii(n)?n:n[s],e);return fo(a)||a===e?fo(e[t])?r:e[t]:a},mu=e=>/^\w*$/.test(e),hu=e=>ci(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pn=(e,t,r)=>{let a=-1;const n=mu(t)?[t]:hu(t),s=n.length,i=s-1;for(;++a<s;){const l=n[a];let c=r;if(a!==i){const d=e[l];c=li(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};Fn.createContext(null);var pu=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{};const mo=(e,t,r)=>{if(e&&"reportValidity"in e){const a=$n(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},di=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?mo(a.ref,r,e):a.refs&&a.refs.forEach(n=>mo(n,r,e))}},gu=(e,t)=>{t.shouldUseNativeValidation&&di(e,t);const r={};for(const a in e){const n=$n(t.fields,a),s=Object.assign(e[a]||{},{ref:n&&n.ref});if(yu(t.names||Object.keys(e),a)){const i=Object.assign({},$n(r,a));pn(i,"root",s),pn(r,a,i)}else pn(r,a,s)}return r},yu=(e,t)=>e.some(r=>r.startsWith(t+"."));var vu=function(e,t){for(var r={};e.length;){var a=e[0],n=a.code,s=a.message,i=a.path.join(".");if(!r[i])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:s,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[i].types,d=c&&c[a.code];r[i]=pu(i,t,r,n,d?[].concat(d,a.message):a.message)}e.shift()}return r},et=function(e,t,r){return r===void 0&&(r={}),function(a,n,s){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return s.shouldUseNativeValidation&&di({},s),{errors:{},values:r.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:gu(vu(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}},je;(function(e){e.assertEqual=n=>n;function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const s={};for(const i of n)s[i]=i;return s},e.getValidEnumValues=n=>{const s=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),i={};for(const l of s)i[l]=n[l];return e.objectValues(i)},e.objectValues=n=>e.objectKeys(n).map(function(s){return n[s]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(i);return s},e.find=(n,s)=>{for(const i of n)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function a(n,s=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=a,e.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(je||(je={}));var ho;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(ho||(ho={}));const Q=je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yt=e=>{switch(typeof e){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(e)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(e)?Q.array:e===null?Q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Q.promise:typeof Map<"u"&&e instanceof Map?Q.map:typeof Set<"u"&&e instanceof Set?Q.set:typeof Date<"u"&&e instanceof Date?Q.date:Q.object;default:return Q.unknown}},I=je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},a={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)a._errors.push(r(i));else{let l=a,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(i))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(t){if(!(t instanceof dt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},a=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):a.push(t(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}dt.create=e=>new dt(e);const Kr=(e,t)=>{let r;switch(e.code){case I.invalid_type:e.received===Q.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case I.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,je.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:r=`Unrecognized key(s) in object: ${je.joinValues(e.keys,", ")}`;break;case I.invalid_union:r="Invalid input";break;case I.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${je.joinValues(e.options)}`;break;case I.invalid_enum_value:r=`Invalid enum value. Expected ${je.joinValues(e.options)}, received '${e.received}'`;break;case I.invalid_arguments:r="Invalid function arguments";break;case I.invalid_return_type:r="Invalid function return type";break;case I.invalid_date:r="Invalid date";break;case I.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:je.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case I.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case I.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case I.custom:r="Invalid input";break;case I.invalid_intersection_types:r="Intersection results could not be merged";break;case I.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case I.not_finite:r="Number must be finite";break;default:r=t.defaultError,je.assertNever(e)}return{message:r}};let xu=Kr;function Vn(){return xu}const Bn=e=>{const{data:t,path:r,errorMaps:a,issueData:n}=e,s=[...r,...n.path||[]],i={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(i,{data:t,defaultError:l}).message;return{...n,path:s,message:l}};function G(e,t){const r=Vn(),a=Bn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Kr?void 0:Kr].filter(n=>!!n)});e.common.issues.push(a)}class He{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const a=[];for(const n of r){if(n.status==="aborted")return pe;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){const a=[];for(const n of r){const s=await n.key,i=await n.value;a.push({key:s,value:i})}return He.mergeObjectSync(t,a)}static mergeObjectSync(t,r){const a={};for(const n of r){const{key:s,value:i}=n;if(s.status==="aborted"||i.status==="aborted")return pe;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(a[s.value]=i.value)}return{status:t.value,value:a}}}const pe=Object.freeze({status:"aborted"}),Vr=e=>({status:"dirty",value:e}),Je=e=>({status:"valid",value:e}),po=e=>e.status==="aborted",go=e=>e.status==="dirty",Nr=e=>e.status==="valid",Ca=e=>typeof Promise<"u"&&e instanceof Promise;function Ma(e,t,r,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function ui(e,t,r,a,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(se||(se={}));var Br,Wr;class At{constructor(t,r,a,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yo=(e,t)=>{if(Nr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new dt(e.common.issues);return this._error=r,this._error}}};function ye(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:a,description:n}=e;if(t&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(i,l)=>{var c,d;const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??a)!==null&&c!==void 0?c:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:n}}class we{get description(){return this._def.description}_getType(t){return Yt(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new He,ctx:{common:t.parent.common,data:t.data,parsedType:Yt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ca(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){var a;const n={common:{issues:[],async:(a=r==null?void 0:r.async)!==null&&a!==void 0?a:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yt(t)},s=this._parseSync({data:t,path:n.path,parent:n});return yo(n,s)}"~validate"(t){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yt(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return Nr(s)?{value:s.value}:{issues:n.common.issues}}catch(s){!((a=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>Nr(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,r){const a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yt(t)},n=this._parse({data:t,path:a.path,parent:a}),s=await(Ca(n)?n:Promise.resolve(n));return yo(a,s)}refine(t,r){const a=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{const i=t(n),l=()=>s.addIssue({code:I.custom,...a(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(t){return new Ft({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Rt.create(this,this._def)}nullable(){return or.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mt.create(this)}promise(){return Xr.create(this,this._def)}or(t){return Pa.create([this,t],this._def)}and(t){return Ta.create(this,t,this._def)}transform(t){return new Ft({...ye(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ua({...ye(this._def),innerType:this,defaultValue:r,typeName:he.ZodDefault})}brand(){return new pi({typeName:he.ZodBranded,type:this,...ye(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new La({...ye(this._def),innerType:this,catchValue:r,typeName:he.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Qa.create(this,t)}readonly(){return $a.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bu=/^c[^\s-]{8,}$/i,_u=/^[0-9a-z]+$/,wu=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ku=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ju=/^[a-z0-9_-]{21}$/i,Nu=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Su=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cu=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mu="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gn;const Au=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Du=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Pu=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tu=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ru=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fi="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ou=new RegExp(`^${fi}$`);function mi(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Iu(e){return new RegExp(`^${mi(e)}$`)}function Fu(e){let t=`${fi}T${mi(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Uu(e,t){return!!((t==="v4"||!t)&&Au.test(e)||(t==="v6"||!t)&&Du.test(e))}function Lu(e,t){if(!Nu.test(e))return!1;try{const[r]=e.split("."),a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||!n.typ||!n.alg||t&&n.alg!==t)}catch{return!1}}function $u(e,t){return!!((t==="v4"||!t)&&Eu.test(e)||(t==="v6"||!t)&&Pu.test(e))}class Nt extends we{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Q.string){const s=this._getOrReturnCtx(t);return G(s,{code:I.invalid_type,expected:Q.string,received:s.parsedType}),pe}const a=new He;let n;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(n=this._getOrReturnCtx(t,n),G(n,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")t.data.length>s.value&&(n=this._getOrReturnCtx(t,n),G(n,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,l=t.data.length<s.value;(i||l)&&(n=this._getOrReturnCtx(t,n),i?G(n,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&G(n,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")Cu.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"email",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")gn||(gn=new RegExp(Mu,"u")),gn.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"emoji",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")ku.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"uuid",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")ju.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"nanoid",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")bu.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"cuid",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")_u.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"cuid2",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")wu.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"ulid",code:I.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),G(n,{validation:"url",code:I.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"regex",code:I.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(t,n),G(n,{code:I.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(n=this._getOrReturnCtx(t,n),G(n,{code:I.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(n=this._getOrReturnCtx(t,n),G(n,{code:I.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?Fu(s).test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:I.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?Ou.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:I.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?Iu(s).test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:I.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?Su.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"duration",code:I.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?Uu(t.data,s.version)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"ip",code:I.invalid_string,message:s.message}),a.dirty()):s.kind==="jwt"?Lu(t.data,s.alg)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"jwt",code:I.invalid_string,message:s.message}),a.dirty()):s.kind==="cidr"?$u(t.data,s.version)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"cidr",code:I.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?Tu.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"base64",code:I.invalid_string,message:s.message}),a.dirty()):s.kind==="base64url"?Ru.test(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{validation:"base64url",code:I.invalid_string,message:s.message}),a.dirty()):je.assertNever(s);return{status:a.value,value:t.data}}_regex(t,r,a){return this.refinement(n=>t.test(n),{validation:r,code:I.invalid_string,...se.errToObj(a)})}_addCheck(t){return new Nt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...se.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...se.errToObj(t)})}datetime(t){var r,a;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(a=t==null?void 0:t.local)!==null&&a!==void 0?a:!1,...se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...se.errToObj(r)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new Nt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nt.create=e=>{var t;return new Nt({checks:[],typeName:he.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ye(e)})};function Vu(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=r>a?r:a,s=parseInt(e.toFixed(n).replace(".","")),i=parseInt(t.toFixed(n).replace(".",""));return s%i/Math.pow(10,n)}class ar extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Q.number){const s=this._getOrReturnCtx(t);return G(s,{code:I.invalid_type,expected:Q.number,received:s.parsedType}),pe}let a;const n=new He;for(const s of this._def.checks)s.kind==="int"?je.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),G(a,{code:I.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(a=this._getOrReturnCtx(t,a),G(a,{code:I.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(a=this._getOrReturnCtx(t,a),G(a,{code:I.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?Vu(t.data,s.value)!==0&&(a=this._getOrReturnCtx(t,a),G(a,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),G(a,{code:I.not_finite,message:s.message}),n.dirty()):je.assertNever(s);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,a,n){return new ar({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:se.toString(n)}]})}_addCheck(t){return new ar({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&je.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ar.create=e=>new ar({checks:[],typeName:he.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ye(e)});class nr extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Q.bigint)return this._getInvalidInput(t);let a;const n=new He;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(a=this._getOrReturnCtx(t,a),G(a,{code:I.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(a=this._getOrReturnCtx(t,a),G(a,{code:I.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),G(a,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):je.assertNever(s);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return G(r,{code:I.invalid_type,expected:Q.bigint,received:r.parsedType}),pe}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,a,n){return new nr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:se.toString(n)}]})}_addCheck(t){return new nr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}nr.create=e=>{var t;return new nr({checks:[],typeName:he.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ye(e)})};class Aa extends we{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Q.boolean){const a=this._getOrReturnCtx(t);return G(a,{code:I.invalid_type,expected:Q.boolean,received:a.parsedType}),pe}return Je(t.data)}}Aa.create=e=>new Aa({typeName:he.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ye(e)});class Sr extends we{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Q.date){const s=this._getOrReturnCtx(t);return G(s,{code:I.invalid_type,expected:Q.date,received:s.parsedType}),pe}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return G(s,{code:I.invalid_date}),pe}const a=new He;let n;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(n=this._getOrReturnCtx(t,n),G(n,{code:I.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(n=this._getOrReturnCtx(t,n),G(n,{code:I.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):je.assertNever(s);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sr({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Sr.create=e=>new Sr({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:he.ZodDate,...ye(e)});class Wn extends we{_parse(t){if(this._getType(t)!==Q.symbol){const a=this._getOrReturnCtx(t);return G(a,{code:I.invalid_type,expected:Q.symbol,received:a.parsedType}),pe}return Je(t.data)}}Wn.create=e=>new Wn({typeName:he.ZodSymbol,...ye(e)});class Ea extends we{_parse(t){if(this._getType(t)!==Q.undefined){const a=this._getOrReturnCtx(t);return G(a,{code:I.invalid_type,expected:Q.undefined,received:a.parsedType}),pe}return Je(t.data)}}Ea.create=e=>new Ea({typeName:he.ZodUndefined,...ye(e)});class Da extends we{_parse(t){if(this._getType(t)!==Q.null){const a=this._getOrReturnCtx(t);return G(a,{code:I.invalid_type,expected:Q.null,received:a.parsedType}),pe}return Je(t.data)}}Da.create=e=>new Da({typeName:he.ZodNull,...ye(e)});class Jr extends we{constructor(){super(...arguments),this._any=!0}_parse(t){return Je(t.data)}}Jr.create=e=>new Jr({typeName:he.ZodAny,...ye(e)});class wr extends we{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Je(t.data)}}wr.create=e=>new wr({typeName:he.ZodUnknown,...ye(e)});class Ht extends we{_parse(t){const r=this._getOrReturnCtx(t);return G(r,{code:I.invalid_type,expected:Q.never,received:r.parsedType}),pe}}Ht.create=e=>new Ht({typeName:he.ZodNever,...ye(e)});class zn extends we{_parse(t){if(this._getType(t)!==Q.undefined){const a=this._getOrReturnCtx(t);return G(a,{code:I.invalid_type,expected:Q.void,received:a.parsedType}),pe}return Je(t.data)}}zn.create=e=>new zn({typeName:he.ZodVoid,...ye(e)});class Mt extends we{_parse(t){const{ctx:r,status:a}=this._processInputParams(t),n=this._def;if(r.parsedType!==Q.array)return G(r,{code:I.invalid_type,expected:Q.array,received:r.parsedType}),pe;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(i||l)&&(G(r,{code:i?I.too_big:I.too_small,minimum:l?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(G(r,{code:I.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(G(r,{code:I.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>n.type._parseAsync(new At(r,i,r.path,l)))).then(i=>He.mergeArray(a,i));const s=[...r.data].map((i,l)=>n.type._parseSync(new At(r,i,r.path,l)));return He.mergeArray(a,s)}get element(){return this._def.type}min(t,r){return new Mt({...this._def,minLength:{value:t,message:se.toString(r)}})}max(t,r){return new Mt({...this._def,maxLength:{value:t,message:se.toString(r)}})}length(t,r){return new Mt({...this._def,exactLength:{value:t,message:se.toString(r)}})}nonempty(t){return this.min(1,t)}}Mt.create=(e,t)=>new Mt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...ye(t)});function _r(e){if(e instanceof Re){const t={};for(const r in e.shape){const a=e.shape[r];t[r]=Rt.create(_r(a))}return new Re({...e._def,shape:()=>t})}else return e instanceof Mt?new Mt({...e._def,type:_r(e.element)}):e instanceof Rt?Rt.create(_r(e.unwrap())):e instanceof or?or.create(_r(e.unwrap())):e instanceof It?It.create(e.items.map(t=>_r(t))):e}class Re extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=je.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Q.object){const d=this._getOrReturnCtx(t);return G(d,{code:I.invalid_type,expected:Q.object,received:d.parsedType}),pe}const{status:a,ctx:n}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ht&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||l.push(d);const c=[];for(const d of i){const u=s[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new At(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Ht){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(G(n,{code:I.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new At(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,g=await u.value;d.push({key:h,value:g,alwaysSet:u.alwaysSet})}return d}).then(d=>He.mergeObjectSync(a,d)):He.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new Re({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,a)=>{var n,s,i,l;const c=(i=(s=(n=this._def).errorMap)===null||s===void 0?void 0:s.call(n,r,a).message)!==null&&i!==void 0?i:a.defaultError;return r.code==="unrecognized_keys"?{message:(l=se.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Re({...this._def,unknownKeys:"strip"})}passthrough(){return new Re({...this._def,unknownKeys:"passthrough"})}extend(t){return new Re({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Re({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:he.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Re({...this._def,catchall:t})}pick(t){const r={};return je.objectKeys(t).forEach(a=>{t[a]&&this.shape[a]&&(r[a]=this.shape[a])}),new Re({...this._def,shape:()=>r})}omit(t){const r={};return je.objectKeys(this.shape).forEach(a=>{t[a]||(r[a]=this.shape[a])}),new Re({...this._def,shape:()=>r})}deepPartial(){return _r(this)}partial(t){const r={};return je.objectKeys(this.shape).forEach(a=>{const n=this.shape[a];t&&!t[a]?r[a]=n:r[a]=n.optional()}),new Re({...this._def,shape:()=>r})}required(t){const r={};return je.objectKeys(this.shape).forEach(a=>{if(t&&!t[a])r[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof Rt;)s=s._def.innerType;r[a]=s}}),new Re({...this._def,shape:()=>r})}keyof(){return hi(je.objectKeys(this.shape))}}Re.create=(e,t)=>new Re({shape:()=>e,unknownKeys:"strip",catchall:Ht.create(),typeName:he.ZodObject,...ye(t)});Re.strictCreate=(e,t)=>new Re({shape:()=>e,unknownKeys:"strict",catchall:Ht.create(),typeName:he.ZodObject,...ye(t)});Re.lazycreate=(e,t)=>new Re({shape:e,unknownKeys:"strip",catchall:Ht.create(),typeName:he.ZodObject,...ye(t)});class Pa extends we{_parse(t){const{ctx:r}=this._processInputParams(t),a=this._def.options;function n(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new dt(l.ctx.common.issues));return G(r,{code:I.invalid_union,unionErrors:i}),pe}if(r.common.async)return Promise.all(a.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let s;const i=[];for(const c of a){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(c=>new dt(c));return G(r,{code:I.invalid_union,unionErrors:l}),pe}}get options(){return this._def.options}}Pa.create=(e,t)=>new Pa({options:e,typeName:he.ZodUnion,...ye(t)});const Tt=e=>e instanceof Oa?Tt(e.schema):e instanceof Ft?Tt(e.innerType()):e instanceof Ia?[e.value]:e instanceof sr?e.options:e instanceof Fa?je.objectValues(e.enum):e instanceof Ua?Tt(e._def.innerType):e instanceof Ea?[void 0]:e instanceof Da?[null]:e instanceof Rt?[void 0,...Tt(e.unwrap())]:e instanceof or?[null,...Tt(e.unwrap())]:e instanceof pi||e instanceof $a?Tt(e.unwrap()):e instanceof La?Tt(e._def.innerType):[];class hs extends we{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.object)return G(r,{code:I.invalid_type,expected:Q.object,received:r.parsedType}),pe;const a=this.discriminator,n=r.data[a],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(G(r,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,a){const n=new Map;for(const s of r){const i=Tt(s.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of i){if(n.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);n.set(l,s)}}return new hs({typeName:he.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:n,...ye(a)})}}function Yn(e,t){const r=Yt(e),a=Yt(t);if(e===t)return{valid:!0,data:e};if(r===Q.object&&a===Q.object){const n=je.objectKeys(t),s=je.objectKeys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of s){const c=Yn(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===Q.array&&a===Q.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],c=Yn(i,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===Q.date&&a===Q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ta extends we{_parse(t){const{status:r,ctx:a}=this._processInputParams(t),n=(s,i)=>{if(po(s)||po(i))return pe;const l=Yn(s.value,i.value);return l.valid?((go(s)||go(i))&&r.dirty(),{status:r.value,value:l.data}):(G(a,{code:I.invalid_intersection_types}),pe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,i])=>n(s,i)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Ta.create=(e,t,r)=>new Ta({left:e,right:t,typeName:he.ZodIntersection,...ye(r)});class It extends we{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Q.array)return G(a,{code:I.invalid_type,expected:Q.array,received:a.parsedType}),pe;if(a.data.length<this._def.items.length)return G(a,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pe;!this._def.rest&&a.data.length>this._def.items.length&&(G(a,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...a.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new At(a,i,a.path,l)):null}).filter(i=>!!i);return a.common.async?Promise.all(s).then(i=>He.mergeArray(r,i)):He.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new It({...this._def,rest:t})}}It.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new It({items:e,typeName:he.ZodTuple,rest:null,...ye(t)})};class Ra extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Q.object)return G(a,{code:I.invalid_type,expected:Q.object,received:a.parsedType}),pe;const n=[],s=this._def.keyType,i=this._def.valueType;for(const l in a.data)n.push({key:s._parse(new At(a,l,a.path,l)),value:i._parse(new At(a,a.data[l],a.path,l)),alwaysSet:l in a.data});return a.common.async?He.mergeObjectAsync(r,n):He.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(t,r,a){return r instanceof we?new Ra({keyType:t,valueType:r,typeName:he.ZodRecord,...ye(a)}):new Ra({keyType:Nt.create(),valueType:t,typeName:he.ZodRecord,...ye(r)})}}class Gn extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Q.map)return G(a,{code:I.invalid_type,expected:Q.map,received:a.parsedType}),pe;const n=this._def.keyType,s=this._def.valueType,i=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new At(a,l,a.path,[d,"key"])),value:s._parse(new At(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return pe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return pe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}Gn.create=(e,t,r)=>new Gn({valueType:t,keyType:e,typeName:he.ZodMap,...ye(r)});class Cr extends we{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Q.set)return G(a,{code:I.invalid_type,expected:Q.set,received:a.parsedType}),pe;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(G(a,{code:I.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(G(a,{code:I.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const s=this._def.valueType;function i(c){const d=new Set;for(const u of c){if(u.status==="aborted")return pe;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...a.data.values()].map((c,d)=>s._parse(new At(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Cr({...this._def,minSize:{value:t,message:se.toString(r)}})}max(t,r){return new Cr({...this._def,maxSize:{value:t,message:se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Cr.create=(e,t)=>new Cr({valueType:e,minSize:null,maxSize:null,typeName:he.ZodSet,...ye(t)});class qr extends we{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.function)return G(r,{code:I.invalid_type,expected:Q.function,received:r.parsedType}),pe;function a(l,c){return Bn({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vn(),Kr].filter(d=>!!d),issueData:{code:I.invalid_arguments,argumentsError:c}})}function n(l,c){return Bn({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vn(),Kr].filter(d=>!!d),issueData:{code:I.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Xr){const l=this;return Je(async function(...c){const d=new dt([]),u=await l._def.args.parseAsync(c,s).catch(y=>{throw d.addIssue(a(c,y)),d}),h=await Reflect.apply(i,this,u);return await l._def.returns._def.type.parseAsync(h,s).catch(y=>{throw d.addIssue(n(h,y)),d})})}else{const l=this;return Je(function(...c){const d=l._def.args.safeParse(c,s);if(!d.success)throw new dt([a(c,d.error)]);const u=Reflect.apply(i,this,d.data),h=l._def.returns.safeParse(u,s);if(!h.success)throw new dt([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new qr({...this._def,args:It.create(t).rest(wr.create())})}returns(t){return new qr({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,a){return new qr({args:t||It.create([]).rest(wr.create()),returns:r||wr.create(),typeName:he.ZodFunction,...ye(a)})}}class Oa extends we{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Oa.create=(e,t)=>new Oa({getter:e,typeName:he.ZodLazy,...ye(t)});class Ia extends we{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return G(r,{received:r.data,code:I.invalid_literal,expected:this._def.value}),pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ia.create=(e,t)=>new Ia({value:e,typeName:he.ZodLiteral,...ye(t)});function hi(e,t){return new sr({values:e,typeName:he.ZodEnum,...ye(t)})}class sr extends we{constructor(){super(...arguments),Br.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),a=this._def.values;return G(r,{expected:je.joinValues(a),received:r.parsedType,code:I.invalid_type}),pe}if(Ma(this,Br)||ui(this,Br,new Set(this._def.values)),!Ma(this,Br).has(t.data)){const r=this._getOrReturnCtx(t),a=this._def.values;return G(r,{received:r.data,code:I.invalid_enum_value,options:a}),pe}return Je(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return sr.create(t,{...this._def,...r})}exclude(t,r=this._def){return sr.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}Br=new WeakMap;sr.create=hi;class Fa extends we{constructor(){super(...arguments),Wr.set(this,void 0)}_parse(t){const r=je.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==Q.string&&a.parsedType!==Q.number){const n=je.objectValues(r);return G(a,{expected:je.joinValues(n),received:a.parsedType,code:I.invalid_type}),pe}if(Ma(this,Wr)||ui(this,Wr,new Set(je.getValidEnumValues(this._def.values))),!Ma(this,Wr).has(t.data)){const n=je.objectValues(r);return G(a,{received:a.data,code:I.invalid_enum_value,options:n}),pe}return Je(t.data)}get enum(){return this._def.values}}Wr=new WeakMap;Fa.create=(e,t)=>new Fa({values:e,typeName:he.ZodNativeEnum,...ye(t)});class Xr extends we{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.promise&&r.common.async===!1)return G(r,{code:I.invalid_type,expected:Q.promise,received:r.parsedType}),pe;const a=r.parsedType===Q.promise?r.data:Promise.resolve(r.data);return Je(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xr.create=(e,t)=>new Xr({type:e,typeName:he.ZodPromise,...ye(t)});class Ft extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:a}=this._processInputParams(t),n=this._def.effect||null,s={addIssue:i=>{G(a,i),i.fatal?r.abort():r.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const i=n.transform(a.data,s);if(a.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return pe;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?pe:c.status==="dirty"||r.value==="dirty"?Vr(c.value):c});{if(r.value==="aborted")return pe;const l=this._def.schema._parseSync({data:i,path:a.path,parent:a});return l.status==="aborted"?pe:l.status==="dirty"||r.value==="dirty"?Vr(l.value):l}}if(n.type==="refinement"){const i=l=>{const c=n.refinement(l,s);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?pe:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?pe:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Nr(i))return i;const l=n.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>Nr(i)?Promise.resolve(n.transform(i.value,s)).then(l=>({status:r.value,value:l})):i);je.assertNever(n)}}Ft.create=(e,t,r)=>new Ft({schema:e,typeName:he.ZodEffects,effect:t,...ye(r)});Ft.createWithPreprocess=(e,t,r)=>new Ft({schema:t,effect:{type:"preprocess",transform:e},typeName:he.ZodEffects,...ye(r)});class Rt extends we{_parse(t){return this._getType(t)===Q.undefined?Je(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Rt.create=(e,t)=>new Rt({innerType:e,typeName:he.ZodOptional,...ye(t)});class or extends we{_parse(t){return this._getType(t)===Q.null?Je(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}or.create=(e,t)=>new or({innerType:e,typeName:he.ZodNullable,...ye(t)});class Ua extends we{_parse(t){const{ctx:r}=this._processInputParams(t);let a=r.data;return r.parsedType===Q.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ua.create=(e,t)=>new Ua({innerType:e,typeName:he.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ye(t)});class La extends we{_parse(t){const{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ca(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dt(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new dt(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}La.create=(e,t)=>new La({innerType:e,typeName:he.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ye(t)});class Hn extends we{_parse(t){if(this._getType(t)!==Q.nan){const a=this._getOrReturnCtx(t);return G(a,{code:I.invalid_type,expected:Q.nan,received:a.parsedType}),pe}return{status:"valid",value:t.data}}}Hn.create=e=>new Hn({typeName:he.ZodNaN,...ye(e)});class pi extends we{_parse(t){const{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class Qa extends we{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?pe:s.status==="dirty"?(r.dirty(),Vr(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?pe:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,r){return new Qa({in:t,out:r,typeName:he.ZodPipeline})}}class $a extends we{_parse(t){const r=this._def.innerType._parse(t),a=n=>(Nr(n)&&(n.value=Object.freeze(n.value)),n);return Ca(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}}$a.create=(e,t)=>new $a({innerType:e,typeName:he.ZodReadonly,...ye(t)});function vo(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Bu(e,t={},r){return e?Jr.create().superRefine((a,n)=>{var s,i;const l=e(a);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=vo(t,a),g=(u=(d=h.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...h,fatal:g})}});if(!l){const c=vo(t,a),d=(i=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&i!==void 0?i:!0;n.addIssue({code:"custom",...c,fatal:d})}}):Jr.create()}Re.lazycreate;var he;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(he||(he={}));const gi=(e,t={message:`Input not instance of ${e.name}`})=>Bu(r=>r instanceof e,t),ge=Nt.create;ar.create;Hn.create;nr.create;const yn=Aa.create;Sr.create;Wn.create;Ea.create;Da.create;Jr.create;wr.create;Ht.create;zn.create;Mt.create;const ot=Re.create;Re.strictCreate;Pa.create;hs.create;Ta.create;It.create;Ra.create;Gn.create;Cr.create;qr.create;Oa.create;const Wu=Ia.create,ps=sr.create;Fa.create;Xr.create;Ft.create;Rt.create;or.create;Ft.createWithPreprocess;Qa.create;const Le={string:e=>Nt.create({...e,coerce:!0}),number:e=>ar.create({...e,coerce:!0}),boolean:e=>Aa.create({...e,coerce:!0}),bigint:e=>nr.create({...e,coerce:!0}),date:e=>Sr.create({...e,coerce:!0})},Ve=[];for(let e=0;e<256;++e)Ve.push((e+256).toString(16).slice(1));function zu(e,t=0){return(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase()}let vn;const Yu=new Uint8Array(16);function Gu(){if(!vn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vn=crypto.getRandomValues.bind(crypto)}return vn(Yu)}const Hu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xo={randomUUID:Hu};function na(e,t,r){var n;if(xo.randomUUID&&!e)return xo.randomUUID();e=e||{};const a=e.random??((n=e.rng)==null?void 0:n.call(e))??Gu();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,zu(a)}const qu=ot({masjidName:ge().min(1,"Nama masjid tidak boleh kosong.").max(100,"Nama masjid terlalu panjang.").optional().nullable(),masjidLogoUrl:ge().nullable().optional(),masjidAddress:ge().min(1,"Alamat masjid tidak boleh kosong.").max(255,"Alamat terlalu panjang.").optional().nullable(),masjidNameColor:ge().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Format warna heksadesimal tidak valid (contoh: #RRGGBB atau #RGB).").nullable().optional()}),Zu=()=>{const{settings:e,isLoadingSettings:t,refetchSettings:r}=Er(),a=Qe({resolver:et(qu),defaultValues:{masjidName:"",masjidLogoUrl:"",masjidAddress:"",masjidNameColor:"#34D399"}}),{handleSubmit:n,register:s,setValue:i,formState:{isSubmitting:l,errors:c}}=a,[d,u]=m.useState(null);m.useEffect(()=>{!t&&e&&(i("masjidName",e.masjid_name||""),i("masjidLogoUrl",e.masjid_logo_url||""),u(e.masjid_logo_url),i("masjidAddress",e.masjid_address||""),i("masjidNameColor",e.masjid_name_color||"#34D399"))},[e,t,i]);const h=async y=>{var j;const k=(j=y.target.files)==null?void 0:j[0];if(!k)return;const p=k.name.split(".").pop(),S=`logos/${`${na()}.${p}`}`,x=P.loading("Mengunggah logo masjid: 0%"),M=d;try{const{data:N,error:R}=await V.storage.from("images").upload(S,k,{cacheControl:"3600",upsert:!1,onUploadProgress:A=>{const B=Math.round(A.loaded*100/A.total);console.log(`Upload progress for logo: ${B}%`),P.loading(`Mengunggah logo masjid: ${B}%`,{id:x})}});if(R)throw R;const{data:b}=V.storage.from("images").getPublicUrl(S);if(b!=null&&b.publicUrl){if(i("masjidLogoUrl",b.publicUrl),u(b.publicUrl),P.loading("Mengunggah logo masjid: 100%",{id:x}),P.success("Logo masjid berhasil diunggah!",{id:x}),P.info("Untuk performa terbaik di perangkat rendah, pastikan ukuran file gambar dioptimalkan (misal: format WebP, resolusi sesuai kebutuhan)."),M&&M!==b.publicUrl)try{const A=M.split("/"),B=A.indexOf("public"),te=A.slice(B+2).join("/"),{error:le}=await V.storage.from("images").remove([te]);le?(console.warn("Gagal menghapus logo masjid lama dari storage:",le),P.warning("Gagal menghapus logo masjid lama.")):console.log("Logo masjid lama berhasil dihapus.")}catch(A){console.warn("Error parsing old logo path for deletion:",A)}}else throw new Error("Gagal mendapatkan URL publik logo.")}catch(N){console.error("Error uploading logo:",N),P.error(`Gagal mengunggah logo: ${N.message}`,{id:x})}},g=async y=>{const{error:k}=await V.from("app_settings").upsert({id:1,masjid_name:y.masjidName||null,masjid_logo_url:y.masjidLogoUrl||null,masjid_address:y.masjidAddress||null,masjid_name_color:y.masjidNameColor||null},{onConflict:"id"});k?(console.error("Error saving masjid info settings:",k),P.error("Gagal menyimpan informasi masjid.")):(P.success("Informasi masjid berhasil disimpan!"),r())};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Informasi Masjid"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Atur nama, logo, dan alamat masjid yang akan ditampilkan di layar utama."}),o.jsxs("form",{onSubmit:n(g),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"masjidName",className:"text-gray-300",children:"Nama Masjid"}),o.jsx(ve,{id:"masjidName",...s("masjidName"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: Masjid Agung Al-Falah"}),c.masjidName&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.masjidName.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"masjidLogoUpload",className:"text-gray-300",children:"Unggah Logo Masjid (Opsional)"}),o.jsx(ve,{id:"masjidLogoUpload",type:"file",accept:"image/*",onChange:h,className:"bg-gray-700 border-gray-600 text-white mt-1 file:text-white file:bg-blue-600 file:hover:bg-blue-700 file:border-none file:rounded-md file:px-3 file:py-1"}),d&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Logo saat ini:"}),o.jsx("img",{src:d,alt:"Current Masjid Logo",className:"max-w-full h-24 object-contain rounded-md border border-gray-600"})]}),c.masjidLogoUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.masjidLogoUrl.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"masjidAddress",className:"text-gray-300",children:"Alamat Masjid"}),o.jsx(Ja,{id:"masjidAddress",...s("masjidAddress"),className:"bg-gray-700 border-gray-600 text-white mt-1 min-h-[80px]",placeholder:"Contoh: Jl. Raya No. 1, Kota Jakarta"}),c.masjidAddress&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.masjidAddress.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"masjidNameColor",className:"text-gray-300",children:"Warna Font Nama Masjid (Hex)"}),o.jsx(ve,{id:"masjidNameColor",type:"text",...s("masjidNameColor"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: #FFFFFF atau #34D399"}),c.masjidNameColor&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.masjidNameColor.message}),a.watch("masjidNameColor")&&o.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full border border-gray-600",style:{backgroundColor:a.watch("masjidNameColor")||"#34D399"}}),o.jsx("span",{className:"text-gray-400 text-sm",children:"Pratinjau Warna"})]})]}),o.jsx(ue,{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:l?"Menyimpan...":"Simpan Informasi Masjid"})]})]})]})};var xn=0;function en(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bo()),document.body.insertAdjacentElement("beforeend",e[1]??bo()),xn++,()=>{xn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xn--}},[])}function bo(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bn="focusScope.autoFocusOnMount",_n="focusScope.autoFocusOnUnmount",_o={bubbles:!1,cancelable:!0},Ku="FocusScope",sa=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...i}=e,[l,c]=m.useState(null),d=jr(n),u=jr(s),h=m.useRef(null),g=Te(t,p=>c(p)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(a){let p=function(M){if(y.paused||!l)return;const j=M.target;l.contains(j)?h.current=j:zt(h.current,{select:!0})},w=function(M){if(y.paused||!l)return;const j=M.relatedTarget;j!==null&&(l.contains(j)||zt(h.current,{select:!0}))},S=function(M){if(document.activeElement===document.body)for(const N of M)N.removedNodes.length>0&&zt(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const x=new MutationObserver(S);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),x.disconnect()}}},[a,l,y.paused]),m.useEffect(()=>{if(l){ko.add(y);const p=document.activeElement;if(!l.contains(p)){const S=new CustomEvent(bn,_o);l.addEventListener(bn,d),l.dispatchEvent(S),S.defaultPrevented||(Ju(rf(yi(l)),{select:!0}),document.activeElement===p&&zt(l))}return()=>{l.removeEventListener(bn,d),setTimeout(()=>{const S=new CustomEvent(_n,_o);l.addEventListener(_n,u),l.dispatchEvent(S),S.defaultPrevented||zt(p??document.body,{select:!0}),l.removeEventListener(_n,u),ko.remove(y)},0)}}},[l,d,u,y]);const k=m.useCallback(p=>{if(!r&&!a||y.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,S=document.activeElement;if(w&&S){const x=p.currentTarget,[M,j]=Xu(x);M&&j?!p.shiftKey&&S===j?(p.preventDefault(),r&&zt(M,{select:!0})):p.shiftKey&&S===M&&(p.preventDefault(),r&&zt(j,{select:!0})):S===x&&p.preventDefault()}},[r,a,y.paused]);return o.jsx(Me.div,{tabIndex:-1,...i,ref:g,onKeyDown:k})});sa.displayName=Ku;function Ju(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(zt(a,{select:t}),document.activeElement!==r)return}function Xu(e){const t=yi(e),r=wo(t,e),a=wo(t.reverse(),e);return[r,a]}function yi(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wo(e,t){for(const r of e)if(!Qu(r,{upTo:t}))return r}function Qu(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ef(e){return e instanceof HTMLInputElement&&"select"in e}function zt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ef(e)&&t&&e.select()}}var ko=tf();function tf(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jo(e,t),e.unshift(t)},remove(t){var r;e=jo(e,t),(r=e[0])==null||r.resume()}}}function jo(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function rf(e){return e.filter(t=>t.tagName!=="A")}function vi(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var af=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yr=new WeakMap,pa=new WeakMap,ga={},wn=0,xi=function(e){return e&&(e.host||xi(e.parentNode))},nf=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=xi(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sf=function(e,t,r,a){var n=nf(t,Array.isArray(e)?e:[e]);ga[r]||(ga[r]=new WeakMap);var s=ga[r],i=[],l=new Set,c=new Set(n),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};n.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(l.has(g))u(g);else try{var y=g.getAttribute(a),k=y!==null&&y!=="false",p=(yr.get(g)||0)+1,w=(s.get(g)||0)+1;yr.set(g,p),s.set(g,w),i.push(g),p===1&&k&&pa.set(g,!0),w===1&&g.setAttribute(r,"true"),k||g.setAttribute(a,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return u(t),l.clear(),wn++,function(){i.forEach(function(h){var g=yr.get(h)-1,y=s.get(h)-1;yr.set(h,g),s.set(h,y),g||(pa.has(h)||h.removeAttribute(a),pa.delete(h)),y||h.removeAttribute(r)}),wn--,wn||(yr=new WeakMap,yr=new WeakMap,pa=new WeakMap,ga={})}},tn=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=af(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live]"))),sf(a,n,r,"aria-hidden")):function(){return null}},kt=function(){return kt=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},kt.apply(this,arguments)};function bi(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function of(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,s;a<n;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}var ba="right-scroll-bar-position",_a="width-before-scroll-bar",lf="with-scroll-bars-hidden",cf="--removed-body-scroll-bar-size";function kn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function df(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=t,r.facade}var uf=typeof window<"u"?m.useLayoutEffect:m.useEffect,No=new WeakMap;function ff(e,t){var r=df(null,function(a){return e.forEach(function(n){return kn(n,a)})});return uf(function(){var a=No.get(r);if(a){var n=new Set(a),s=new Set(e),i=r.current;n.forEach(function(l){s.has(l)||kn(l,null)}),s.forEach(function(l){n.has(l)||kn(l,i)})}No.set(r,e)},[e]),r}function mf(e){return e}function hf(e,t){t===void 0&&(t=mf);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,a);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(a=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){a=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var u=i;i=[],u.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),r}}}};return n}function pf(e){e===void 0&&(e={});var t=hf(null);return t.options=kt({async:!0,ssr:!1},e),t}var _i=function(e){var t=e.sideCar,r=bi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return m.createElement(a,kt({},r))};_i.isSideCarExport=!0;function gf(e,t){return e.useMedium(t),_i}var wi=pf(),jn=function(){},rn=m.forwardRef(function(e,t){var r=m.useRef(null),a=m.useState({onScrollCapture:jn,onWheelCapture:jn,onTouchMoveCapture:jn}),n=a[0],s=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,g=e.sideCar,y=e.noIsolation,k=e.inert,p=e.allowPinchZoom,w=e.as,S=w===void 0?"div":w,x=e.gapMode,M=bi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=g,N=ff([r,t]),R=kt(kt({},M),n);return m.createElement(m.Fragment,null,u&&m.createElement(j,{sideCar:wi,removeScrollBar:d,shards:h,noIsolation:y,inert:k,setCallbacks:s,allowPinchZoom:!!p,lockRef:r,gapMode:x}),i?m.cloneElement(m.Children.only(l),kt(kt({},R),{ref:N})):m.createElement(S,kt({},R,{className:c,ref:N}),l))});rn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rn.classNames={fullWidth:_a,zeroRight:ba};var yf=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yf();return t&&e.setAttribute("nonce",t),e}function xf(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bf(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _f=function(){var e=0,t=null;return{add:function(r){e==0&&(t=vf())&&(xf(t,r),bf(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wf=function(){var e=_f();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ki=function(){var e=wf(),t=function(r){var a=r.styles,n=r.dynamic;return e(a,n),null};return t},kf={left:0,top:0,right:0,gap:0},Nn=function(e){return parseInt(e||"",10)||0},jf=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[Nn(r),Nn(a),Nn(n)]},Nf=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kf;var t=jf(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},Sf=ki(),kr="data-scroll-locked",Cf=function(e,t,r,a){var n=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lf,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(kr,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ba,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(_a,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(ba," .").concat(ba,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(_a," .").concat(_a,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(kr,`] {
    `).concat(cf,": ").concat(l,`px;
  }
`)},So=function(){var e=parseInt(document.body.getAttribute(kr)||"0",10);return isFinite(e)?e:0},Mf=function(){m.useEffect(function(){return document.body.setAttribute(kr,(So()+1).toString()),function(){var e=So()-1;e<=0?document.body.removeAttribute(kr):document.body.setAttribute(kr,e.toString())}},[])},Af=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;Mf();var s=m.useMemo(function(){return Nf(n)},[n]);return m.createElement(Sf,{styles:Cf(s,!t,n,r?"":"!important")})},qn=!1;if(typeof window<"u")try{var ya=Object.defineProperty({},"passive",{get:function(){return qn=!0,!0}});window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{qn=!1}var vr=qn?{passive:!1}:!1,Ef=function(e){return e.tagName==="TEXTAREA"},ji=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ef(e)&&r[t]==="visible")},Df=function(e){return ji(e,"overflowY")},Pf=function(e){return ji(e,"overflowX")},Co=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=Ni(e,a);if(n){var s=Si(e,a),i=s[1],l=s[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},Tf=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Rf=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},Ni=function(e,t){return e==="v"?Df(t):Pf(t)},Si=function(e,t){return e==="v"?Tf(t):Rf(t)},Of=function(e,t){return e==="h"&&t==="rtl"?-1:1},If=function(e,t,r,a,n){var s=Of(e,window.getComputedStyle(t).direction),i=s*a,l=r.target,c=t.contains(l),d=!1,u=i>0,h=0,g=0;do{var y=Si(e,l),k=y[0],p=y[1],w=y[2],S=p-w-s*k;(k||S)&&Ni(e,l)&&(h+=S,g+=k),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(h)<1||!u&&Math.abs(g)<1)&&(d=!0),d},va=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Mo=function(e){return[e.deltaX,e.deltaY]},Ao=function(e){return e&&"current"in e?e.current:e},Ff=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uf=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lf=0,xr=[];function $f(e){var t=m.useRef([]),r=m.useRef([0,0]),a=m.useRef(),n=m.useState(Lf++)[0],s=m.useState(ki)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var p=of([e.lockRef.current],(e.shards||[]).map(Ao),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var S=va(p),x=r.current,M="deltaX"in p?p.deltaX:x[0]-S[0],j="deltaY"in p?p.deltaY:x[1]-S[1],N,R=p.target,b=Math.abs(M)>Math.abs(j)?"h":"v";if("touches"in p&&b==="h"&&R.type==="range")return!1;var A=Co(b,R);if(!A)return!0;if(A?N=b:(N=b==="v"?"h":"v",A=Co(b,R)),!A)return!1;if(!a.current&&"changedTouches"in p&&(M||j)&&(a.current=N),!N)return!0;var B=a.current||N;return If(B,w,p,B==="h"?M:j)},[]),c=m.useCallback(function(p){var w=p;if(!(!xr.length||xr[xr.length-1]!==s)){var S="deltaY"in w?Mo(w):va(w),x=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&Ff(N.delta,S)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var M=(i.current.shards||[]).map(Ao).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=M.length>0?l(w,M[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(p,w,S,x){var M={name:p,delta:w,target:S,should:x,shadowParent:Vf(S)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(j){return j!==M})},1)},[]),u=m.useCallback(function(p){r.current=va(p),a.current=void 0},[]),h=m.useCallback(function(p){d(p.type,Mo(p),p.target,l(p,e.lockRef.current))},[]),g=m.useCallback(function(p){d(p.type,va(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return xr.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,vr),document.addEventListener("touchmove",c,vr),document.addEventListener("touchstart",u,vr),function(){xr=xr.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,vr),document.removeEventListener("touchmove",c,vr),document.removeEventListener("touchstart",u,vr)}},[]);var y=e.removeScrollBar,k=e.inert;return m.createElement(m.Fragment,null,k?m.createElement(s,{styles:Uf(n)}):null,y?m.createElement(Af,{gapMode:e.gapMode}):null)}function Vf(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Bf=gf(wi,$f);var oa=m.forwardRef(function(e,t){return m.createElement(rn,kt({},e,{ref:t,sideCar:Bf}))});oa.classNames=rn.classNames;var Wf=[" ","Enter","ArrowUp","ArrowDown"],zf=[" ","Enter"],ia="Select",[an,nn,Yf]=is(ia),[Rr,Hv]=dr(ia,[Yf,Dr]),sn=Dr(),[Gf,Kt]=Rr(ia),[Hf,qf]=Rr(ia),Ci=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:n,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:g,required:y,form:k}=e,p=sn(t),[w,S]=m.useState(null),[x,M]=m.useState(null),[j,N]=m.useState(!1),R=ss(d),[b=!1,A]=rr({prop:a,defaultProp:n,onChange:s}),[B,te]=rr({prop:i,defaultProp:l,onChange:c}),le=m.useRef(null),ee=w?k||!!w.closest("form"):!0,[q,ce]=m.useState(new Set),fe=Array.from(q).map(ie=>ie.props.value).join(";");return o.jsx(os,{...p,children:o.jsxs(Gf,{required:y,scope:t,trigger:w,onTriggerChange:S,valueNode:x,onValueNodeChange:M,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ct(),value:B,onValueChange:te,open:b,onOpenChange:A,dir:R,triggerPointerDownPosRef:le,disabled:g,children:[o.jsx(an.Provider,{scope:t,children:o.jsx(Hf,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(ie=>{ce(D=>new Set(D).add(ie))},[]),onNativeOptionRemove:m.useCallback(ie=>{ce(D=>{const O=new Set(D);return O.delete(ie),O})},[]),children:r})}),ee?o.jsxs(Xi,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:B,onChange:ie=>te(ie.target.value),disabled:g,form:k,children:[B===void 0?o.jsx("option",{value:""}):null,Array.from(q)]},fe):null]})})};Ci.displayName=ia;var Mi="SelectTrigger",Ai=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...n}=e,s=sn(r),i=Kt(Mi,r),l=i.disabled||a,c=Te(t,i.onTriggerChange),d=nn(r),u=m.useRef("touch"),[h,g,y]=Qi(p=>{const w=d().filter(M=>!M.disabled),S=w.find(M=>M.value===i.value),x=el(w,p,S);x!==void 0&&i.onValueChange(x.value)}),k=p=>{l||(i.onOpenChange(!0),y()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Ha,{asChild:!0,...s,children:o.jsx(Me.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ji(i.value)?"":void 0,...n,ref:c,onClick:oe(n.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&k(p)}),onPointerDown:oe(n.onPointerDown,p=>{u.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(k(p),p.preventDefault())}),onKeyDown:oe(n.onKeyDown,p=>{const w=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(w&&p.key===" ")&&Wf.includes(p.key)&&(k(),p.preventDefault())})})})});Ai.displayName=Mi;var Ei="SelectValue",Di=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,children:s,placeholder:i="",...l}=e,c=Kt(Ei,r),{onValueNodeHasChildrenChange:d}=c,u=s!==void 0,h=Te(t,c.onValueNodeChange);return Ot(()=>{d(u)},[d,u]),o.jsx(Me.span,{...l,ref:h,style:{pointerEvents:"none"},children:Ji(c.value)?o.jsx(o.Fragment,{children:i}):s})});Di.displayName=Ei;var Zf="SelectIcon",Pi=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...n}=e;return o.jsx(Me.span,{"aria-hidden":!0,...n,ref:t,children:a||""})});Pi.displayName=Zf;var Kf="SelectPortal",Ti=e=>o.jsx(qa,{asChild:!0,...e});Ti.displayName=Kf;var ir="SelectContent",Ri=m.forwardRef((e,t)=>{const r=Kt(ir,e.__scopeSelect),[a,n]=m.useState();if(Ot(()=>{n(new DocumentFragment)},[]),!r.open){const s=a;return s?zo.createPortal(o.jsx(Oi,{scope:e.__scopeSelect,children:o.jsx(an.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(Ii,{...e,ref:t})});Ri.displayName=ir;var mt=10,[Oi,Jt]=Rr(ir),Jf="SelectContentImpl",Xf=Za("SelectContent.RemoveScroll"),Ii=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:k,hideWhenDetached:p,avoidCollisions:w,...S}=e,x=Kt(ir,r),[M,j]=m.useState(null),[N,R]=m.useState(null),b=Te(t,F=>j(F)),[A,B]=m.useState(null),[te,le]=m.useState(null),ee=nn(r),[q,ce]=m.useState(!1),fe=m.useRef(!1);m.useEffect(()=>{if(M)return tn(M)},[M]),en();const ie=m.useCallback(F=>{const[K,...z]=ee().map(ke=>ke.ref.current),[de]=z.slice(-1),Se=document.activeElement;for(const ke of F)if(ke===Se||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===K&&N&&(N.scrollTop=0),ke===de&&N&&(N.scrollTop=N.scrollHeight),ke==null||ke.focus(),document.activeElement!==Se))return},[ee,N]),D=m.useCallback(()=>ie([A,M]),[ie,A,M]);m.useEffect(()=>{q&&D()},[q,D]);const{onOpenChange:O,triggerPointerDownPosRef:J}=x;m.useEffect(()=>{if(M){let F={x:0,y:0};const K=de=>{var Se,ke;F={x:Math.abs(Math.round(de.pageX)-(((Se=J.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ke=J.current)==null?void 0:ke.y)??0))}},z=de=>{F.x<=10&&F.y<=10?de.preventDefault():M.contains(de.target)||O(!1),document.removeEventListener("pointermove",K),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",z,{capture:!0})}}},[M,O,J]),m.useEffect(()=>{const F=()=>O(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[O]);const[U,f]=Qi(F=>{const K=ee().filter(Se=>!Se.disabled),z=K.find(Se=>Se.ref.current===document.activeElement),de=el(K,F,z);de&&setTimeout(()=>de.ref.current.focus())}),_=m.useCallback((F,K,z)=>{const de=!fe.current&&!z;(x.value!==void 0&&x.value===K||de)&&(B(F),de&&(fe.current=!0))},[x.value]),$=m.useCallback(()=>M==null?void 0:M.focus(),[M]),H=m.useCallback((F,K,z)=>{const de=!fe.current&&!z;(x.value!==void 0&&x.value===K||de)&&le(F)},[x.value]),Y=a==="popper"?Zn:Fi,Z=Y===Zn?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:k,hideWhenDetached:p,avoidCollisions:w}:{};return o.jsx(Oi,{scope:r,content:M,viewport:N,onViewportChange:R,itemRefCallback:_,selectedItem:A,onItemLeave:$,itemTextRefCallback:H,focusSelectedItem:D,selectedItemText:te,position:a,isPositioned:q,searchRef:U,children:o.jsx(oa,{as:Xf,allowPinchZoom:!0,children:o.jsx(sa,{asChild:!0,trapped:x.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:oe(n,F=>{var K;(K=x.trigger)==null||K.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(Ka,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(Y,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:F=>F.preventDefault(),...S,...Z,onPlaced:()=>ce(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:oe(S.onKeyDown,F=>{const K=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!K&&F.key.length===1&&f(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let de=ee().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(F.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const Se=F.target,ke=de.indexOf(Se);de=de.slice(ke+1)}setTimeout(()=>ie(de)),F.preventDefault()}})})})})})})});Ii.displayName=Jf;var Qf="SelectItemAlignedPosition",Fi=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...n}=e,s=Kt(ir,r),i=Jt(ir,r),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Te(t,b=>u(b)),g=nn(r),y=m.useRef(!1),k=m.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:S,focusSelectedItem:x}=i,M=m.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&p&&w&&S){const b=s.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),te=S.getBoundingClientRect();if(s.dir!=="rtl"){const Se=te.left-A.left,ke=B.left-Se,it=b.left-ke,_t=b.width+it,Or=Math.max(_t,A.width),hr=window.innerWidth-mt,pr=Zs(ke,[mt,Math.max(mt,hr-Or)]);l.style.minWidth=_t+"px",l.style.left=pr+"px"}else{const Se=A.right-te.right,ke=window.innerWidth-B.right-Se,it=window.innerWidth-b.right-ke,_t=b.width+it,Or=Math.max(_t,A.width),hr=window.innerWidth-mt,pr=Zs(ke,[mt,Math.max(mt,hr-Or)]);l.style.minWidth=_t+"px",l.style.right=pr+"px"}const le=g(),ee=window.innerHeight-mt*2,q=p.scrollHeight,ce=window.getComputedStyle(d),fe=parseInt(ce.borderTopWidth,10),ie=parseInt(ce.paddingTop,10),D=parseInt(ce.borderBottomWidth,10),O=parseInt(ce.paddingBottom,10),J=fe+ie+q+O+D,U=Math.min(w.offsetHeight*5,J),f=window.getComputedStyle(p),_=parseInt(f.paddingTop,10),$=parseInt(f.paddingBottom,10),H=b.top+b.height/2-mt,Y=ee-H,Z=w.offsetHeight/2,F=w.offsetTop+Z,K=fe+ie+F,z=J-K;if(K<=H){const Se=le.length>0&&w===le[le.length-1].ref.current;l.style.bottom="0px";const ke=d.clientHeight-p.offsetTop-p.offsetHeight,it=Math.max(Y,Z+(Se?$:0)+ke+D),_t=K+it;l.style.height=_t+"px"}else{const Se=le.length>0&&w===le[0].ref.current;l.style.top="0px";const it=Math.max(H,fe+p.offsetTop+(Se?_:0)+Z)+z;l.style.height=it+"px",p.scrollTop=K-H+p.offsetTop}l.style.margin=`${mt}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=ee+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[g,s.trigger,s.valueNode,l,d,p,w,S,s.dir,a]);Ot(()=>M(),[M]);const[j,N]=m.useState();Ot(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const R=m.useCallback(b=>{b&&k.current===!0&&(M(),x==null||x(),k.current=!1)},[M,x]);return o.jsx(tm,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Me.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Fi.displayName=Qf;var em="SelectPopperPosition",Zn=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:n=mt,...s}=e,i=sn(r);return o.jsx(ls,{...i,...s,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zn.displayName=em;var[tm,gs]=Rr(ir,{}),Kn="SelectViewport",Ui=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...n}=e,s=Jt(Kn,r),i=gs(Kn,r),l=Te(t,s.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(an.Slot,{scope:r,children:o.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:oe(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&h){const y=Math.abs(c.current-u.scrollTop);if(y>0){const k=window.innerHeight-mt*2,p=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),S=Math.max(p,w);if(S<k){const x=S+y,M=Math.min(k,x),j=x-M;h.style.height=M+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Ui.displayName=Kn;var Li="SelectGroup",[rm,am]=Rr(Li),nm=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=Ct();return o.jsx(rm,{scope:r,id:n,children:o.jsx(Me.div,{role:"group","aria-labelledby":n,...a,ref:t})})});nm.displayName=Li;var $i="SelectLabel",Vi=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=am($i,r);return o.jsx(Me.div,{id:n.id,...a,ref:t})});Vi.displayName=$i;var Va="SelectItem",[sm,Bi]=Rr(Va),Wi=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:n=!1,textValue:s,...i}=e,l=Kt(Va,r),c=Jt(Va,r),d=l.value===a,[u,h]=m.useState(s??""),[g,y]=m.useState(!1),k=Te(t,x=>{var M;return(M=c.itemRefCallback)==null?void 0:M.call(c,x,a,n)}),p=Ct(),w=m.useRef("touch"),S=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(sm,{scope:r,value:a,disabled:n,textId:p,isSelected:d,onItemTextChange:m.useCallback(x=>{h(M=>M||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(an.ItemSlot,{scope:r,value:a,disabled:n,textValue:u,children:o.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:k,onFocus:oe(i.onFocus,()=>y(!0)),onBlur:oe(i.onBlur,()=>y(!1)),onClick:oe(i.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:oe(i.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:oe(i.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:oe(i.onPointerMove,x=>{var M;w.current=x.pointerType,n?(M=c.onItemLeave)==null||M.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(i.onPointerLeave,x=>{var M;x.currentTarget===document.activeElement&&((M=c.onItemLeave)==null||M.call(c))}),onKeyDown:oe(i.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(zf.includes(x.key)&&S(),x.key===" "&&x.preventDefault())})})})})});Wi.displayName=Va;var zr="SelectItemText",zi=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,...s}=e,i=Kt(zr,r),l=Jt(zr,r),c=Bi(zr,r),d=qf(zr,r),[u,h]=m.useState(null),g=Te(t,S=>h(S),c.onItemTextChange,S=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,S,c.value,c.disabled)}),y=u==null?void 0:u.textContent,k=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=d;return Ot(()=>(p(k),()=>w(k)),[p,w,k]),o.jsxs(o.Fragment,{children:[o.jsx(Me.span,{id:c.textId,...s,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?zo.createPortal(s.children,i.valueNode):null]})});zi.displayName=zr;var Yi="SelectItemIndicator",Gi=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return Bi(Yi,r).isSelected?o.jsx(Me.span,{"aria-hidden":!0,...a,ref:t}):null});Gi.displayName=Yi;var Jn="SelectScrollUpButton",Hi=m.forwardRef((e,t)=>{const r=Jt(Jn,e.__scopeSelect),a=gs(Jn,e.__scopeSelect),[n,s]=m.useState(!1),i=Te(t,a.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?o.jsx(Zi,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Hi.displayName=Jn;var Xn="SelectScrollDownButton",qi=m.forwardRef((e,t)=>{const r=Jt(Xn,e.__scopeSelect),a=gs(Xn,e.__scopeSelect),[n,s]=m.useState(!1),i=Te(t,a.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?o.jsx(Zi,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qi.displayName=Xn;var Zi=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...n}=e,s=Jt("SelectScrollButton",r),i=m.useRef(null),l=nn(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ot(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),o.jsx(Me.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:oe(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:oe(n.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:oe(n.onPointerLeave,()=>{c()})})}),om="SelectSeparator",Ki=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return o.jsx(Me.div,{"aria-hidden":!0,...a,ref:t})});Ki.displayName=om;var Qn="SelectArrow",im=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=sn(r),s=Kt(Qn,r),i=Jt(Qn,r);return s.open&&i.position==="popper"?o.jsx(cs,{...n,...a,ref:t}):null});im.displayName=Qn;function Ji(e){return e===""||e===void 0}var Xi=m.forwardRef((e,t)=>{const{value:r,...a}=e,n=m.useRef(null),s=Te(t,n),i=vi(r);return m.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[i,r]),o.jsx(wd,{asChild:!0,children:o.jsx("select",{...a,ref:s,defaultValue:r})})});Xi.displayName="BubbleSelect";function Qi(e){const t=jr(e),r=m.useRef(""),a=m.useRef(0),n=m.useCallback(i=>{const l=r.current+i;t(l),function c(d){r.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=m.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,s]}function el(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=lm(e,Math.max(s,0));n.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function lm(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var cm=Ci,tl=Ai,dm=Di,um=Pi,fm=Ti,rl=Ri,mm=Ui,al=Vi,nl=Wi,hm=zi,pm=Gi,sl=Hi,ol=qi,il=Ki;const gt=cm,yt=dm,lt=m.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(tl,{ref:a,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(um,{asChild:!0,children:o.jsx(qo,{className:"h-4 w-4 opacity-50"})})]}));lt.displayName=tl.displayName;const ll=m.forwardRef(({className:e,...t},r)=>o.jsx(sl,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ed,{className:"h-4 w-4"})}));ll.displayName=sl.displayName;const cl=m.forwardRef(({className:e,...t},r)=>o.jsx(ol,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(qo,{className:"h-4 w-4"})}));cl.displayName=ol.displayName;const ct=m.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>o.jsx(fm,{children:o.jsxs(rl,{ref:n,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(ll,{}),o.jsx(mm,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(cl,{})]})}));ct.displayName=rl.displayName;const gm=m.forwardRef(({className:e,...t},r)=>o.jsx(al,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gm.displayName=al.displayName;const $e=m.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(nl,{ref:a,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(pm,{children:o.jsx(Ho,{className:"h-4 w-4"})})}),o.jsx(hm,{children:t})]}));$e.displayName=nl.displayName;const ym=m.forwardRef(({className:e,...t},r)=>o.jsx(il,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));ym.displayName=il.displayName;const vm=ot({latitude:Le.number().min(-90).max(90).default(-6.2088),longitude:Le.number().min(-180).max(180).default(106.8456),calculationMethod:ge().default("MuslimWorldLeague"),fajrOffset:Le.number().int().default(0),dhuhrOffset:Le.number().int().default(0),asrOffset:Le.number().int().default(0),maghribOffset:Le.number().int().default(0),ishaOffset:Le.number().int().default(0),imsakOffset:Le.number().int().default(0)}),xm=[{value:"MuslimWorldLeague",label:"Muslim World League"},{value:"Egyptian",label:"Egyptian General Authority of Survey"},{value:"Karachi",label:"University of Islamic Sciences, Karachi"},{value:"UmmAlQura",label:"Umm Al-Qura University, Makkah"},{value:"Dubai",label:"Dubai"},{value:"MoonsightingCommittee",label:"Moonsighting Committee"},{value:"NorthAmerica",label:"Islamic Society of North America"},{value:"Kuwait",label:"Kuwait"},{value:"Qatar",label:"Qatar"},{value:"Singapore",label:"Singapore"},{value:"Tehran",label:"Institute of Geophysics, University of Tehran"},{value:"Turkey",label:"Diyanet leri Bakanl, Turkey"}],bm=()=>{const{settings:e,isLoadingSettings:t,refetchSettings:r}=Er(),a=Qe({resolver:et(vm),defaultValues:{latitude:-6.2088,longitude:106.8456,calculationMethod:"MuslimWorldLeague",fajrOffset:0,dhuhrOffset:0,asrOffset:0,maghribOffset:0,ishaOffset:0,imsakOffset:0}}),{handleSubmit:n,register:s,setValue:i,formState:{isSubmitting:l,errors:c}}=a;m.useEffect(()=>{!t&&e&&(i("latitude",e.latitude),i("longitude",e.longitude),i("calculationMethod",e.calculation_method),i("fajrOffset",e.fajr_offset??0),i("dhuhrOffset",e.dhuhr_offset??0),i("asrOffset",e.asr_offset??0),i("maghribOffset",e.maghrib_offset??0),i("ishaOffset",e.isha_offset??0),i("imsakOffset",e.imsak_offset??0))},[e,t,i]);const d=async u=>{const{data:h,error:g}=await V.from("app_settings").upsert({id:1,latitude:u.latitude,longitude:u.longitude,calculation_method:u.calculationMethod,fajr_offset:u.fajrOffset,dhuhr_offset:u.dhuhrOffset,asr_offset:u.asrOffset,maghrib_offset:u.maghribOffset,isha_offset:u.ishaOffset,imsak_offset:u.imsakOffset},{onConflict:"id"});g?(console.error("Error saving settings:",g),P.error("Gagal menyimpan pengaturan waktu sholat.")):(P.success("Pengaturan waktu sholat berhasil disimpan!"),console.log("Settings saved:",h),r())};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Waktu Sholat"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Atur lokasi masjid dan metode perhitungan waktu sholat."}),o.jsxs("form",{onSubmit:n(d),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"latitude",className:"text-gray-300",children:"Lintang (Latitude)"}),o.jsx(ve,{id:"latitude",type:"number",step:"any",...s("latitude"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.latitude&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.latitude.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"longitude",className:"text-gray-300",children:"Bujur (Longitude)"}),o.jsx(ve,{id:"longitude",type:"number",step:"any",...s("longitude"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.longitude&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.longitude.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"calculationMethod",className:"text-gray-300",children:"Metode Perhitungan"}),o.jsxs(gt,{onValueChange:u=>i("calculationMethod",u),defaultValue:a.getValues("calculationMethod"),children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white mt-1",children:o.jsx(yt,{placeholder:"Pilih Metode"})}),o.jsx(ct,{className:"bg-gray-700 text-white border-gray-600",children:xm.map(u=>o.jsx($e,{value:u.value,children:u.label},u.value))})]}),c.calculationMethod&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.calculationMethod.message})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6 mt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-300 mb-4",children:"Koreksi Waktu Sholat (Menit)"}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Masukkan nilai positif untuk mempercepat, negatif untuk memperlambat. Contoh: +1 atau -2."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"fajrOffset",className:"text-gray-300",children:"Subuh"}),o.jsx(ve,{id:"fajrOffset",type:"number",...s("fajrOffset"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.fajrOffset&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.fajrOffset.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"imsakOffset",className:"text-gray-300",children:"Imsak"}),o.jsx(ve,{id:"imsakOffset",type:"number",...s("imsakOffset"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.imsakOffset&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.imsakOffset.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"dhuhrOffset",className:"text-gray-300",children:"Dzuhur"}),o.jsx(ve,{id:"dhuhrOffset",type:"number",...s("dhuhrOffset"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.dhuhrOffset&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.dhuhrOffset.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"asrOffset",className:"text-gray-300",children:"Ashar"}),o.jsx(ve,{id:"asrOffset",type:"number",...s("asrOffset"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.asrOffset&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.asrOffset.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"maghribOffset",className:"text-gray-300",children:"Maghrib"}),o.jsx(ve,{id:"maghribOffset",type:"number",...s("maghribOffset"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.maghribOffset&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.maghribOffset.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"ishaOffset",className:"text-gray-300",children:"Isya"}),o.jsx(ve,{id:"ishaOffset",type:"number",...s("ishaOffset"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),c.ishaOffset&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.ishaOffset.message})]})]})]}),o.jsx(ue,{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:l?"Menyimpan...":"Simpan Pengaturan"})]})]})]})},_m=ot({runningText:ge().min(1,"Teks berjalan tidak boleh kosong.")}),wm=()=>{const{settings:e,isLoadingSettings:t,refetchSettings:r}=Er(),a=Qe({resolver:et(_m),defaultValues:{runningText:""}}),{handleSubmit:n,register:s,setValue:i,formState:{isSubmitting:l,errors:c}}=a;m.useEffect(()=>{!t&&e&&i("runningText",e.running_text||"")},[e,t,i]);const d=async u=>{const{data:h,error:g}=await V.from("app_settings").upsert({id:1,running_text:u.runningText},{onConflict:"id"});g?(console.error("Error saving running text:",g),P.error("Gagal menyimpan teks berjalan.")):(P.success("Teks berjalan berhasil disimpan!"),console.log("Running text saved:",h),r())};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Teks Berjalan"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Atur teks yang akan ditampilkan sebagai teks berjalan di bagian bawah layar utama."}),o.jsxs("form",{onSubmit:n(d),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"runningText",className:"text-gray-300",children:"Teks Berjalan"}),o.jsx(Ja,{id:"runningText",...s("runningText"),className:"bg-gray-700 border-gray-600 text-white mt-1 min-h-[100px]",placeholder:"Masukkan teks berjalan di sini..."}),c.runningText&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.runningText.message})]}),o.jsx(ue,{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:l?"Menyimpan...":"Simpan Teks Berjalan"})]})]})]})};var ys="Dialog",[dl,qv]=dr(ys),[km,bt]=dl(ys),ul=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:s,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=rr({prop:a,defaultProp:n,onChange:s});return o.jsx(km,{scope:t,triggerRef:l,contentRef:c,contentId:Ct(),titleId:Ct(),descriptionId:Ct(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:i,children:r})};ul.displayName=ys;var fl="DialogTrigger",jm=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=bt(fl,r),s=Te(t,n.triggerRef);return o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":bs(n.open),...a,ref:s,onClick:oe(e.onClick,n.onOpenToggle)})});jm.displayName=fl;var vs="DialogPortal",[Nm,ml]=dl(vs,{forceMount:void 0}),hl=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,s=bt(vs,t);return o.jsx(Nm,{scope:t,forceMount:r,children:m.Children.map(a,i=>o.jsx(Bt,{present:r||s.open,children:o.jsx(qa,{asChild:!0,container:n,children:i})}))})};hl.displayName=vs;var Ba="DialogOverlay",pl=m.forwardRef((e,t)=>{const r=ml(Ba,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=bt(Ba,e.__scopeDialog);return s.modal?o.jsx(Bt,{present:a||s.open,children:o.jsx(Cm,{...n,ref:t})}):null});pl.displayName=Ba;var Sm=Za("DialogOverlay.RemoveScroll"),Cm=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=bt(Ba,r);return o.jsx(oa,{as:Sm,allowPinchZoom:!0,shards:[n.contentRef],children:o.jsx(Me.div,{"data-state":bs(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),lr="DialogContent",gl=m.forwardRef((e,t)=>{const r=ml(lr,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=bt(lr,e.__scopeDialog);return o.jsx(Bt,{present:a||s.open,children:s.modal?o.jsx(Mm,{...n,ref:t}):o.jsx(Am,{...n,ref:t})})});gl.displayName=lr;var Mm=m.forwardRef((e,t)=>{const r=bt(lr,e.__scopeDialog),a=m.useRef(null),n=Te(t,r.contentRef,a);return m.useEffect(()=>{const s=a.current;if(s)return tn(s)},[]),o.jsx(yl,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,s=>s.preventDefault())})}),Am=m.forwardRef((e,t)=>{const r=bt(lr,e.__scopeDialog),a=m.useRef(!1),n=m.useRef(!1);return o.jsx(yl,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),yl=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:s,...i}=e,l=bt(lr,r),c=m.useRef(null),d=Te(t,c);return en(),o.jsxs(o.Fragment,{children:[o.jsx(sa,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:s,children:o.jsx(Ka,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bs(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Em,{titleId:l.titleId}),o.jsx(Pm,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xs="DialogTitle",vl=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=bt(xs,r);return o.jsx(Me.h2,{id:n.titleId,...a,ref:t})});vl.displayName=xs;var xl="DialogDescription",bl=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=bt(xl,r);return o.jsx(Me.p,{id:n.descriptionId,...a,ref:t})});bl.displayName=xl;var _l="DialogClose",wl=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=bt(_l,r);return o.jsx(Me.button,{type:"button",...a,ref:t,onClick:oe(e.onClick,()=>n.onOpenChange(!1))})});wl.displayName=_l;function bs(e){return e?"open":"closed"}var kl="DialogTitleWarning",[Zv,jl]=kd(kl,{contentName:lr,titleName:xs,docsSlug:"dialog"}),Em=({titleId:e})=>{const t=jl(kl),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Dm="DialogDescriptionWarning",Pm=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jl(Dm).contentName}}.`;return m.useEffect(()=>{var s;const n=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Tm=ul,Rm=hl,Nl=pl,Sl=gl,Cl=vl,Ml=bl,Om=wl;const qt=Tm,Im=Rm,Al=m.forwardRef(({className:e,...t},r)=>o.jsx(Nl,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Al.displayName=Nl.displayName;const Ut=m.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(Im,{children:[o.jsx(Al,{}),o.jsxs(Sl,{ref:a,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(Om,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(jd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ut.displayName=Sl.displayName;const Lt=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Lt.displayName="DialogHeader";const $t=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$t.displayName="DialogFooter";const Vt=m.forwardRef(({className:e,...t},r)=>o.jsx(Cl,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));Vt.displayName=Cl.displayName;const Zt=m.forwardRef(({className:e,...t},r)=>o.jsx(Ml,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Zt.displayName=Ml.displayName;const Fm=ot({id:ge().optional(),type:Wu("image"),title:ge().max(100,"Judul terlalu panjang.").nullable().optional(),content:ge().min(1,"URL gambar tidak boleh kosong."),display_order:Le.number().int().min(0,"Urutan tampilan harus non-negatif.").default(0)}),Um=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!1),[n,s]=m.useState(null),[i,l]=m.useState(null),c=m.useRef(null),d=Qe({resolver:et(Fm),defaultValues:{type:"image",title:"",content:"",display_order:0}}),{handleSubmit:u,register:h,setValue:g,reset:y,formState:{isSubmitting:k,errors:p}}=d,w=m.useCallback(async()=>{const{data:R,error:b}=await V.from("info_slides").select("*").order("display_order",{ascending:!0});b?(console.error("Error fetching info slides:",b),P.error("Gagal memuat slide informasi.")):t(R||[])},[]);m.useEffect(()=>(w(),c.current||(c.current=V.channel("info_slides_changes").on("postgres_changes",{event:"*",schema:"public",table:"info_slides"},R=>{console.log("Info slides change received!",R),w()}).subscribe(),console.log("InfoSlideSettings: Subscribed to channel 'info_slides_changes'.")),()=>{c.current&&(V.removeChannel(c.current),console.log("InfoSlideSettings: Unsubscribed from channel 'info_slides_changes'."),c.current=null)}),[w]);const S=()=>{s(null),y({type:"image",title:"",content:"",display_order:0}),l(null),a(!0)},x=R=>{s(R),y({id:R.id,type:"image",title:R.title||"",content:R.content,display_order:R.display_order}),l(R.content),a(!0)},M=async R=>{if(!window.confirm("Apakah Anda yakin ingin menghapus slide ini?"))return;const{data:b,error:A}=await V.from("info_slides").select("content").eq("id",R).single();if(A){console.error("Error fetching slide content for deletion:",A),P.error("Gagal menghapus slide.");return}const{error:B}=await V.from("info_slides").delete().eq("id",R);if(B)console.error("Error deleting slide:",B),P.error("Gagal menghapus slide.");else if(P.success("Slide berhasil dihapus!"),w(),b!=null&&b.content)try{const te=b.content.split("/"),le=te.indexOf("public"),ee=te.slice(le+2).join("/"),{error:q}=await V.storage.from("images").remove([ee]);q&&console.warn("Failed to delete file from storage:",q)}catch(te){console.warn("Error parsing file path for deletion:",te)}},j=async R=>{var q;const b=(q=R.target.files)==null?void 0:q[0];if(!b)return;const A=b.name.split(".").pop(),te=`slides/${`${na()}.${A}`}`,le=P.loading("Mengunggah gambar slide: 0%"),ee=(n==null?void 0:n.content)||null;try{const{data:ce,error:fe}=await V.storage.from("images").upload(te,b,{cacheControl:"3600",upsert:!1,onUploadProgress:D=>{const O=Math.round(D.loaded*100/D.total);console.log(`Upload progress for info slide: ${O}%`),P.loading(`Mengunggah gambar slide: ${O}%`,{id:le})}});if(fe)throw fe;const{data:ie}=V.storage.from("images").getPublicUrl(te);if(ie!=null&&ie.publicUrl){if(g("content",ie.publicUrl),l(ie.publicUrl),P.loading("Mengunggah gambar slide: 100%",{id:le}),P.success("Gambar slide berhasil diunggah!",{id:le}),P.info("Untuk performa terbaik di perangkat rendah, pastikan ukuran file gambar dioptimalkan (misal: format WebP, resolusi sesuai kebutuhan)."),ee&&ee!==ie.publicUrl)try{const D=ee.split("/"),O=D.indexOf("public"),J=D.slice(O+2).join("/"),{error:U}=await V.storage.from("images").remove([J]);U?(console.warn("Gagal menghapus gambar slide lama dari storage:",U),P.warning("Gagal menghapus gambar slide lama.")):console.log("Gambar slide lama berhasil dihapus.")}catch(D){console.warn("Error parsing old image path for deletion:",D)}}else throw new Error("Gagal mendapatkan URL publik gambar.")}catch(ce){console.error("Error uploading image:",ce),P.error(`Gagal mengunggah gambar: ${ce.message}`,{id:le})}},N=async R=>{const b={type:"image",title:R.title||null,content:R.content,display_order:R.display_order};if(n){const{error:A}=await V.from("info_slides").update(b).eq("id",n.id);A?(console.error("Error updating slide:",A),P.error("Gagal memperbarui slide.")):(P.success("Slide berhasil diperbarui!"),a(!1),w())}else{const{error:A}=await V.from("info_slides").insert(b);A?(console.error("Error adding slide:",A),P.error("Gagal menambahkan slide.")):(P.success("Slide berhasil ditambahkan!"),a(!1),w())}};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700 col-span-full lg:col-span-2",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Slide Informasi (Gambar)"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Kelola slide gambar yang akan ditampilkan di layar utama."}),o.jsx(ue,{onClick:S,className:"w-full bg-green-600 hover:bg-green-700 text-white mb-4",children:"Tambah Slide Gambar Baru"}),o.jsx("div",{className:"space-y-3",children:e.length===0?o.jsx("p",{className:"text-gray-400 text-center",children:"Belum ada slide gambar. Tambahkan yang pertama!"}):e.map(R=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-md shadow-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-lg text-blue-200",children:R.title||"(Tanpa Judul)"}),o.jsx("p",{className:"text-sm text-gray-300 truncate max-w-xs",children:R.content}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Tipe: ",R.type," | Urutan: ",R.display_order]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>x(R),className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:o.jsx(Pr,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>M(R.id),className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:o.jsx(Tr,{className:"h-4 w-4"})})]})]},R.id))}),o.jsx(qt,{open:r,onOpenChange:a,children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:n?"Edit Slide Gambar":"Tambah Slide Gambar Baru"}),o.jsx(Zt,{children:n?"Perbarui detail slide gambar ini.":"Isi detail untuk slide gambar baru."})]}),o.jsxs("form",{onSubmit:u(N),className:"space-y-4",children:[o.jsx("input",{type:"hidden",...h("type"),value:"image"}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"title",className:"text-gray-300",children:"Judul (Opsional)"}),o.jsx(ve,{id:"title",...h("title"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Judul slide (mis: Nama Acara)"}),p.title&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.title.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"imageUpload",className:"text-gray-300",children:"Unggah Gambar"}),o.jsx(ve,{id:"imageUpload",type:"file",accept:"image/*",onChange:j,className:"bg-gray-700 border-gray-600 text-white mt-1 file:text-white file:bg-blue-600 file:hover:bg-blue-700 file:border-none file:rounded-md file:px-3 file:py-1"}),i&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Pratinjau Gambar:"}),o.jsx("img",{src:i,alt:"Image Preview",className:"max-w-full h-32 object-contain rounded-md border border-gray-600"})]}),p.content&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.content.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"display_order",className:"text-gray-300",children:"Urutan Tampilan"}),o.jsx(ve,{id:"display_order",type:"number",...h("display_order"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),p.display_order&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.display_order.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>a(!1),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:k,className:"bg-blue-600 hover:bg-blue-700 text-white",children:k?"Menyimpan...":n?"Simpan Perubahan":"Tambah Slide"})]})]})]})})]})]})},Lm=ot({id:ge().optional(),day_of_week:ge().min(1,"Hari tidak boleh kosong."),prayer_name:ge().min(1,"Nama sholat tidak boleh kosong."),imam_name:ge().min(1,"Nama imam tidak boleh kosong."),muezzin_name:ge().nullable().optional(),khatib_name:ge().nullable().optional(),bilal_name:ge().nullable().optional(),display_order:Le.number().int().min(0,"Urutan tampilan harus non-negatif.").default(0)}),$m=[{value:"Ahad",label:"Ahad"},{value:"Senin",label:"Senin"},{value:"Selasa",label:"Selasa"},{value:"Rabu",label:"Rabu"},{value:"Kamis",label:"Kamis"},{value:"Jumat",label:"Jumat"},{value:"Sabtu",label:"Sabtu"}],Vm=[{value:"Subuh",label:"Subuh"},{value:"Dzuhur",label:"Dzuhur"},{value:"Ashar",label:"Ashar"},{value:"Maghrib",label:"Maghrib"},{value:"Isya",label:"Isya"},{value:"Jumat",label:"Jumat"},{value:"Tarawih",label:"Tarawih"},{value:"Idul Fitri",label:"Idul Fitri"},{value:"Idul Adha",label:"Idul Adha"}],Bm=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!1),[n,s]=m.useState(null),i=Qe({resolver:et(Lm),defaultValues:{day_of_week:"",prayer_name:"",imam_name:"",muezzin_name:"",khatib_name:"",bilal_name:"",display_order:0}}),{handleSubmit:l,register:c,setValue:d,watch:u,reset:h,formState:{isSubmitting:g,errors:y}}=i,k=u("prayer_name"),p=m.useCallback(async()=>{const{data:j,error:N}=await V.from("imam_muezzin_schedules").select("*").order("display_order",{ascending:!0}).order("day_of_week",{ascending:!0}).order("prayer_name",{ascending:!0});N?(console.error("Error fetching schedules:",N),P.error("Gagal memuat jadwal imam & muadzin.")):t(j||[])},[]);m.useEffect(()=>{p();const j=V.channel("imam_muezzin_schedules_changes").on("postgres_changes",{event:"*",schema:"public",table:"imam_muezzin_schedules"},N=>{console.log("Schedule change received!",N),p()}).subscribe();return console.log("ImamMuezzinScheduleSettings: Subscribed to channel 'imam_muezzin_schedules_changes'."),()=>{V.removeChannel(j),console.log("ImamMuezzinScheduleSettings: Unsubscribed from channel 'imam_muezzin_schedules_changes'.")}},[p]);const w=()=>{s(null),h({day_of_week:"",prayer_name:"",imam_name:"",muezzin_name:"",khatib_name:"",bilal_name:"",display_order:0}),a(!0)},S=j=>{s(j),h({id:j.id,day_of_week:j.day_of_week,prayer_name:j.prayer_name,imam_name:j.imam_name,muezzin_name:j.muezzin_name||"",khatib_name:j.khatib_name||"",bilal_name:j.bilal_name||"",display_order:j.display_order}),a(!0)},x=async j=>{if(!window.confirm("Apakah Anda yakin ingin menghapus jadwal ini?"))return;const{error:N}=await V.from("imam_muezzin_schedules").delete().eq("id",j);N?(console.error("Error deleting schedule:",N),P.error("Gagal menghapus jadwal.")):(P.success("Jadwal berhasil dihapus!"),p())},M=async j=>{const N={day_of_week:j.day_of_week,prayer_name:j.prayer_name,imam_name:j.imam_name,muezzin_name:j.muezzin_name||null,khatib_name:j.prayer_name==="Jumat"&&j.khatib_name||null,bilal_name:j.prayer_name==="Jumat"&&j.bilal_name||null,display_order:j.display_order};if(n){const{error:R}=await V.from("imam_muezzin_schedules").update(N).eq("id",n.id);R?(console.error("Error updating schedule:",R),P.error("Gagal memperbarui jadwal.")):(P.success("Jadwal berhasil diperbarui!"),a(!1),p())}else{const{error:R}=await V.from("imam_muezzin_schedules").insert(N);R?(console.error("Error adding schedule:",R),P.error("Gagal menambahkan jadwal.")):(P.success("Jadwal berhasil ditambahkan!"),a(!1),p())}};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700 col-span-full lg:col-span-2",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Jadwal Imam & Muadzin"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Kelola jadwal imam dan muadzin untuk sholat fardhu, Jumat, dan Tarawih."}),o.jsxs(ue,{onClick:w,className:"w-full bg-green-600 hover:bg-green-700 text-white mb-4",children:[o.jsx(ra,{className:"mr-2 h-4 w-4"})," Tambah Jadwal Baru"]}),o.jsx("div",{className:"space-y-3",children:e.length===0?o.jsx("p",{className:"text-gray-400 text-center",children:"Belum ada jadwal. Tambahkan yang pertama!"}):e.map(j=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-md shadow-sm",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-lg text-blue-200",children:[j.day_of_week," - ",j.prayer_name]}),o.jsxs("p",{className:"text-sm text-gray-300",children:["Imam: ",j.imam_name]}),j.muezzin_name&&o.jsxs("p",{className:"text-xs text-gray-400",children:["Muadzin: ",j.muezzin_name]}),j.khatib_name&&o.jsxs("p",{className:"text-xs text-gray-400",children:["Khatib: ",j.khatib_name]}),j.bilal_name&&o.jsxs("p",{className:"text-xs text-gray-400",children:["Bilal: ",j.bilal_name]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Urutan: ",j.display_order]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>S(j),className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:o.jsx(Pr,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>x(j.id),className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:o.jsx(Tr,{className:"h-4 w-4"})})]})]},j.id))}),o.jsx(qt,{open:r,onOpenChange:a,children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:n?"Edit Jadwal":"Tambah Jadwal Baru"}),o.jsx(Zt,{children:n?"Perbarui detail jadwal imam dan muadzin.":"Isi detail untuk jadwal imam dan muadzin baru."})]}),o.jsxs("form",{onSubmit:l(M),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"day_of_week",className:"text-gray-300",children:"Hari"}),o.jsxs(gt,{onValueChange:j=>d("day_of_week",j),defaultValue:i.getValues("day_of_week"),children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white mt-1",children:o.jsx(yt,{placeholder:"Pilih Hari"})}),o.jsx(ct,{className:"bg-gray-700 text-white border-gray-600",children:$m.map(j=>o.jsx($e,{value:j.value,children:j.label},j.value))})]}),y.day_of_week&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.day_of_week.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"prayer_name",className:"text-gray-300",children:"Nama Sholat"}),o.jsxs(gt,{onValueChange:j=>d("prayer_name",j),defaultValue:i.getValues("prayer_name"),children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white mt-1",children:o.jsx(yt,{placeholder:"Pilih Nama Sholat"})}),o.jsx(ct,{className:"bg-gray-700 text-white border-gray-600",children:Vm.map(j=>o.jsx($e,{value:j.value,children:j.label},j.value))})]}),y.prayer_name&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.prayer_name.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"imam_name",className:"text-gray-300",children:"Nama Imam"}),o.jsx(ve,{id:"imam_name",...c("imam_name"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Nama Imam"}),y.imam_name&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.imam_name.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"muezzin_name",className:"text-gray-300",children:"Nama Muadzin (Opsional)"}),o.jsx(ve,{id:"muezzin_name",...c("muezzin_name"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Nama Muadzin"}),y.muezzin_name&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.muezzin_name.message})]}),k==="Jumat"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"khatib_name",className:"text-gray-300",children:"Nama Khatib (Opsional)"}),o.jsx(ve,{id:"khatib_name",...c("khatib_name"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Nama Khatib"}),y.khatib_name&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.khatib_name.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"bilal_name",className:"text-gray-300",children:"Nama Bilal (Opsional)"}),o.jsx(ve,{id:"bilal_name",...c("bilal_name"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Nama Bilal"}),y.bilal_name&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.bilal_name.message})]})]}),k==="Tarawih"&&o.jsx(o.Fragment,{}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"display_order",className:"text-gray-300",children:"Urutan Tampilan"}),o.jsx(ve,{id:"display_order",type:"number",...c("display_order"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),y.display_order&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.display_order.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>a(!1),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:g,className:"bg-blue-600 hover:bg-blue-700 text-white",children:g?"Menyimpan...":n?"Simpan Perubahan":"Tambah Jadwal"})]})]})]})})]})]})};var _s="Popover",[El,Kv]=dr(_s,[Dr]),la=Dr(),[Wm,Xt]=El(_s),Dl=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:n,onOpenChange:s,modal:i=!1}=e,l=la(t),c=m.useRef(null),[d,u]=m.useState(!1),[h=!1,g]=rr({prop:a,defaultProp:n,onChange:s});return o.jsx(os,{...l,children:o.jsx(Wm,{scope:t,contentId:Ct(),triggerRef:c,open:h,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:i,children:r})})};Dl.displayName=_s;var Pl="PopoverAnchor",zm=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Xt(Pl,r),s=la(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=n;return m.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(Ha,{...s,...a,ref:t})});zm.displayName=Pl;var Tl="PopoverTrigger",Rl=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Xt(Tl,r),s=la(r),i=Te(t,n.triggerRef),l=o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Ll(n.open),...a,ref:i,onClick:oe(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:o.jsx(Ha,{asChild:!0,...s,children:l})});Rl.displayName=Tl;var ws="PopoverPortal",[Ym,Gm]=El(ws,{forceMount:void 0}),Ol=e=>{const{__scopePopover:t,forceMount:r,children:a,container:n}=e,s=Xt(ws,t);return o.jsx(Ym,{scope:t,forceMount:r,children:o.jsx(Bt,{present:r||s.open,children:o.jsx(qa,{asChild:!0,container:n,children:a})})})};Ol.displayName=ws;var Mr="PopoverContent",Il=m.forwardRef((e,t)=>{const r=Gm(Mr,e.__scopePopover),{forceMount:a=r.forceMount,...n}=e,s=Xt(Mr,e.__scopePopover);return o.jsx(Bt,{present:a||s.open,children:s.modal?o.jsx(qm,{...n,ref:t}):o.jsx(Zm,{...n,ref:t})})});Il.displayName=Mr;var Hm=Za("PopoverContent.RemoveScroll"),qm=m.forwardRef((e,t)=>{const r=Xt(Mr,e.__scopePopover),a=m.useRef(null),n=Te(t,a),s=m.useRef(!1);return m.useEffect(()=>{const i=a.current;if(i)return tn(i)},[]),o.jsx(oa,{as:Hm,allowPinchZoom:!0,children:o.jsx(Fl,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Zm=m.forwardRef((e,t)=>{const r=Xt(Mr,e.__scopePopover),a=m.useRef(!1),n=m.useRef(!1);return o.jsx(Fl,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),Fl=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,g=Xt(Mr,r),y=la(r);return en(),o.jsx(sa,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:s,children:o.jsx(Ka,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:o.jsx(ls,{"data-state":Ll(g.open),role:"dialog",id:g.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ul="PopoverClose",Km=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Xt(Ul,r);return o.jsx(Me.button,{type:"button",...a,ref:t,onClick:oe(e.onClick,()=>n.onOpenChange(!1))})});Km.displayName=Ul;var Jm="PopoverArrow",Xm=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=la(r);return o.jsx(cs,{...n,...a,ref:t})});Xm.displayName=Jm;function Ll(e){return e?"open":"closed"}var Qm=Dl,eh=Rl,th=Ol,$l=Il;const Vl=Qm,Bl=eh,ks=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},n)=>o.jsx(th,{children:o.jsx($l,{ref:n,align:t,sideOffset:r,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));ks.displayName=$l.displayName;var Sn={exports:{}},Ur={},Cn={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo;function rh(){if(Eo)return _e;Eo=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function g(f){return f===null||typeof f!="object"?null:(f=h&&f[h]||f["@@iterator"],typeof f=="function"?f:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,p={};function w(f,_,$){this.props=f,this.context=_,this.refs=p,this.updater=$||y}w.prototype.isReactComponent={},w.prototype.setState=function(f,_){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,_,"setState")},w.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function S(){}S.prototype=w.prototype;function x(f,_,$){this.props=f,this.context=_,this.refs=p,this.updater=$||y}var M=x.prototype=new S;M.constructor=x,k(M,w.prototype),M.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,R={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(f,_,$){var H,Y={},Z=null,F=null;if(_!=null)for(H in _.ref!==void 0&&(F=_.ref),_.key!==void 0&&(Z=""+_.key),_)N.call(_,H)&&!b.hasOwnProperty(H)&&(Y[H]=_[H]);var K=arguments.length-2;if(K===1)Y.children=$;else if(1<K){for(var z=Array(K),de=0;de<K;de++)z[de]=arguments[de+2];Y.children=z}if(f&&f.defaultProps)for(H in K=f.defaultProps,K)Y[H]===void 0&&(Y[H]=K[H]);return{$$typeof:e,type:f,key:Z,ref:F,props:Y,_owner:R.current}}function B(f,_){return{$$typeof:e,type:f.type,key:_,ref:f.ref,props:f.props,_owner:f._owner}}function te(f){return typeof f=="object"&&f!==null&&f.$$typeof===e}function le(f){var _={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function($){return _[$]})}var ee=/\/+/g;function q(f,_){return typeof f=="object"&&f!==null&&f.key!=null?le(""+f.key):_.toString(36)}function ce(f,_,$,H,Y){var Z=typeof f;(Z==="undefined"||Z==="boolean")&&(f=null);var F=!1;if(f===null)F=!0;else switch(Z){case"string":case"number":F=!0;break;case"object":switch(f.$$typeof){case e:case t:F=!0}}if(F)return F=f,Y=Y(F),f=H===""?"."+q(F,0):H,j(Y)?($="",f!=null&&($=f.replace(ee,"$&/")+"/"),ce(Y,_,$,"",function(de){return de})):Y!=null&&(te(Y)&&(Y=B(Y,$+(!Y.key||F&&F.key===Y.key?"":(""+Y.key).replace(ee,"$&/")+"/")+f)),_.push(Y)),1;if(F=0,H=H===""?".":H+":",j(f))for(var K=0;K<f.length;K++){Z=f[K];var z=H+q(Z,K);F+=ce(Z,_,$,z,Y)}else if(z=g(f),typeof z=="function")for(f=z.call(f),K=0;!(Z=f.next()).done;)Z=Z.value,z=H+q(Z,K++),F+=ce(Z,_,$,z,Y);else if(Z==="object")throw _=String(f),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return F}function fe(f,_,$){if(f==null)return f;var H=[],Y=0;return ce(f,H,"","",function(Z){return _.call($,Z,Y++)}),H}function ie(f){if(f._status===-1){var _=f._result;_=_(),_.then(function($){(f._status===0||f._status===-1)&&(f._status=1,f._result=$)},function($){(f._status===0||f._status===-1)&&(f._status=2,f._result=$)}),f._status===-1&&(f._status=0,f._result=_)}if(f._status===1)return f._result.default;throw f._result}var D={current:null},O={transition:null},J={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:fe,forEach:function(f,_,$){fe(f,function(){_.apply(this,arguments)},$)},count:function(f){var _=0;return fe(f,function(){_++}),_},toArray:function(f){return fe(f,function(_){return _})||[]},only:function(f){if(!te(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},_e.Component=w,_e.Fragment=r,_e.Profiler=n,_e.PureComponent=x,_e.StrictMode=a,_e.Suspense=c,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,_e.act=U,_e.cloneElement=function(f,_,$){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var H=k({},f.props),Y=f.key,Z=f.ref,F=f._owner;if(_!=null){if(_.ref!==void 0&&(Z=_.ref,F=R.current),_.key!==void 0&&(Y=""+_.key),f.type&&f.type.defaultProps)var K=f.type.defaultProps;for(z in _)N.call(_,z)&&!b.hasOwnProperty(z)&&(H[z]=_[z]===void 0&&K!==void 0?K[z]:_[z])}var z=arguments.length-2;if(z===1)H.children=$;else if(1<z){K=Array(z);for(var de=0;de<z;de++)K[de]=arguments[de+2];H.children=K}return{$$typeof:e,type:f.type,key:Y,ref:Z,props:H,_owner:F}},_e.createContext=function(f){return f={$$typeof:i,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:s,_context:f},f.Consumer=f},_e.createElement=A,_e.createFactory=function(f){var _=A.bind(null,f);return _.type=f,_},_e.createRef=function(){return{current:null}},_e.forwardRef=function(f){return{$$typeof:l,render:f}},_e.isValidElement=te,_e.lazy=function(f){return{$$typeof:u,_payload:{_status:-1,_result:f},_init:ie}},_e.memo=function(f,_){return{$$typeof:d,type:f,compare:_===void 0?null:_}},_e.startTransition=function(f){var _=O.transition;O.transition={};try{f()}finally{O.transition=_}},_e.unstable_act=U,_e.useCallback=function(f,_){return D.current.useCallback(f,_)},_e.useContext=function(f){return D.current.useContext(f)},_e.useDebugValue=function(){},_e.useDeferredValue=function(f){return D.current.useDeferredValue(f)},_e.useEffect=function(f,_){return D.current.useEffect(f,_)},_e.useId=function(){return D.current.useId()},_e.useImperativeHandle=function(f,_,$){return D.current.useImperativeHandle(f,_,$)},_e.useInsertionEffect=function(f,_){return D.current.useInsertionEffect(f,_)},_e.useLayoutEffect=function(f,_){return D.current.useLayoutEffect(f,_)},_e.useMemo=function(f,_){return D.current.useMemo(f,_)},_e.useReducer=function(f,_,$){return D.current.useReducer(f,_,$)},_e.useRef=function(f){return D.current.useRef(f)},_e.useState=function(f){return D.current.useState(f)},_e.useSyncExternalStore=function(f,_,$){return D.current.useSyncExternalStore(f,_,$)},_e.useTransition=function(){return D.current.useTransition()},_e.version="18.3.1",_e}var Do;function Wl(){return Do||(Do=1,Cn.exports=rh()),Cn.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po;function ah(){if(Po)return Ur;Po=1;var e=Wl(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(l,c,d){var u,h={},g=null,y=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(u in c)a.call(c,u)&&!s.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:t,type:l,key:g,ref:y,props:h,_owner:n.current}}return Ur.Fragment=r,Ur.jsx=i,Ur.jsxs=i,Ur}var To;function nh(){return To||(To=1,Sn.exports=ah()),Sn.exports}var T=nh(),Ee=Wl();function Ne(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ge(e,t){const r=Ne(e);return isNaN(t)?tt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vt(e,t){const r=Ne(e);if(isNaN(t))return tt(e,NaN);if(!t)return r;const a=r.getDate(),n=tt(e,r.getTime());n.setMonth(r.getMonth()+t+1,0);const s=n.getDate();return a>=s?n:(r.setFullYear(n.getFullYear(),n.getMonth(),a),r)}const js=6048e5,sh=864e5;let oh={};function ca(){return oh}function Et(e,t){var l,c,d,u;const r=ca(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Ne(e),s=n.getDay(),i=(s<a?7:0)+s-a;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function cr(e){return Et(e,{weekStartsOn:1})}function zl(e){const t=Ne(e),r=t.getFullYear(),a=tt(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=cr(a),s=tt(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=cr(s);return t.getTime()>=n.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ar(e){const t=Ne(e);return t.setHours(0,0,0,0),t}function Wa(e){const t=Ne(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function St(e,t){const r=Ar(e),a=Ar(t),n=+r-Wa(r),s=+a-Wa(a);return Math.round((n-s)/sh)}function ih(e){const t=zl(e),r=tt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),cr(r)}function es(e,t){const r=t*7;return Ge(e,r)}function lh(e,t){return vt(e,t*12)}function ch(e){let t;return e.forEach(function(r){const a=Ne(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function dh(e){let t;return e.forEach(r=>{const a=Ne(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Ze(e,t){const r=Ar(e),a=Ar(t);return+r==+a}function Ns(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uh(e){if(!Ns(e)&&typeof e!="number")return!1;const t=Ne(e);return!isNaN(Number(t))}function Qr(e,t){const r=Ne(e),a=Ne(t),n=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return n*12+s}function fh(e,t,r){const a=Et(e,r),n=Et(t,r),s=+a-Wa(a),i=+n-Wa(n);return Math.round((s-i)/js)}function Ss(e){const t=Ne(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ke(e){const t=Ne(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Yl(e){const t=Ne(e),r=tt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Cs(e,t){var l,c,d,u;const r=ca(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Ne(e),s=n.getDay(),i=(s<a?-7:0)+6-(s-a);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Gl(e){return Cs(e,{weekStartsOn:1})}const mh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hh=(e,t,r)=>{let a;const n=mh[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Mn(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ph={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vh={date:Mn({formats:ph,defaultWidth:"full"}),time:Mn({formats:gh,defaultWidth:"full"}),dateTime:Mn({formats:yh,defaultWidth:"full"})},xh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bh=(e,t,r,a)=>xh[e];function Lr(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;n=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return n[s]}}const _h={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ch=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mh={ordinalNumber:Ch,era:Lr({values:_h,defaultWidth:"wide"}),quarter:Lr({values:wh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lr({values:kh,defaultWidth:"wide"}),day:Lr({values:jh,defaultWidth:"wide"}),dayPeriod:Lr({values:Nh,defaultWidth:"wide",formattingValues:Sh,defaultFormattingWidth:"wide"})};function $r(e){return(t,r={})=>{const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const i=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Eh(l,h=>h.test(i)):Ah(l,h=>h.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function Ah(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Eh(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Dh(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(n.length);return{value:i,rest:l}}}const Ph=/^(\d+)(th|st|nd|rd)?/i,Th=/\d+/i,Rh={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Oh={any:[/^b/i,/^(a|c)/i]},Ih={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fh={any:[/1/i,/2/i,/3/i,/4/i]},Uh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lh={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$h={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vh={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bh={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zh={ordinalNumber:Dh({matchPattern:Ph,parsePattern:Th,valueCallback:e=>parseInt(e,10)}),era:$r({matchPatterns:Rh,defaultMatchWidth:"wide",parsePatterns:Oh,defaultParseWidth:"any"}),quarter:$r({matchPatterns:Ih,defaultMatchWidth:"wide",parsePatterns:Fh,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$r({matchPatterns:Uh,defaultMatchWidth:"wide",parsePatterns:Lh,defaultParseWidth:"any"}),day:$r({matchPatterns:$h,defaultMatchWidth:"wide",parsePatterns:Vh,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:Bh,defaultMatchWidth:"any",parsePatterns:Wh,defaultParseWidth:"any"})},Hl={code:"en-US",formatDistance:hh,formatLong:vh,formatRelative:bh,localize:Mh,match:zh,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yh(e){const t=Ne(e);return St(t,Yl(t))+1}function ql(e){const t=Ne(e),r=+cr(t)-+ih(t);return Math.round(r/js)+1}function Zl(e,t){var u,h,g,y;const r=Ne(e),a=r.getFullYear(),n=ca(),s=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,i=tt(e,0);i.setFullYear(a+1,0,s),i.setHours(0,0,0,0);const l=Et(i,t),c=tt(e,0);c.setFullYear(a,0,s),c.setHours(0,0,0,0);const d=Et(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function Gh(e,t){var l,c,d,u;const r=ca(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=Zl(e,t),s=tt(e,0);return s.setFullYear(n,0,a),s.setHours(0,0,0,0),Et(s,t)}function Kl(e,t){const r=Ne(e),a=+Et(r,t)-+Gh(r,t);return Math.round(a/js)+1}function Ae(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Wt={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Ae(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ae(r+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return Ae(n,t.length)}},br={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ro={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return Wt.y(e,t)},Y:function(e,t,r,a){const n=Zl(e,a),s=n>0?n:1-n;if(t==="YY"){const i=s%100;return Ae(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Ae(s,t.length)},R:function(e,t){const r=zl(e);return Ae(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ae(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ae(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ae(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Wt.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ae(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=Kl(e,a);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):Ae(n,t.length)},I:function(e,t,r){const a=ql(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Ae(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Wt.d(e,t)},D:function(e,t,r){const a=Yh(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ae(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ae(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ae(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return Ae(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(a===12?n=br.noon:a===0?n=br.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(a>=17?n=br.evening:a>=12?n=br.afternoon:a>=4?n=br.morning:n=br.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Wt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Wt.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ae(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ae(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Wt.s(e,t)},S:function(e,t){return Wt.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Io(a);case"XXXX":case"XX":return Qt(a);case"XXXXX":case"XXX":default:return Qt(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Io(a);case"xxxx":case"xx":return Qt(a);case"xxxxx":case"xxx":default:return Qt(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Oo(a,":");case"OOOO":default:return"GMT"+Qt(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Oo(a,":");case"zzzz":default:return"GMT"+Qt(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Ae(a,t.length)},T:function(e,t,r){const a=e.getTime();return Ae(a,t.length)}};function Oo(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),s=a%60;return s===0?r+String(n):r+String(n)+t+Ae(s,2)}function Io(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):Qt(e,t)}function Qt(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Ae(Math.trunc(a/60),2),s=Ae(a%60,2);return r+n+t+s}const Fo=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Jl=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hh=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return Fo(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Fo(a,t)).replace("{{time}}",Jl(n,t))},qh={p:Jl,P:Hh},Zh=/^D+$/,Kh=/^Y+$/,Jh=["D","DD","YY","YYYY"];function Xh(e){return Zh.test(e)}function Qh(e){return Kh.test(e)}function ep(e,t,r){const a=tp(e,t,r);if(console.warn(a),Jh.includes(e))throw new RangeError(a)}function tp(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ap=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,np=/^'([^]*?)'?$/,sp=/''/g,op=/[a-zA-Z]/;function ur(e,t,r){var u,h,g,y,k,p,w,S;const a=ca(),n=(r==null?void 0:r.locale)??a.locale??Hl,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:p.weekStartsOn)??a.weekStartsOn??((S=(w=a.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,l=Ne(e);if(!uh(l))throw new RangeError("Invalid time value");let c=t.match(ap).map(x=>{const M=x[0];if(M==="p"||M==="P"){const j=qh[M];return j(x,n.formatLong)}return x}).join("").match(rp).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const M=x[0];if(M==="'")return{isToken:!1,value:ip(x)};if(Ro[M])return{isToken:!0,value:x};if(M.match(op))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:x}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:i,locale:n};return c.map(x=>{if(!x.isToken)return x.value;const M=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Qh(M)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Xh(M))&&ep(M,t,String(e));const j=Ro[M[0]];return j(l,M,n.localize,d)}).join("")}function ip(e){const t=e.match(np);return t?t[1].replace(sp,"'"):e}function lp(e){const t=Ne(e),r=t.getFullYear(),a=t.getMonth(),n=tt(e,0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}function cp(e){return Math.trunc(+Ne(e)/1e3)}function dp(e){const t=Ne(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function up(e,t){return fh(dp(e),Ke(e),t)+1}function ts(e,t){const r=Ne(e),a=Ne(t);return r.getTime()>a.getTime()}function Xl(e,t){const r=Ne(e),a=Ne(t);return+r<+a}function Ms(e,t){const r=Ne(e),a=Ne(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function fp(e,t){const r=Ne(e),a=Ne(t);return r.getFullYear()===a.getFullYear()}function An(e,t){return Ge(e,-t)}function En(e,t){const r=Ne(e),a=r.getFullYear(),n=r.getDate(),s=tt(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const i=lp(s);return r.setMonth(t,Math.min(n,i)),r}function Uo(e,t){const r=Ne(e);return isNaN(+r)?tt(e,NaN):(r.setFullYear(t),r)}var me=function(){return me=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},me.apply(this,arguments)};function mp(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function Ql(e,t,r){for(var a=0,n=t.length,s;a<n;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function da(e){return e.mode==="multiple"}function ua(e){return e.mode==="range"}function on(e){return e.mode==="single"}var hp={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function pp(e,t){return ur(e,"LLLL y",t)}function gp(e,t){return ur(e,"d",t)}function yp(e,t){return ur(e,"LLLL",t)}function vp(e){return"".concat(e)}function xp(e,t){return ur(e,"cccccc",t)}function bp(e,t){return ur(e,"yyyy",t)}var _p=Object.freeze({__proto__:null,formatCaption:pp,formatDay:gp,formatMonthCaption:yp,formatWeekNumber:vp,formatWeekdayName:xp,formatYearCaption:bp}),wp=function(e,t,r){return ur(e,"do MMMM (EEEE)",r)},kp=function(){return"Month: "},jp=function(){return"Go to next month"},Np=function(){return"Go to previous month"},Sp=function(e,t){return ur(e,"cccc",t)},Cp=function(e){return"Week n. ".concat(e)},Mp=function(){return"Year: "},Ap=Object.freeze({__proto__:null,labelDay:wp,labelMonthDropdown:kp,labelNext:jp,labelPrevious:Np,labelWeekNumber:Cp,labelWeekday:Sp,labelYearDropdown:Mp});function Ep(){var e="buttons",t=hp,r=Hl,a={},n={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:_p,labels:Ap,locale:r,modifiersClassNames:a,modifiers:n,numberOfMonths:s,styles:i,today:l,mode:"default"}}function Dp(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,n=e.toMonth,s=e.fromDate,i=e.toDate;return a?s=Ke(a):t&&(s=new Date(t,0,1)),n?i=Ss(n):r&&(i=new Date(r,11,31)),{fromDate:s?Ar(s):void 0,toDate:i?Ar(i):void 0}}var ec=Ee.createContext(void 0);function Pp(e){var t,r=e.initialProps,a=Ep(),n=Dp(r),s=n.fromDate,i=n.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(on(r)||da(r)||ua(r))&&(c=r.onSelect);var d=me(me(me({},a),r),{captionLayout:l,classNames:me(me({},a.classNames),r.classNames),components:me({},r.components),formatters:me(me({},a.formatters),r.formatters),fromDate:s,labels:me(me({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:me(me({},a.modifiers),r.modifiers),modifiersClassNames:me(me({},a.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:me(me({},a.styles),r.styles),toDate:i});return T.jsx(ec.Provider,{value:d,children:e.children})}function De(){var e=Ee.useContext(ec);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function tc(e){var t=De(),r=t.locale,a=t.classNames,n=t.styles,s=t.formatters.formatCaption;return T.jsx("div",{className:a.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function Tp(e){return T.jsx("svg",me({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:T.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rc(e){var t,r,a=e.onChange,n=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,d=De(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Tp;return T.jsxs("div",{className:l,style:c,children:[T.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),T.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:n,onChange:a,children:s}),T.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,T.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Rp(e){var t,r=De(),a=r.fromDate,n=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!a)return T.jsx(T.Fragment,{});if(!n)return T.jsx(T.Fragment,{});var h=[];if(fp(a,n))for(var g=Ke(a),y=a.getMonth();y<=n.getMonth();y++)h.push(En(g,y));else for(var g=Ke(new Date),y=0;y<=11;y++)h.push(En(g,y));var k=function(w){var S=Number(w.target.value),x=En(Ke(e.displayMonth),S);e.onChange(x)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:rc;return T.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:s.dropdown_month,onChange:k,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(w){return T.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function Op(e){var t,r=e.displayMonth,a=De(),n=a.fromDate,s=a.toDate,i=a.locale,l=a.styles,c=a.classNames,d=a.components,u=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,g=[];if(!n)return T.jsx(T.Fragment,{});if(!s)return T.jsx(T.Fragment,{});for(var y=n.getFullYear(),k=s.getFullYear(),p=y;p<=k;p++)g.push(Uo(Yl(new Date),p));var w=function(x){var M=Uo(Ke(r),Number(x.target.value));e.onChange(M)},S=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:rc;return T.jsx(S,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:u(r,{locale:i}),children:g.map(function(x){return T.jsx("option",{value:x.getFullYear(),children:u(x,{locale:i})},x.getFullYear())})})}function Ip(e,t){var r=Ee.useState(e),a=r[0],n=r[1],s=t===void 0?a:t;return[s,n]}function Fp(e){var t=e.month,r=e.defaultMonth,a=e.today,n=t||r||a||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&Qr(s,n)<0){var d=-1*(c-1);n=vt(s,d)}return i&&Qr(n,i)<0&&(n=i),Ke(n)}function Up(){var e=De(),t=Fp(e),r=Ip(t,e.month),a=r[0],n=r[1],s=function(i){var l;if(!e.disableNavigation){var c=Ke(i);n(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[a,s]}function Lp(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,n=Ke(e),s=Ke(vt(n,a)),i=Qr(s,n),l=[],c=0;c<i;c++){var d=vt(n,c);l.push(d)}return r&&(l=l.reverse()),l}function $p(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,n=t.numberOfMonths,s=n===void 0?1:n,i=a?s:1,l=Ke(e);if(!r)return vt(l,i);var c=Qr(r,e);if(!(c<s))return vt(l,i)}}function Vp(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,n=t.numberOfMonths,s=n===void 0?1:n,i=a?s:1,l=Ke(e);if(!r)return vt(l,-i);var c=Qr(l,r);if(!(c<=0))return vt(l,-i)}}var ac=Ee.createContext(void 0);function Bp(e){var t=De(),r=Up(),a=r[0],n=r[1],s=Lp(a,t),i=$p(a,t),l=Vp(a,t),c=function(h){return s.some(function(g){return Ms(h,g)})},d=function(h,g){c(h)||(g&&Xl(h,g)?n(vt(h,1+t.numberOfMonths*-1)):n(h))},u={currentMonth:a,displayMonths:s,goToMonth:n,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return T.jsx(ac.Provider,{value:u,children:e.children})}function fa(){var e=Ee.useContext(ac);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Lo(e){var t,r=De(),a=r.classNames,n=r.styles,s=r.components,i=fa().goToMonth,l=function(u){i(vt(u,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:tc,d=T.jsx(c,{id:e.id,displayMonth:e.displayMonth});return T.jsxs("div",{className:a.caption_dropdowns,style:n.caption_dropdowns,children:[T.jsx("div",{className:a.vhidden,children:d}),T.jsx(Rp,{onChange:l,displayMonth:e.displayMonth}),T.jsx(Op,{onChange:l,displayMonth:e.displayMonth})]})}function Wp(e){return T.jsx("svg",me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:T.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zp(e){return T.jsx("svg",me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:T.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var za=Ee.forwardRef(function(e,t){var r=De(),a=r.classNames,n=r.styles,s=[a.button_reset,a.button];e.className&&s.push(e.className);var i=s.join(" "),l=me(me({},n.button_reset),n.button);return e.style&&Object.assign(l,e.style),T.jsx("button",me({},e,{ref:t,type:"button",className:i,style:l}))});function Yp(e){var t,r,a=De(),n=a.dir,s=a.locale,i=a.classNames,l=a.styles,c=a.labels,d=c.labelPrevious,u=c.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return T.jsx(T.Fragment,{});var g=d(e.previousMonth,{locale:s}),y=[i.nav_button,i.nav_button_previous].join(" "),k=u(e.nextMonth,{locale:s}),p=[i.nav_button,i.nav_button_next].join(" "),w=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:zp,S=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Wp;return T.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&T.jsx(za,{name:"previous-month","aria-label":g,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?T.jsx(w,{className:i.nav_icon,style:l.nav_icon}):T.jsx(S,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&T.jsx(za,{name:"next-month","aria-label":k,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?T.jsx(S,{className:i.nav_icon,style:l.nav_icon}):T.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function $o(e){var t=De().numberOfMonths,r=fa(),a=r.previousMonth,n=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(k){return Ms(e.displayMonth,k)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),g=function(){a&&s(a)},y=function(){n&&s(n)};return T.jsx(Yp,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:n,previousMonth:a,onPreviousClick:g,onNextClick:y})}function Gp(e){var t,r=De(),a=r.classNames,n=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:tc,d;return n?d=T.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=T.jsx(Lo,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=T.jsxs(T.Fragment,{children:[T.jsx(Lo,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),T.jsx($o,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=T.jsxs(T.Fragment,{children:[T.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),T.jsx($o,{displayMonth:e.displayMonth,id:e.id})]}),T.jsx("div",{className:a.caption,style:s.caption,children:d})}function Hp(e){var t=De(),r=t.footer,a=t.styles,n=t.classNames.tfoot;return r?T.jsx("tfoot",{className:n,style:a.tfoot,children:T.jsx("tr",{children:T.jsx("td",{colSpan:8,children:r})})}):T.jsx(T.Fragment,{})}function qp(e,t,r){for(var a=r?cr(new Date):Et(new Date,{locale:e,weekStartsOn:t}),n=[],s=0;s<7;s++){var i=Ge(a,s);n.push(i)}return n}function Zp(){var e=De(),t=e.classNames,r=e.styles,a=e.showWeekNumber,n=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=qp(n,s,i);return T.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&T.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return T.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:n}),children:l(u,{locale:n})},h)})]})}function Kp(){var e,t=De(),r=t.classNames,a=t.styles,n=t.components,s=(e=n==null?void 0:n.HeadRow)!==null&&e!==void 0?e:Zp;return T.jsx("thead",{style:a.head,className:r.head,children:T.jsx(s,{})})}function Jp(e){var t=De(),r=t.locale,a=t.formatters.formatDay;return T.jsx(T.Fragment,{children:a(e.date,{locale:r})})}var As=Ee.createContext(void 0);function Xp(e){if(!da(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return T.jsx(As.Provider,{value:t,children:e.children})}return T.jsx(Qp,{initialProps:e.initialProps,children:e.children})}function Qp(e){var t=e.initialProps,r=e.children,a=t.selected,n=t.min,s=t.max,i=function(d,u,h){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,d,u,h);var k=!!(u.selected&&n&&(a==null?void 0:a.length)===n);if(!k){var p=!!(!u.selected&&s&&(a==null?void 0:a.length)===s);if(!p){var w=a?Ql([],a):[];if(u.selected){var S=w.findIndex(function(x){return Ze(d,x)});w.splice(S,1)}else w.push(d);(y=t.onSelect)===null||y===void 0||y.call(t,w,d,u,h)}}},l={disabled:[]};a&&l.disabled.push(function(d){var u=s&&a.length>s-1,h=a.some(function(g){return Ze(g,d)});return!!(u&&!h)});var c={selected:a,onDayClick:i,modifiers:l};return T.jsx(As.Provider,{value:c,children:r})}function Es(){var e=Ee.useContext(As);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function eg(e,t){var r=t||{},a=r.from,n=r.to;return a&&n?Ze(n,e)&&Ze(a,e)?void 0:Ze(n,e)?{from:n,to:void 0}:Ze(a,e)?void 0:ts(a,e)?{from:e,to:n}:{from:a,to:e}:n?ts(e,n)?{from:n,to:e}:{from:e,to:n}:a?Xl(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var Ds=Ee.createContext(void 0);function tg(e){if(!ua(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return T.jsx(Ds.Provider,{value:t,children:e.children})}return T.jsx(rg,{initialProps:e.initialProps,children:e.children})}function rg(e){var t=e.initialProps,r=e.children,a=t.selected,n=a||{},s=n.from,i=n.to,l=t.min,c=t.max,d=function(y,k,p){var w,S;(w=t.onDayClick)===null||w===void 0||w.call(t,y,k,p);var x=eg(y,a);(S=t.onSelect)===null||S===void 0||S.call(t,x,y,k,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],i?(u.range_end=[i],Ze(s,i)||(u.range_middle=[{after:s,before:i}])):u.range_end=[s]):i&&(u.range_start=[i],u.range_end=[i]),l&&(s&&!i&&u.disabled.push({after:An(s,l-1),before:Ge(s,l-1)}),s&&i&&u.disabled.push({after:s,before:Ge(s,l-1)}),!s&&i&&u.disabled.push({after:An(i,l-1),before:Ge(i,l-1)})),c){if(s&&!i&&(u.disabled.push({before:Ge(s,-c+1)}),u.disabled.push({after:Ge(s,c-1)})),s&&i){var h=St(i,s)+1,g=c-h;u.disabled.push({before:An(s,g)}),u.disabled.push({after:Ge(i,g)})}!s&&i&&(u.disabled.push({before:Ge(i,-c+1)}),u.disabled.push({after:Ge(i,c-1)}))}return T.jsx(Ds.Provider,{value:{selected:a,onDayClick:d,modifiers:u},children:r})}function Ps(){var e=Ee.useContext(Ds);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function wa(e){return Array.isArray(e)?Ql([],e):e!==void 0?[e]:[]}function ag(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],n=r[1];t[a]=wa(n)}),t}var xt;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xt||(xt={}));var ng=xt.Selected,Pt=xt.Disabled,sg=xt.Hidden,og=xt.Today,Dn=xt.RangeEnd,Pn=xt.RangeMiddle,Tn=xt.RangeStart,ig=xt.Outside;function lg(e,t,r){var a,n=(a={},a[ng]=wa(e.selected),a[Pt]=wa(e.disabled),a[sg]=wa(e.hidden),a[og]=[e.today],a[Dn]=[],a[Pn]=[],a[Tn]=[],a[ig]=[],a);return e.fromDate&&n[Pt].push({before:e.fromDate}),e.toDate&&n[Pt].push({after:e.toDate}),da(e)?n[Pt]=n[Pt].concat(t.modifiers[Pt]):ua(e)&&(n[Pt]=n[Pt].concat(r.modifiers[Pt]),n[Tn]=r.modifiers[Tn],n[Pn]=r.modifiers[Pn],n[Dn]=r.modifiers[Dn]),n}var nc=Ee.createContext(void 0);function cg(e){var t=De(),r=Es(),a=Ps(),n=lg(t,r,a),s=ag(t.modifiers),i=me(me({},n),s);return T.jsx(nc.Provider,{value:i,children:e.children})}function sc(){var e=Ee.useContext(nc);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function dg(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ug(e){return!!(e&&typeof e=="object"&&"from"in e)}function fg(e){return!!(e&&typeof e=="object"&&"after"in e)}function mg(e){return!!(e&&typeof e=="object"&&"before"in e)}function hg(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function pg(e,t){var r,a=t.from,n=t.to;if(a&&n){var s=St(n,a)<0;s&&(r=[n,a],a=r[0],n=r[1]);var i=St(e,a)>=0&&St(n,e)>=0;return i}return n?Ze(n,e):a?Ze(a,e):!1}function gg(e){return Ns(e)}function yg(e){return Array.isArray(e)&&e.every(Ns)}function vg(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(gg(r))return Ze(e,r);if(yg(r))return r.includes(e);if(ug(r))return pg(e,r);if(hg(r))return r.dayOfWeek.includes(e.getDay());if(dg(r)){var a=St(r.before,e),n=St(r.after,e),s=a>0,i=n<0,l=ts(r.before,r.after);return l?i&&s:s||i}return fg(r)?St(e,r.after)>0:mg(r)?St(r.before,e)>0:typeof r=="function"?r(e):!1})}function Ts(e,t,r){var a=Object.keys(t).reduce(function(s,i){var l=t[i];return vg(e,l)&&s.push(i),s},[]),n={};return a.forEach(function(s){return n[s]=!0}),r&&!Ms(e,r)&&(n.outside=!0),n}function xg(e,t){for(var r=Ke(e[0]),a=Ss(e[e.length-1]),n,s,i=r;i<=a;){var l=Ts(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Ge(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),n||(n=i),i=Ge(i,1)}return s||n}var bg=365;function oc(e,t){var r=t.moveBy,a=t.direction,n=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=n.weekStartsOn,d=n.fromDate,u=n.toDate,h=n.locale,g={day:Ge,week:es,month:vt,year:lh,startOfWeek:function(w){return n.ISOWeek?cr(w):Et(w,{locale:h,weekStartsOn:c})},endOfWeek:function(w){return n.ISOWeek?Gl(w):Cs(w,{locale:h,weekStartsOn:c})}},y=g[r](e,a==="after"?1:-1);a==="before"&&d?y=ch([d,y]):a==="after"&&u&&(y=dh([u,y]));var k=!0;if(s){var p=Ts(y,s);k=!p.disabled&&!p.hidden}return k?y:l.count>bg?l.lastFocused:oc(y,{moveBy:r,direction:a,context:n,modifiers:s,retry:me(me({},l),{count:l.count+1})})}var ic=Ee.createContext(void 0);function _g(e){var t=fa(),r=sc(),a=Ee.useState(),n=a[0],s=a[1],i=Ee.useState(),l=i[0],c=i[1],d=xg(t.displayMonths,r),u=n??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(n),s(void 0)},g=function(w){s(w)},y=De(),k=function(w,S){if(n){var x=oc(n,{moveBy:w,direction:S,context:y,modifiers:r});Ze(n,x)||(t.goToDate(x,n),g(x))}},p={focusedDay:n,focusTarget:u,blur:h,focus:g,focusDayAfter:function(){return k("day","after")},focusDayBefore:function(){return k("day","before")},focusWeekAfter:function(){return k("week","after")},focusWeekBefore:function(){return k("week","before")},focusMonthBefore:function(){return k("month","before")},focusMonthAfter:function(){return k("month","after")},focusYearBefore:function(){return k("year","before")},focusYearAfter:function(){return k("year","after")},focusStartOfWeek:function(){return k("startOfWeek","before")},focusEndOfWeek:function(){return k("endOfWeek","after")}};return T.jsx(ic.Provider,{value:p,children:e.children})}function Rs(){var e=Ee.useContext(ic);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function wg(e,t){var r=sc(),a=Ts(e,r,t);return a}var Os=Ee.createContext(void 0);function kg(e){if(!on(e.initialProps)){var t={selected:void 0};return T.jsx(Os.Provider,{value:t,children:e.children})}return T.jsx(jg,{initialProps:e.initialProps,children:e.children})}function jg(e){var t=e.initialProps,r=e.children,a=function(s,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,s,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,s,s,i,l)},n={selected:t.selected,onDayClick:a};return T.jsx(Os.Provider,{value:n,children:r})}function lc(){var e=Ee.useContext(Os);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Ng(e,t){var r=De(),a=lc(),n=Es(),s=Ps(),i=Rs(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,h=i.blur,g=i.focus,y=i.focusMonthBefore,k=i.focusMonthAfter,p=i.focusYearBefore,w=i.focusYearAfter,S=i.focusStartOfWeek,x=i.focusEndOfWeek,M=function(D){var O,J,U,f;on(r)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,D):da(r)?(J=n.onDayClick)===null||J===void 0||J.call(n,e,t,D):ua(r)?(U=s.onDayClick)===null||U===void 0||U.call(s,e,t,D):(f=r.onDayClick)===null||f===void 0||f.call(r,e,t,D)},j=function(D){var O;g(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,D)},N=function(D){var O;h(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,D)},R=function(D){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,D)},b=function(D){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,D)},A=function(D){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,D)},B=function(D){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,D)},te=function(D){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,D)},le=function(D){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,D)},ee=function(D){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,D)},q=function(D){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,D)},ce=function(D){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,D)},fe=function(D){var O;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),d();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),u();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?p():y();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?w():k();break;case"Home":D.preventDefault(),D.stopPropagation(),S();break;case"End":D.preventDefault(),D.stopPropagation(),x();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,D)},ie={onClick:M,onFocus:j,onBlur:N,onKeyDown:fe,onKeyUp:ce,onMouseEnter:R,onMouseLeave:b,onPointerEnter:A,onPointerLeave:B,onTouchCancel:te,onTouchEnd:le,onTouchMove:ee,onTouchStart:q};return ie}function Sg(){var e=De(),t=lc(),r=Es(),a=Ps(),n=on(e)?t.selected:da(e)?r.selected:ua(e)?a.selected:void 0;return n}function Cg(e){return Object.values(xt).includes(e)}function Mg(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var n=e.modifiersClassNames[a];if(n)r.push(n);else if(Cg(a)){var s=e.classNames["day_".concat(a)];s&&r.push(s)}}),r}function Ag(e,t){var r=me({},e.styles.day);return Object.keys(t).forEach(function(a){var n;r=me(me({},r),(n=e.modifiersStyles)===null||n===void 0?void 0:n[a])}),r}function Eg(e,t,r){var a,n,s,i=De(),l=Rs(),c=wg(e,t),d=Ng(e,c),u=Sg(),h=!!(i.onDayClick||i.mode!=="default");Ee.useEffect(function(){var R;c.outside||l.focusedDay&&h&&Ze(l.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[l.focusedDay,e,r,h,c.outside]);var g=Mg(i,c).join(" "),y=Ag(i,c),k=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(s=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&s!==void 0?s:Jp,w=T.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),S={style:y,className:g,children:w,role:"gridcell"},x=l.focusTarget&&Ze(l.focusTarget,e)&&!c.outside,M=l.focusedDay&&Ze(l.focusedDay,e),j=me(me(me({},S),(a={disabled:c.disabled,role:"gridcell"},a["aria-selected"]=c.selected,a.tabIndex=M||x?0:-1,a)),d),N={isButton:h,isHidden:k,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:S};return N}function Dg(e){var t=Ee.useRef(null),r=Eg(e.date,e.displayMonth,t);return r.isHidden?T.jsx("div",{role:"gridcell"}):r.isButton?T.jsx(za,me({name:"day",ref:t},r.buttonProps)):T.jsx("div",me({},r.divProps))}function Pg(e){var t=e.number,r=e.dates,a=De(),n=a.onWeekNumberClick,s=a.styles,i=a.classNames,l=a.locale,c=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!n)return T.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:u});var h=c(Number(t),{locale:l}),g=function(y){n(t,r,y)};return T.jsx(za,{name:"week-number","aria-label":h,className:i.weeknumber,style:s.weeknumber,onClick:g,children:u})}function Tg(e){var t,r,a=De(),n=a.styles,s=a.classNames,i=a.showWeekNumber,l=a.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Dg,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Pg,u;return i&&(u=T.jsx("td",{className:s.cell,style:n.cell,children:T.jsx(d,{number:e.weekNumber,dates:e.dates})})),T.jsxs("tr",{className:s.row,style:n.row,children:[u,e.dates.map(function(h){return T.jsx("td",{className:s.cell,style:n.cell,role:"presentation",children:T.jsx(c,{displayMonth:e.displayMonth,date:h})},cp(h))})]})}function Vo(e,t,r){for(var a=r!=null&&r.ISOWeek?Gl(t):Cs(t,r),n=r!=null&&r.ISOWeek?cr(e):Et(e,r),s=St(a,n),i=[],l=0;l<=s;l++)i.push(Ge(n,l));var c=i.reduce(function(d,u){var h=r!=null&&r.ISOWeek?ql(u):Kl(u,r),g=d.find(function(y){return y.weekNumber===h});return g?(g.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function Rg(e,t){var r=Vo(Ke(e),Ss(e),t);if(t!=null&&t.useFixedWeeks){var a=up(e,t);if(a<6){var n=r[r.length-1],s=n.dates[n.dates.length-1],i=es(s,6-a),l=Vo(es(s,1),i,t);r.push.apply(r,l)}}return r}function Og(e){var t,r,a,n=De(),s=n.locale,i=n.classNames,l=n.styles,c=n.hideHead,d=n.fixedWeeks,u=n.components,h=n.weekStartsOn,g=n.firstWeekContainsDate,y=n.ISOWeek,k=Rg(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:s,weekStartsOn:h,firstWeekContainsDate:g}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:Kp,w=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Tg,S=(a=u==null?void 0:u.Footer)!==null&&a!==void 0?a:Hp;return T.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&T.jsx(p,{}),T.jsx("tbody",{className:i.tbody,style:l.tbody,children:k.map(function(x){return T.jsx(w,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),T.jsx(S,{displayMonth:e.displayMonth})]})}function Ig(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Fg=Ig()?Ee.useLayoutEffect:Ee.useEffect,Rn=!1,Ug=0;function Bo(){return"react-day-picker-".concat(++Ug)}function Lg(e){var t,r=e??(Rn?Bo():null),a=Ee.useState(r),n=a[0],s=a[1];return Fg(function(){n===null&&s(Bo())},[]),Ee.useEffect(function(){Rn===!1&&(Rn=!0)},[]),(t=e??n)!==null&&t!==void 0?t:void 0}function $g(e){var t,r,a=De(),n=a.dir,s=a.classNames,i=a.styles,l=a.components,c=fa().displayMonths,d=Lg(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),u=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[s.month],g=i.month,y=e.displayIndex===0,k=e.displayIndex===c.length-1,p=!y&&!k;n==="rtl"&&(t=[y,k],k=t[0],y=t[1]),y&&(h.push(s.caption_start),g=me(me({},g),i.caption_start)),k&&(h.push(s.caption_end),g=me(me({},g),i.caption_end)),p&&(h.push(s.caption_between),g=me(me({},g),i.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Gp;return T.jsxs("div",{className:h.join(" "),style:g,children:[T.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),T.jsx(Og,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Vg(e){var t=De(),r=t.classNames,a=t.styles;return T.jsx("div",{className:r.months,style:a.months,children:e.children})}function Bg(e){var t,r,a=e.initialProps,n=De(),s=Rs(),i=fa(),l=Ee.useState(!1),c=l[0],d=l[1];Ee.useEffect(function(){n.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),d(!0)))},[n.initialFocus,c,s.focus,s.focusTarget,s]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var h=me(me({},n.styles.root),n.style),g=Object.keys(a).filter(function(k){return k.startsWith("data-")}).reduce(function(k,p){var w;return me(me({},k),(w={},w[p]=a[p],w))},{}),y=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Vg;return T.jsx("div",me({className:u.join(" "),style:h,dir:n.dir,id:n.id,nonce:a.nonce,title:a.title,lang:a.lang},g,{children:T.jsx(y,{children:i.displayMonths.map(function(k,p){return T.jsx($g,{displayIndex:p,displayMonth:k},p)})})}))}function Wg(e){var t=e.children,r=mp(e,["children"]);return T.jsx(Pp,{initialProps:r,children:T.jsx(Bp,{children:T.jsx(kg,{initialProps:r,children:T.jsx(Xp,{initialProps:r,children:T.jsx(tg,{initialProps:r,children:T.jsx(cg,{children:T.jsx(_g,{children:t})})})})})})})}function zg(e){return T.jsx(Wg,me({},e,{children:T.jsx(Bg,{initialProps:e})}))}function Is({className:e,classNames:t,showOutsideDays:r=!0,...a}){return o.jsx(zg,{showOutsideDays:r,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(Ks({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(Ks({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...n})=>o.jsx(Ad,{className:"h-4 w-4"}),IconRight:({...n})=>o.jsx(Zo,{className:"h-4 w-4"})},...a})}Is.displayName="Calendar";const Yg=ot({id:ge().optional(),type:ps(["notification","study","event"],{message:"Tipe tidak valid."}),title:ge().min(1,"Judul tidak boleh kosong.").max(100,"Judul terlalu panjang."),content:ge().min(1,"Konten tidak boleh kosong."),event_date:ge().nullable().optional(),event_time:ge().nullable().optional(),display_order:Le.number().int().min(0,"Urutan tampilan harus non-negatif.").default(0)}),Gg=[{value:"notification",label:"Pengumuman"},{value:"study",label:"Kajian"},{value:"event",label:"Acara Khusus"}],Hg=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!1),[n,s]=m.useState(null),i=Qe({resolver:et(Yg),defaultValues:{type:"notification",title:"",content:"",event_date:null,event_time:null,display_order:0}}),{handleSubmit:l,register:c,setValue:d,watch:u,reset:h,formState:{isSubmitting:g,errors:y}}=i,k=u("type"),p=u("event_date"),w=m.useCallback(async()=>{const{data:N,error:R}=await V.from("notifications_and_studies").select("*").order("display_order",{ascending:!0}).order("created_at",{ascending:!1});R?(console.error("Error fetching notifications/studies:",R),P.error("Gagal memuat notifikasi & kajian.")):t(N||[])},[]);m.useEffect(()=>{w();const N=V.channel("notifications_and_studies_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications_and_studies"},R=>{console.log("Notification/Study change received!",R),w()}).subscribe();return console.log("NotificationStudySettings: Subscribed to channel 'notifications_and_studies_changes'."),()=>{V.removeChannel(N),console.log("NotificationStudySettings: Unsubscribed from channel 'notifications_and_studies_changes'.")}},[w]);const S=()=>{s(null),h({type:"notification",title:"",content:"",event_date:null,event_time:null,display_order:0}),a(!0)},x=N=>{s(N),h({id:N.id,type:N.type,title:N.title,content:N.content,event_date:N.event_date||null,event_time:N.event_time||null,display_order:N.display_order}),a(!0)},M=async N=>{if(!window.confirm("Apakah Anda yakin ingin menghapus item ini?"))return;const{error:R}=await V.from("notifications_and_studies").delete().eq("id",N);R?(console.error("Error deleting item:",R),P.error("Gagal menghapus item.")):(P.success("Item berhasil dihapus!"),w())},j=async N=>{const R={type:N.type,title:N.title,content:N.content,event_date:N.event_date||null,event_time:N.event_time||null,display_order:N.display_order};if(n){const{error:b}=await V.from("notifications_and_studies").update(R).eq("id",n.id);b?(console.error("Error updating item:",b),P.error("Gagal memperbarui item.")):(P.success("Item berhasil diperbarui!"),a(!1),w())}else{const{error:b}=await V.from("notifications_and_studies").insert(R);b?(console.error("Error adding item:",b),P.error("Gagal menambahkan item.")):(P.success("Item berhasil ditambahkan!"),a(!1),w())}};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700 col-span-full lg:col-span-2",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Notifikasi & Kajian"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Kelola pengumuman, jadwal kajian, dan acara khusus."}),o.jsxs(ue,{onClick:S,className:"w-full bg-green-600 hover:bg-green-700 text-white mb-4",children:[o.jsx(ra,{className:"mr-2 h-4 w-4"})," Tambah Item Baru"]}),o.jsx("div",{className:"space-y-3",children:e.length===0?o.jsx("p",{className:"text-gray-400 text-center",children:"Belum ada notifikasi atau kajian. Tambahkan yang pertama!"}):e.map(N=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-md shadow-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-lg text-blue-200",children:N.title}),o.jsx("p",{className:"text-sm text-gray-300 truncate max-w-xs",children:N.content}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Tipe: ",N.type," | Urutan: ",N.display_order,(N.event_date||N.event_time)&&o.jsxs("span",{children:[" | Jadwal: ",N.event_date?tr(new Date(N.event_date),"dd/MM/yyyy"):""," ",N.event_time]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>x(N),className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:o.jsx(Pr,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>M(N.id),className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:o.jsx(Tr,{className:"h-4 w-4"})})]})]},N.id))}),o.jsx(qt,{open:r,onOpenChange:a,children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:n?"Edit Item Notifikasi/Kajian":"Tambah Item Baru"}),o.jsx(Zt,{children:n?"Perbarui detail notifikasi, kajian, atau acara khusus ini.":"Isi detail untuk notifikasi, kajian, atau acara khusus baru."})]}),o.jsxs("form",{onSubmit:l(j),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"type",className:"text-gray-300",children:"Tipe"}),o.jsxs(gt,{onValueChange:N=>d("type",N),defaultValue:i.getValues("type"),children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white mt-1",children:o.jsx(yt,{placeholder:"Pilih Tipe"})}),o.jsx(ct,{className:"bg-gray-700 text-white border-gray-600",children:Gg.map(N=>o.jsx($e,{value:N.value,children:N.label},N.value))})]}),y.type&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.type.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"title",className:"text-gray-300",children:"Judul"}),o.jsx(ve,{id:"title",...c("title"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Judul notifikasi atau kajian"}),y.title&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.title.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"content",className:"text-gray-300",children:"Konten"}),o.jsx(Ja,{id:"content",...c("content"),className:"bg-gray-700 border-gray-600 text-white mt-1 min-h-[100px]",placeholder:"Detail notifikasi atau kajian..."}),y.content&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.content.message})]}),(k==="study"||k==="event")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"event_date",className:"text-gray-300 block mb-1",children:"Tanggal Acara (Opsional)"}),o.jsxs(Vl,{children:[o.jsx(Bl,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:xe("w-full justify-start text-left font-normal bg-gray-700 border-gray-600 text-white",!p&&"text-muted-foreground"),children:[o.jsx(Go,{className:"mr-2 h-4 w-4"}),p?tr(new Date(p),"PPP"):o.jsx("span",{children:"Pilih tanggal"})]})}),o.jsx(ks,{className:"w-auto p-0 bg-gray-700 border-gray-600 text-white",children:o.jsx(Is,{mode:"single",selected:p?new Date(p):void 0,onSelect:N=>d("event_date",N?tr(N,"yyyy-MM-dd"):null),initialFocus:!0})})]}),y.event_date&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.event_date.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"event_time",className:"text-gray-300",children:"Waktu Acara (Opsional, HH:MM)"}),o.jsx(ve,{id:"event_time",...c("event_time"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: 19:30"}),y.event_time&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.event_time.message})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"display_order",className:"text-gray-300",children:"Urutan Tampilan"}),o.jsx(ve,{id:"display_order",type:"number",...c("display_order"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),y.display_order&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.display_order.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>a(!1),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:g,className:"bg-blue-600 hover:bg-blue-700 text-white",children:g?"Menyimpan...":n?"Simpan Perubahan":"Tambah Item"})]})]})]})})]})]})},qg=ot({id:ge().optional(),transaction_type:ps(["inflow","outflow"],{message:"Tipe transaksi tidak valid."}),amount:Le.number().min(.01,"Jumlah harus lebih besar dari 0.").max(1e12,"Jumlah terlalu besar."),description:ge().min(1,"Deskripsi tidak boleh kosong.").max(255,"Deskripsi terlalu panjang.")}),Zg=[{value:"inflow",label:"Pemasukan"},{value:"outflow",label:"Pengeluaran"}],Kg=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(0),[n,s]=m.useState(!1),[i,l]=m.useState(null),c=Qe({resolver:et(qg),defaultValues:{transaction_type:"inflow",amount:0,description:""}}),{handleSubmit:d,register:u,setValue:h,reset:g,formState:{isSubmitting:y,errors:k}}=c,p=m.useCallback(async()=>{const{data:j,error:N}=await V.from("financial_records").select("*").order("created_at",{ascending:!0});if(N)console.error("Error fetching financial records:",N),P.error("Gagal memuat catatan keuangan.");else{t(j||[]);const R=(j||[]).reduce((b,A)=>A.transaction_type==="inflow"?b+A.amount:b-A.amount,0);a(R)}},[]);m.useEffect(()=>{p();const j=V.channel("financial_records_changes").on("postgres_changes",{event:"*",schema:"public",table:"financial_records"},N=>{console.log("Financial record change received!",N),p()}).subscribe();return console.log("FinancialSettings: Subscribed to channel 'financial_records_changes'."),()=>{V.removeChannel(j),console.log("FinancialSettings: Unsubscribed from channel 'financial_records_changes'.")}},[p]);const w=()=>{l(null),g({transaction_type:"inflow",amount:0,description:""}),s(!0)},S=j=>{l(j),g({id:j.id,transaction_type:j.transaction_type,amount:j.amount,description:j.description}),s(!0)},x=async j=>{if(!window.confirm("Apakah Anda yakin ingin menghapus catatan ini?"))return;const{error:N}=await V.from("financial_records").delete().eq("id",j);N?(console.error("Error deleting record:",N),P.error("Gagal menghapus catatan keuangan.")):(P.success("Catatan keuangan berhasil dihapus!"),p())},M=async j=>{const N={transaction_type:j.transaction_type,amount:j.amount,description:j.description};if(i){const{error:R}=await V.from("financial_records").update(N).eq("id",i.id);R?(console.error("Error updating record:",R),P.error("Gagal memperbarui catatan keuangan.")):(P.success("Catatan keuangan berhasil diperbarui!"),s(!1),p())}else{const{error:R}=await V.from("financial_records").insert(N);R?(console.error("Error adding record:",R),P.error("Gagal menambahkan catatan keuangan.")):(P.success("Catatan keuangan berhasil ditambahkan!"),s(!1),p())}};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700 col-span-full lg:col-span-2",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Informasi Keuangan"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Kelola catatan pemasukan dan pengeluaran masjid."}),o.jsxs("div",{className:"mb-6 p-4 bg-gray-700 rounded-md shadow-inner",children:[o.jsx("h3",{className:"text-xl font-semibold text-yellow-300",children:"Saldo Saat Ini:"}),o.jsxs("p",{className:"text-4xl font-bold text-green-400",children:["Rp ",r.toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),o.jsxs(ue,{onClick:w,className:"w-full bg-green-600 hover:bg-green-700 text-white mb-4",children:[o.jsx(ra,{className:"mr-2 h-4 w-4"})," Tambah Transaksi Baru"]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:e.length===0?o.jsx("p",{className:"text-gray-400 text-center",children:"Belum ada catatan keuangan. Tambahkan yang pertama!"}):e.map(j=>o.jsxs("div",{className:"flex flex-col items-start bg-gray-700 p-3 rounded-md shadow-sm",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-xl text-blue-200",children:[" ",j.description]}),o.jsxs("p",{className:`text-lg font-semibold ${j.transaction_type==="inflow"?"text-green-400":"text-red-400"}`,children:[" ",j.transaction_type==="inflow"?"Pemasukan":"Pengeluaran",": Rp ",j.amount.toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0})]}),o.jsxs("p",{className:"text-base text-gray-400",children:[" ",tr(new Date(j.created_at),"dd MMMM yyyy, HH:mm",{locale:Un})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>S(j),className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:o.jsx(Pr,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>x(j.id),className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:o.jsx(Tr,{className:"h-4 w-4"})})]})]},j.id))}),o.jsx(qt,{open:n,onOpenChange:s,children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(Lt,{children:o.jsx(Vt,{className:"text-blue-300",children:i?"Edit Catatan Keuangan":"Tambah Transaksi Baru"})}),o.jsxs("form",{onSubmit:d(M),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"transaction_type",className:"text-gray-300",children:"Tipe Transaksi"}),o.jsxs(gt,{onValueChange:j=>h("transaction_type",j),defaultValue:c.getValues("transaction_type"),children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white mt-1",children:o.jsx(yt,{placeholder:"Pilih Tipe"})}),o.jsx(ct,{className:"bg-gray-700 text-white border-gray-600",children:Zg.map(j=>o.jsx($e,{value:j.value,children:j.label},j.value))})]}),k.transaction_type&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:k.transaction_type.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"amount",className:"text-gray-300",children:"Jumlah (Rp)"}),o.jsx(ve,{id:"amount",type:"number",step:"0.01",...u("amount"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: 150000"}),k.amount&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:k.amount.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"description",className:"text-gray-300",children:"Deskripsi"}),o.jsx(ve,{id:"description",...u("description"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: Donasi hamba Allah"}),k.description&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:k.description.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>s(!1),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:y?"Menyimpan...":i?"Simpan Perubahan":"Tambah Transaksi"})]})]})]})})]})]})};var Fs="Switch",[Jg,Jv]=dr(Fs),[Xg,Qg]=Jg(Fs),cc=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:n,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[g,y]=m.useState(null),k=Te(t,M=>y(M)),p=m.useRef(!1),w=g?u||!!g.closest("form"):!0,[S=!1,x]=rr({prop:n,defaultProp:s,onChange:d});return o.jsxs(Xg,{scope:r,checked:S,disabled:l,children:[o.jsx(Me.button,{type:"button",role:"switch","aria-checked":S,"aria-required":i,"data-state":fc(S),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:k,onClick:oe(e.onClick,M=>{x(j=>!j),w&&(p.current=M.isPropagationStopped(),p.current||M.stopPropagation())})}),w&&o.jsx(ey,{control:g,bubbles:!p.current,name:a,value:c,checked:S,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});cc.displayName=Fs;var dc="SwitchThumb",uc=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,n=Qg(dc,r);return o.jsx(Me.span,{"data-state":fc(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});uc.displayName=dc;var ey=e=>{const{control:t,checked:r,bubbles:a=!0,...n}=e,s=m.useRef(null),i=vi(r),l=Nd(t);return m.useEffect(()=>{const c=s.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&h){const g=new Event("click",{bubbles:a});h.call(c,r),c.dispatchEvent(g)}},[i,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fc(e){return e?"checked":"unchecked"}var mc=cc,ty=uc;const Zr=m.forwardRef(({className:e,...t},r)=>o.jsx(mc,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(ty,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zr.displayName=mc.displayName;const ry=()=>{const{settings:e,isLoadingSettings:t,refetchSettings:r}=Er(),[a,n]=Fn.useState(!1),[s,i]=Fn.useState(!0);m.useEffect(()=>{!t&&e?(n(e.is_ramadan_mode_active),i(!1)):!t&&!e&&(n(!1),i(!1))},[e,t]);const l=async c=>{n(c);const{error:d}=await V.from("app_settings").upsert({id:1,is_ramadan_mode_active:c},{onConflict:"id"});d?(console.error("Error saving Ramadan mode setting:",d),P.error("Gagal menyimpan pengaturan mode Ramadan."),n(!c)):(P.success(`Mode Ramadan ${c?"diaktifkan":"dinonaktifkan"}.`),r())};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Mode Ramadan"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Aktifkan mode Ramadan untuk menampilkan waktu Imsak."}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsx(ne,{htmlFor:"ramadan-mode",className:"text-gray-300 text-lg",children:"Aktifkan Mode Ramadan"}),s?o.jsx("div",{className:"w-12 h-6 bg-gray-700 rounded-full animate-pulse"}):o.jsx(Zr,{id:"ramadan-mode",checked:a,onCheckedChange:l,className:"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-600"})]})]})]})},ay=ot({backgroundImageUrl:ge().nullable().optional(),backgroundColor:ge().min(1,"Warna latar belakang tidak boleh kosong.").default("#0A0A0A")}),ny=()=>{const{settings:e,isLoadingSettings:t,refetchSettings:r}=Er(),a=Qe({resolver:et(ay),defaultValues:{backgroundImageUrl:null,backgroundColor:"#0A0A0A"}}),{handleSubmit:n,register:s,setValue:i,formState:{isSubmitting:l,errors:c}}=a,[d,u]=m.useState(null);m.useEffect(()=>{!t&&e&&(i("backgroundImageUrl",e.background_image_url),u(e.background_image_url),i("backgroundColor",e.background_color||"#0A0A0A"))},[e,t,i]);const h=async y=>{var j;const k=(j=y.target.files)==null?void 0:j[0];if(!k)return;const p=k.name.split(".").pop(),S=`backgrounds/${`${na()}.${p}`}`,x=P.loading("Mengunggah gambar latar belakang: 0%"),M=d;try{const{data:N,error:R}=await V.storage.from("images").upload(S,k,{cacheControl:"3600",upsert:!1,onUploadProgress:A=>{const B=Math.round(A.loaded*100/A.total);console.log(`Upload progress for background: ${B}%`),P.loading(`Mengunggah gambar latar belakang: ${B}%`,{id:x})}});if(R)throw R;const{data:b}=V.storage.from("images").getPublicUrl(S);if(b!=null&&b.publicUrl){if(i("backgroundImageUrl",b.publicUrl),u(b.publicUrl),P.loading("Mengunggah gambar latar belakang: 100%",{id:x}),P.success("Gambar latar belakang berhasil diunggah!",{id:x}),P.info("Untuk performa terbaik di perangkat rendah, pastikan ukuran file gambar dioptimalkan (misal: format WebP, resolusi sesuai kebutuhan)."),M&&M!==b.publicUrl)try{const A=M.split("/"),B=A.indexOf("public"),te=A.slice(B+2).join("/"),{error:le}=await V.storage.from("images").remove([te]);le?(console.warn("Gagal menghapus gambar latar belakang lama dari storage:",le),P.warning("Gagal menghapus gambar latar belakang lama.")):console.log("Gambar latar belakang lama berhasil dihapus.")}catch(A){console.warn("Error parsing old image path for deletion:",A)}}else throw new Error("Gagal mendapatkan URL publik gambar.")}catch(N){console.error("Error uploading image:",N),P.error(`Gagal mengunggah gambar: ${N.message}`,{id:x})}},g=async y=>{const{data:k,error:p}=await V.from("app_settings").upsert({id:1,background_image_url:y.backgroundImageUrl||null,background_color:y.backgroundColor},{onConflict:"id"});p?(console.error("Error saving display settings:",p),P.error("Gagal menyimpan pengaturan tampilan.")):(P.success("Pengaturan tampilan berhasil disimpan!"),console.log("Display settings saved:",k),r())};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Tampilan"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Atur gambar atau warna latar belakang untuk tampilan utama."}),o.jsxs("form",{onSubmit:n(g),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"backgroundImageUpload",className:"text-gray-300",children:"Unggah Gambar Latar Belakang (Opsional)"}),o.jsx(ve,{id:"backgroundImageUpload",type:"file",accept:"image/*",onChange:h,className:"bg-gray-700 border-gray-600 text-white mt-1 file:text-white file:bg-blue-600 file:hover:bg-blue-700 file:border-none file:rounded-md file:px-3 file:py-1"}),d&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Gambar saat ini:"}),o.jsx("img",{src:d,alt:"Current Background",className:"max-w-full h-32 object-contain rounded-md border border-gray-600"})]}),c.backgroundImageUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.backgroundImageUrl.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"backgroundColor",className:"text-gray-300",children:"Warna Latar Belakang (Hex atau Nama Warna)"}),o.jsx(ve,{id:"backgroundColor",type:"text",...s("backgroundColor"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: #0A0A0A atau black"}),c.backgroundColor&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.backgroundColor.message})]}),o.jsx(ue,{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:l?"Menyimpan...":"Simpan Pengaturan Tampilan"})]})]})]})},sy=ot({murottalActive:yn().default(!1),tarhimActive:yn().default(!1),iqomahCountdownDuration:Le.number().int().min(0,"Durasi harus non-negatif.").default(300),murottalPreAdhanDuration:Le.number().int().min(0,"Durasi harus non-negatif.").default(10),tarhimPreAdhanDuration:Le.number().int().min(0,"Durasi harus non-negatif.").default(300),murottalAudioUrlFajr:ge().nullable().optional(),murottalAudioUrlDhuhr:ge().nullable().optional(),murottalAudioUrlAsr:ge().nullable().optional(),murottalAudioUrlMaghrib:ge().nullable().optional(),murottalAudioUrlIsha:ge().nullable().optional(),murottalAudioUrlImsak:ge().nullable().optional(),tarhimAudioUrl:ge().nullable().optional(),khutbahDurationMinutes:Le.number().int().min(1,"Durasi khutbah harus lebih dari 0 menit.").default(45),isMasterAudioActive:yn().default(!0),adhanBeepAudioUrl:ge().nullable().optional(),iqomahBeepAudioUrl:ge().nullable().optional(),imsakBeepAudioUrl:ge().nullable().optional()}),oy=ot({title:ge().max(100,"Judul terlalu panjang.").nullable().optional(),file:gi(FileList).refine(e=>e.length>0,"File audio harus diunggah.")}),iy=[{name:"murottalAudioUrlFajr",label:"Audio Murottal Subuh"},{name:"murottalAudioUrlDhuhr",label:"Audio Murottal Dzuhur"},{name:"murottalAudioUrlAsr",label:"Audio Murottal Ashar"},{name:"murottalAudioUrlMaghrib",label:"Audio Murottal Maghrib"},{name:"murottalAudioUrlIsha",label:"Audio Murottal Isya"},{name:"murottalAudioUrlImsak",label:"Audio Murottal Imsak (Mode Ramadan)"}],ly={murottalActive:"murottal_active",tarhimActive:"tarhim_active",iqomahCountdownDuration:"iqomah_countdown_duration",murottalPreAdhanDuration:"murottal_pre_adhan_duration",tarhimPreAdhanDuration:"tarhim_pre_adhan_duration",murottalAudioUrlFajr:"murottal_audio_url_fajr",murottalAudioUrlDhuhr:"murottal_audio_url_dhuhr",murottalAudioUrlAsr:"murottal_audio_url_asr",murottalAudioUrlMaghrib:"murottal_audio_url_maghrib",murottalAudioUrlIsha:"murottal_audio_url_isha",murottalAudioUrlImsak:"murottal_audio_url_imsak",tarhimAudioUrl:"tarhim_audio_url",khutbahDurationMinutes:"khutbah_duration_minutes",isMasterAudioActive:"is_master_audio_active",adhanBeepAudioUrl:"adhan_beep_audio_url",iqomahBeepAudioUrl:"iqomah_beep_audio_url",imsakBeepAudioUrl:"imsak_beep_audio_url"},cy=()=>{const{settings:e,isLoadingSettings:t,refetchSettings:r}=Er(),[a,n]=m.useState([]),[s,i]=m.useState(!1),l=Qe({resolver:et(sy),defaultValues:{murottalActive:!1,tarhimActive:!1,iqomahCountdownDuration:300,murottalPreAdhanDuration:10,tarhimPreAdhanDuration:300,murottalAudioUrlFajr:null,murottalAudioUrlDhuhr:null,murottalAudioUrlAsr:null,murottalAudioUrlMaghrib:null,murottalAudioUrlIsha:null,murottalAudioUrlImsak:null,tarhimAudioUrl:null,khutbahDurationMinutes:45,isMasterAudioActive:!0,adhanBeepAudioUrl:null,iqomahBeepAudioUrl:null,imsakBeepAudioUrl:null}}),c=Qe({resolver:et(oy),defaultValues:{title:"",file:void 0}}),{handleSubmit:d,register:u,setValue:h,formState:{isSubmitting:g,errors:y}}=l,{handleSubmit:k,register:p,reset:w,formState:{isSubmitting:S,errors:x}}=c,M=m.useCallback(async()=>{try{const{data:b,error:A}=await V.from("media_files").select("id, title, file_path, file_type, source_type").eq("file_type","audio").eq("source_type","upload").order("title",{ascending:!0});A?(console.error("Error fetching available audio files:",A),P.error("Gagal memuat daftar audio.")):n(b||[])}catch(b){console.error("Unexpected error fetching available audio files:",b),P.error("Terjadi kesalahan saat memuat daftar audio.")}},[]);m.useEffect(()=>{M(),!t&&e&&(h("murottalActive",e.murottal_active),h("tarhimActive",e.tarhim_active),h("iqomahCountdownDuration",e.iqomah_countdown_duration),h("murottalPreAdhanDuration",e.murottal_pre_adhan_duration||10),h("tarhimPreAdhanDuration",e.tarhim_pre_adhan_duration||300),h("murottalAudioUrlFajr",e.murottal_audio_url_fajr),h("murottalAudioUrlDhuhr",e.murottal_audio_url_dhuhr),h("murottalAudioUrlAsr",e.murottal_audio_url_asr),h("murottalAudioUrlMaghrib",e.murottal_audio_url_maghrib),h("murottalAudioUrlIsha",e.murottal_audio_url_isha),h("murottalAudioUrlImsak",e.murottal_audio_url_imsak),h("tarhimAudioUrl",e.tarhim_audio_url),h("khutbahDurationMinutes",e.khutbah_duration_minutes||45),h("isMasterAudioActive",e.is_master_audio_active??!0),h("adhanBeepAudioUrl",e.adhan_beep_audio_url),h("iqomahBeepAudioUrl",e.iqomah_beep_audio_url),h("imsakBeepAudioUrl",e.imsak_beep_audio_url))},[e,t,h,M]);const j=async b=>{const A=b.file[0],B=A.name.split(".").pop(),le=`audio/${`${na()}.${B}`}`,ee=P.loading("Mengunggah audio: 0%");try{const{data:q,error:ce}=await V.storage.from("audio").upload(le,A,{cacheControl:"3600",upsert:!1,onUploadProgress:ie=>{const D=Math.round(ie.loaded*100/ie.total);P.loading(`Mengunggah audio: ${D}%`,{id:ee})}});if(ce)throw ce;const{data:fe}=V.storage.from("audio").getPublicUrl(le);if(fe!=null&&fe.publicUrl){const{error:ie}=await V.from("media_files").insert({title:b.title||A.name,file_path:le,file_type:"audio",source_type:"upload",display_order:0});if(ie)throw await V.storage.from("audio").remove([le]),ie;P.loading("Mengunggah audio: 100%",{id:ee}),P.success("Audio berhasil diunggah dan ditambahkan ke daftar!",{id:ee}),P.info("Untuk performa terbaik di perangkat rendah, pastikan ukuran file audio dioptimalkan (misal: format MP3, bitrate rendah)."),i(!1),w(),M()}else throw new Error("Gagal mendapatkan URL publik audio.")}catch(q){console.error("Error uploading audio:",q),P.error(`Gagal mengunggah audio: ${q.message}`,{id:ee})}},N=async b=>{if(!window.confirm("Apakah Anda yakin ingin menghapus tautan audio ini dari pengaturan? File audio tidak akan dihapus dari penyimpanan."))return;const A=P.loading("Menghapus tautan audio...");try{const B={id:1},te=ly[b];if(!te)throw new Error(`Unknown field name: ${b}`);B[te]=null;const{error:le}=await V.from("app_settings").upsert(B,{onConflict:"id"});if(le)throw le;h(b,null),P.success("Tautan audio berhasil dihapus!",{id:A}),r()}catch(B){console.error("Caught error during audio link removal process:",B),P.error(`Gagal menghapus tautan audio: ${B.message}`,{id:A})}},R=async b=>{const{data:A,error:B}=await V.from("app_settings").upsert({id:1,murottal_active:b.murottalActive,tarhim_active:b.tarhimActive,iqomah_countdown_duration:b.iqomahCountdownDuration,murottal_pre_adhan_duration:b.murottalPreAdhanDuration,tarhim_pre_adhan_duration:b.tarhimPreAdhanDuration,murottal_audio_url_fajr:b.murottalAudioUrlFajr,murottal_audio_url_dhuhr:b.murottalAudioUrlDhuhr,murottal_audio_url_asr:b.murottalAudioUrlAsr,murottal_audio_url_maghrib:b.murottalAudioUrlMaghrib,murottal_audio_url_isha:b.murottalAudioUrlIsha,murottal_audio_url_imsak:b.murottalAudioUrlImsak,tarhim_audio_url:b.tarhimAudioUrl,khutbah_duration_minutes:b.khutbahDurationMinutes,is_master_audio_active:b.isMasterAudioActive,adhan_beep_audio_url:b.adhanBeepAudioUrl,iqomah_beep_audio_url:b.iqomahBeepAudioUrl,imsak_beep_audio_url:b.imsakBeepAudioUrl},{onConflict:"id"});B?(console.error("Error saving audio settings:",B),P.error("Gagal menyimpan pengaturan audio.")):(P.success("Pengaturan audio berhasil disimpan!"),console.log("Audio settings saved:",A),r())};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Audio & Iqomah"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Atur status audio, durasi hitung mundur Iqomah, dan audio murottal per waktu sholat."}),o.jsxs(ue,{onClick:()=>i(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white mb-4",children:[o.jsx(Ko,{className:"mr-2 h-4 w-4"})," Unggah Audio Baru"]}),o.jsxs("form",{onSubmit:d(R),className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2 border-b border-gray-700 pb-6 mb-6",children:[o.jsx(ne,{htmlFor:"master-audio-active",className:"text-gray-300 text-lg font-bold",children:"Aktifkan Semua Audio (Master Switch)"}),o.jsx(Zr,{id:"master-audio-active",checked:l.watch("isMasterAudioActive"),onCheckedChange:b=>h("isMasterAudioActive",b),className:"data-[state=checked]:bg-purple-600 data-[state=unchecked]:bg-gray-600"})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsx(ne,{htmlFor:"murottal-active",className:"text-gray-300 text-lg",children:"Aktifkan Murottal Otomatis"}),o.jsx(Zr,{id:"murottal-active",checked:l.watch("murottalActive"),onCheckedChange:b=>h("murottalActive",b),className:"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-600"})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsx(ne,{htmlFor:"tarhim-active",className:"text-gray-300 text-lg",children:"Aktifkan Tarhim"}),o.jsx(Zr,{id:"tarhim-active",checked:l.watch("tarhimActive"),onCheckedChange:b=>h("tarhimActive",b),className:"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-600"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"iqomahCountdownDuration",className:"text-gray-300",children:"Durasi Hitung Mundur Iqomah (detik)"}),o.jsx(ve,{id:"iqomahCountdownDuration",type:"number",...u("iqomahCountdownDuration"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: 300 (untuk 5 menit)"}),y.iqomahCountdownDuration&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.iqomahCountdownDuration.message})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-300 mb-4",children:"Pengaturan Murottal Otomatis"}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"murottalPreAdhanDuration",className:"text-gray-300",children:"Putar Murottal Sebelum Adzan (menit)"}),o.jsx(ve,{id:"murottalPreAdhanDuration",type:"number",...u("murottalPreAdhanDuration"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: 10 (untuk 10 menit sebelum adzan)"}),y.murottalPreAdhanDuration&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.murottalPreAdhanDuration.message})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[iy.map(b=>o.jsxs("div",{children:[o.jsx(ne,{htmlFor:b.name,className:"text-gray-300",children:b.label}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsxs(gt,{onValueChange:A=>h(b.name,A==="null"?null:A),value:l.watch(b.name)||"null",children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white",children:o.jsx(yt,{placeholder:"Pilih Audio Murottal"})}),o.jsxs(ct,{className:"bg-gray-700 text-white border-gray-600",children:[o.jsx($e,{value:"null",children:"Tidak Ada"}),a.map(A=>{var B;return o.jsx($e,{value:((B=V.storage.from("audio").getPublicUrl(A.file_path).data)==null?void 0:B.publicUrl)||"",children:A.title||A.file_path.split("/").pop()},A.id)})]})]}),l.watch(b.name)&&o.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>N(b.name),className:"bg-red-600 hover:bg-red-700 text-white",children:"Hapus"})]}),l.watch(b.name)&&o.jsx("div",{className:"mt-2",children:o.jsx("audio",{controls:!0,src:l.watch(b.name),className:"w-full max-w-xs"})}),y[b.name]&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y[b.name].message})]},b.name)),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"tarhimAudioUrl",className:"text-gray-300",children:"Audio Tarhim (Opsional)"}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsxs(gt,{onValueChange:b=>h("tarhimAudioUrl",b==="null"?null:b),value:l.watch("tarhimAudioUrl")||"null",children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white",children:o.jsx(yt,{placeholder:"Pilih Audio Tarhim"})}),o.jsxs(ct,{className:"bg-gray-700 text-white border-gray-600",children:[o.jsx($e,{value:"null",children:"Tidak Ada"}),a.map(b=>{var A;return o.jsx($e,{value:((A=V.storage.from("audio").getPublicUrl(b.file_path).data)==null?void 0:A.publicUrl)||"",children:b.title||b.file_path.split("/").pop()},b.id)})]})]}),l.watch("tarhimAudioUrl")&&o.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>N("tarhimAudioUrl"),className:"bg-red-600 hover:bg-red-700 text-white",children:"Hapus"})]}),l.watch("tarhimAudioUrl")&&o.jsx("div",{className:"mt-2",children:o.jsx("audio",{controls:!0,src:l.watch("tarhimAudioUrl"),className:"w-full max-w-xs"})}),y.tarhimAudioUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.tarhimAudioUrl.message})]})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-300 mb-4",children:"Pengaturan Tarhim"}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"tarhimPreAdhanDuration",className:"text-gray-300",children:"Putar Tarhim Sebelum Adzan (detik)"}),o.jsx(ve,{id:"tarhimPreAdhanDuration",type:"number",...u("tarhimPreAdhanDuration"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: 314 (untuk 5 menit 14 detik)"}),y.tarhimPreAdhanDuration&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.tarhimPreAdhanDuration.message})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-300 mb-4",children:"Pengaturan Khutbah Jumat"}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"khutbahDurationMinutes",className:"text-gray-300",children:"Durasi Khutbah Jumat (menit)"}),o.jsx(ve,{id:"khutbahDurationMinutes",type:"number",...u("khutbahDurationMinutes"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: 45"}),y.khutbahDurationMinutes&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.khutbahDurationMinutes.message})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-300 mb-4",children:"Pengaturan Audio Beep"}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"imsakBeepAudioUrl",className:"text-gray-300",children:"Audio Beep Imsak (Opsional)"}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsxs(gt,{onValueChange:b=>h("imsakBeepAudioUrl",b==="null"?null:b),value:l.watch("imsakBeepAudioUrl")||"null",children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white",children:o.jsx(yt,{placeholder:"Pilih Audio Beep Imsak"})}),o.jsxs(ct,{className:"bg-gray-700 text-white border-gray-600",children:[o.jsx($e,{value:"null",children:"Tidak Ada"}),a.map(b=>{var A;return o.jsx($e,{value:((A=V.storage.from("audio").getPublicUrl(b.file_path).data)==null?void 0:A.publicUrl)||"",children:b.title||b.file_path.split("/").pop()},b.id)})]})]}),l.watch("imsakBeepAudioUrl")&&o.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>N("imsakBeepAudioUrl"),className:"bg-red-600 hover:bg-red-700 text-white",children:"Hapus"})]}),l.watch("imsakBeepAudioUrl")&&o.jsx("div",{className:"mt-2",children:o.jsx("audio",{controls:!0,src:l.watch("imsakBeepAudioUrl"),className:"w-full max-w-xs"})}),y.imsakBeepAudioUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.imsakBeepAudioUrl.message})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ne,{htmlFor:"adhanBeepAudioUrl",className:"text-gray-300",children:"Audio Beep Adzan (Opsional)"}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsxs(gt,{onValueChange:b=>h("adhanBeepAudioUrl",b==="null"?null:b),value:l.watch("adhanBeepAudioUrl")||"null",children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white",children:o.jsx(yt,{placeholder:"Pilih Audio Beep Adzan"})}),o.jsxs(ct,{className:"bg-gray-700 text-white border-gray-600",children:[o.jsx($e,{value:"null",children:"Tidak Ada"}),a.map(b=>{var A;return o.jsx($e,{value:((A=V.storage.from("audio").getPublicUrl(b.file_path).data)==null?void 0:A.publicUrl)||"",children:b.title||b.file_path.split("/").pop()},b.id)})]})]}),l.watch("adhanBeepAudioUrl")&&o.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>N("adhanBeepAudioUrl"),className:"bg-red-600 hover:bg-red-700 text-white",children:"Hapus"})]}),l.watch("adhanBeepAudioUrl")&&o.jsx("div",{className:"mt-2",children:o.jsx("audio",{controls:!0,src:l.watch("adhanBeepAudioUrl"),className:"w-full max-w-xs"})}),y.adhanBeepAudioUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.adhanBeepAudioUrl.message})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ne,{htmlFor:"iqomahBeepAudioUrl",className:"text-gray-300",children:"Audio Beep Iqomah (Opsional)"}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsxs(gt,{onValueChange:b=>h("iqomahBeepAudioUrl",b==="null"?null:b),value:l.watch("iqomahBeepAudioUrl")||"null",children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white",children:o.jsx(yt,{placeholder:"Pilih Audio Beep Iqomah"})}),o.jsxs(ct,{className:"bg-gray-700 text-white border-gray-600",children:[o.jsx($e,{value:"null",children:"Tidak Ada"}),a.map(b=>{var A;return o.jsx($e,{value:((A=V.storage.from("audio").getPublicUrl(b.file_path).data)==null?void 0:A.publicUrl)||"",children:b.title||b.file_path.split("/").pop()},b.id)})]})]}),l.watch("iqomahBeepAudioUrl")&&o.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>N("iqomahBeepAudioUrl"),className:"bg-red-600 hover:bg-red-700 text-white",children:"Hapus"})]}),l.watch("iqomahBeepAudioUrl")&&o.jsx("div",{className:"mt-2",children:o.jsx("audio",{controls:!0,src:l.watch("iqomahBeepAudioUrl"),className:"w-full max-w-xs"})}),y.iqomahBeepAudioUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.iqomahBeepAudioUrl.message})]})]}),o.jsx(ue,{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:g?"Menyimpan...":"Simpan Pengaturan"})]}),o.jsx(qt,{open:s,onOpenChange:i,children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:"Unggah Audio Baru"}),o.jsx(Zt,{children:"Unggah file audio baru untuk digunakan dalam pengaturan murottal, tarhim, atau beep."})]}),o.jsxs("form",{onSubmit:k(j),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"uploadAudioTitle",className:"text-gray-300",children:"Judul Audio (Opsional)"}),o.jsx(ve,{id:"uploadAudioTitle",...p("title"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: Murottal Al-Fatihah"}),x.title&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.title.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"uploadAudioFile",className:"text-gray-300",children:"Pilih File Audio"}),o.jsx(ve,{id:"uploadAudioFile",type:"file",accept:"audio/*",...p("file"),className:"bg-gray-700 border-gray-600 text-white mt-1 file:text-white file:bg-blue-600 file:hover:bg-blue-700 file:border-none file:rounded-md file:px-3 file:py-1"}),x.file&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.file.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>i(!1),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:S,className:"bg-blue-600 hover:bg-blue-700 text-white",children:S?"Mengunggah...":"Unggah Audio"})]})]})]})})]})]})},dy=ot({id:ge().optional(),name:ge().min(1,"Nama hari besar tidak boleh kosong.").max(100,"Nama terlalu panjang."),holiday_date:ge().min(1,"Tanggal hari besar tidak boleh kosong."),display_order:Le.number().int().min(0,"Urutan tampilan harus non-negatif.").default(0)}),uy=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!1),[n,s]=m.useState(null),[i,l]=m.useState(!1),c=Qe({resolver:et(dy),defaultValues:{name:"",holiday_date:"",display_order:0}}),{handleSubmit:d,register:u,setValue:h,watch:g,reset:y,formState:{isSubmitting:k,errors:p}}=c,w=g("holiday_date"),S=m.useCallback(async()=>{const{data:b,error:A}=await V.from("islamic_holidays").select("*").order("holiday_date",{ascending:!0}).order("display_order",{ascending:!0});A?(console.error("Error fetching Islamic holidays:",A),P.error("Gagal memuat hari besar Islam.")):t(b||[])},[]);m.useEffect(()=>{S();const b=V.channel("islamic_holidays_changes").on("postgres_changes",{event:"*",schema:"public",table:"islamic_holidays"},A=>{console.log("Islamic holiday change received!",A),S()}).subscribe();return console.log("IslamicHolidaySettings: Subscribed to channel 'islamic_holidays_changes'."),()=>{V.removeChannel(b),console.log("IslamicHolidaySettings: Unsubscribed from channel 'islamic_holidays_changes'.")}},[S]);const x=()=>{s(null),y({name:"",holiday_date:"",display_order:0}),a(!0)},M=b=>{s(b),y({id:b.id,name:b.name,holiday_date:b.holiday_date,display_order:b.display_order}),a(!0)},j=async b=>{if(!window.confirm("Apakah Anda yakin ingin menghapus hari besar ini?"))return;const{error:A}=await V.from("islamic_holidays").delete().eq("id",b);A?(console.error("Error deleting holiday:",A),P.error("Gagal menghapus hari besar.")):(P.success("Hari besar berhasil dihapus!"),S())},N=async b=>{const A={name:b.name,holiday_date:b.holiday_date,display_order:b.display_order};if(n){const{error:B}=await V.from("islamic_holidays").update(A).eq("id",n.id);B?(console.error("Error updating holiday:",B),P.error("Gagal memperbarui hari besar.")):(P.success("Hari besar berhasil diperbarui!"),a(!1),S())}else{const{error:B}=await V.from("islamic_holidays").insert(A);B?(console.error("Error adding holiday:",B),P.error("Gagal menambahkan hari besar.")):(P.success("Hari besar berhasil ditambahkan!"),a(!1),S())}},R=async()=>{const b=new Date().getFullYear(),A=prompt(`Masukkan tahun untuk sinkronisasi hari besar (misal: ${b}):`,b.toString());if(!A||isNaN(Number(A))){P.info("Sinkronisasi dibatalkan atau tahun tidak valid.");return}l(!0);const B=P.loading(`Menyinkronkan hari besar untuk tahun ${yearToYear}...`);try{const{data:te,error:le}=await V.functions.invoke("fetch-holidays",{body:{year:Number(A),country:"ID"}});if(le)throw le;P.success(`Berhasil menyinkronkan ${te.count} hari besar untuk tahun ${A}!`,{id:B}),S()}catch(te){console.error("Error syncing holidays:",te),P.error(`Gagal menyinkronkan hari besar: ${te.message||"Terjadi kesalahan."}`,{id:B})}finally{l(!1)}};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700 col-span-full lg:col-span-2",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Hari Besar Islam"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Kelola daftar hari besar Islam yang akan ditampilkan dengan hitung mundur."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[o.jsxs(ue,{onClick:x,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(ra,{className:"mr-2 h-4 w-4"})," Tambah Hari Besar Manual"]}),o.jsxs(ue,{onClick:R,disabled:i,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(Td,{className:"mr-2 h-4 w-4"})," ",i?"Menyinkronkan...":"Sinkronkan dari Online"]})]}),o.jsx("div",{className:"space-y-3",children:e.length===0?o.jsx("p",{className:"text-gray-400 text-center",children:"Belum ada hari besar Islam yang tercatat."}):e.map(b=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-md shadow-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-lg text-blue-200",children:b.name}),o.jsxs("p",{className:"text-sm text-gray-300",children:["Tanggal: ",tr(new Date(b.holiday_date),"dd MMMM yyyy",{locale:Un})]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Urutan: ",b.display_order]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>M(b),className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:o.jsx(Pr,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>j(b.id),className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:o.jsx(Tr,{className:"h-4 w-4"})})]})]},b.id))}),o.jsx(qt,{open:r,onOpenChange:a,children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:n?"Edit Hari Besar Islam":"Tambah Hari Besar Islam Baru"}),o.jsx(Zt,{children:n?"Perbarui detail hari besar Islam ini.":"Isi detail untuk hari besar Islam baru."})]}),o.jsxs("form",{onSubmit:d(N),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"name",className:"text-gray-300",children:"Nama Hari Besar"}),o.jsx(ve,{id:"name",...u("name"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: Idul Fitri 1445 H"}),p.name&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.name.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"holiday_date",className:"text-gray-300 block mb-1",children:"Tanggal Hari Besar"}),o.jsxs(Vl,{children:[o.jsx(Bl,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:xe("w-full justify-start text-left font-normal bg-gray-700 border-gray-600 text-white",!w&&"text-muted-foreground"),children:[o.jsx(Go,{className:"mr-2 h-4 w-4"}),w?tr(new Date(w),"PPP",{locale:Un}):o.jsx("span",{children:"Pilih tanggal"})]})}),o.jsx(ks,{className:"w-auto p-0 bg-gray-700 border-gray-600 text-white",children:o.jsx(Is,{mode:"single",selected:w?new Date(w):void 0,onSelect:b=>h("holiday_date",b?tr(b,"yyyy-MM-dd"):""),initialFocus:!0})})]}),p.holiday_date&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.holiday_date.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"display_order",className:"text-gray-300",children:"Urutan Tampilan"}),o.jsx(ve,{id:"display_order",type:"number",...u("display_order"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),p.display_order&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.display_order.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>a(!1),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:k,className:"bg-blue-600 hover:bg-blue-700 text-white",children:k?"Menyimpan...":n?"Simpan Perubahan":"Tambah Hari Besar"})]})]})]})})]})]})};var On="rovingFocusGroup.onEntryFocus",fy={bubbles:!1,cancelable:!0},ln="RovingFocusGroup",[rs,hc,my]=is(ln),[hy,pc]=dr(ln,[my]),[py,gy]=hy(ln),gc=m.forwardRef((e,t)=>o.jsx(rs.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(rs.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(yy,{...e,ref:t})})}));gc.displayName=ln;var yy=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:n=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,g=m.useRef(null),y=Te(t,g),k=ss(s),[p=null,w]=rr({prop:i,defaultProp:l,onChange:c}),[S,x]=m.useState(!1),M=jr(d),j=hc(r),N=m.useRef(!1),[R,b]=m.useState(0);return m.useEffect(()=>{const A=g.current;if(A)return A.addEventListener(On,M),()=>A.removeEventListener(On,M)},[M]),o.jsx(py,{scope:r,orientation:a,dir:k,loop:n,currentTabStopId:p,onItemFocus:m.useCallback(A=>w(A),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>b(A=>A+1),[]),onFocusableItemRemove:m.useCallback(()=>b(A=>A-1),[]),children:o.jsx(Me.div,{tabIndex:S||R===0?-1:0,"data-orientation":a,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{N.current=!0}),onFocus:oe(e.onFocus,A=>{const B=!N.current;if(A.target===A.currentTarget&&B&&!S){const te=new CustomEvent(On,fy);if(A.currentTarget.dispatchEvent(te),!te.defaultPrevented){const le=j().filter(ie=>ie.focusable),ee=le.find(ie=>ie.active),q=le.find(ie=>ie.id===p),fe=[ee,q,...le].filter(Boolean).map(ie=>ie.ref.current);xc(fe,u)}}N.current=!1}),onBlur:oe(e.onBlur,()=>x(!1))})})}),yc="RovingFocusGroupItem",vc=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:n=!1,tabStopId:s,...i}=e,l=Ct(),c=s||l,d=gy(yc,r),u=d.currentTabStopId===c,h=hc(r),{onFocusableItemAdd:g,onFocusableItemRemove:y}=d;return m.useEffect(()=>{if(a)return g(),()=>y()},[a,g,y]),o.jsx(rs.ItemSlot,{scope:r,id:c,focusable:a,active:n,children:o.jsx(Me.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:oe(e.onMouseDown,k=>{a?d.onItemFocus(c):k.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){d.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const p=by(k,d.orientation,d.dir);if(p!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let S=h().filter(x=>x.focusable).map(x=>x.ref.current);if(p==="last")S.reverse();else if(p==="prev"||p==="next"){p==="prev"&&S.reverse();const x=S.indexOf(k.currentTarget);S=d.loop?_y(S,x+1):S.slice(x+1)}setTimeout(()=>xc(S))}})})})});vc.displayName=yc;var vy={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xy(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function by(e,t,r){const a=xy(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return vy[a]}function xc(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function _y(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var wy=gc,ky=vc,as=["Enter"," "],jy=["ArrowDown","PageUp","Home"],bc=["ArrowUp","PageDown","End"],Ny=[...jy,...bc],Sy={ltr:[...as,"ArrowRight"],rtl:[...as,"ArrowLeft"]},Cy={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ma="Menu",[ea,My,Ay]=is(ma),[fr,_c]=dr(ma,[Ay,Dr,pc]),cn=Dr(),wc=pc(),[Ey,mr]=fr(ma),[Dy,ha]=fr(ma),kc=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:n,onOpenChange:s,modal:i=!0}=e,l=cn(t),[c,d]=m.useState(null),u=m.useRef(!1),h=jr(s),g=ss(n);return m.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),o.jsx(os,{...l,children:o.jsx(Ey,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:o.jsx(Dy,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:g,modal:i,children:a})})})};kc.displayName=ma;var Py="MenuAnchor",Us=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,n=cn(r);return o.jsx(Ha,{...n,...a,ref:t})});Us.displayName=Py;var Ls="MenuPortal",[Ty,jc]=fr(Ls,{forceMount:void 0}),Nc=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:n}=e,s=mr(Ls,t);return o.jsx(Ty,{scope:t,forceMount:r,children:o.jsx(Bt,{present:r||s.open,children:o.jsx(qa,{asChild:!0,container:n,children:a})})})};Nc.displayName=Ls;var ut="MenuContent",[Ry,$s]=fr(ut),Sc=m.forwardRef((e,t)=>{const r=jc(ut,e.__scopeMenu),{forceMount:a=r.forceMount,...n}=e,s=mr(ut,e.__scopeMenu),i=ha(ut,e.__scopeMenu);return o.jsx(ea.Provider,{scope:e.__scopeMenu,children:o.jsx(Bt,{present:a||s.open,children:o.jsx(ea.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Oy,{...n,ref:t}):o.jsx(Iy,{...n,ref:t})})})})}),Oy=m.forwardRef((e,t)=>{const r=mr(ut,e.__scopeMenu),a=m.useRef(null),n=Te(t,a);return m.useEffect(()=>{const s=a.current;if(s)return tn(s)},[]),o.jsx(Vs,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:oe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Iy=m.forwardRef((e,t)=>{const r=mr(ut,e.__scopeMenu);return o.jsx(Vs,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Fy=Za("MenuContent.ScrollLock"),Vs=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:g,onDismiss:y,disableOutsideScroll:k,...p}=e,w=mr(ut,r),S=ha(ut,r),x=cn(r),M=wc(r),j=My(r),[N,R]=m.useState(null),b=m.useRef(null),A=Te(t,b,w.onContentChange),B=m.useRef(0),te=m.useRef(""),le=m.useRef(0),ee=m.useRef(null),q=m.useRef("right"),ce=m.useRef(0),fe=k?oa:m.Fragment,ie=k?{as:Fy,allowPinchZoom:!0}:void 0,D=J=>{var F,K;const U=te.current+J,f=j().filter(z=>!z.disabled),_=document.activeElement,$=(F=f.find(z=>z.ref.current===_))==null?void 0:F.textValue,H=f.map(z=>z.textValue),Y=Zy(H,U,$),Z=(K=f.find(z=>z.textValue===Y))==null?void 0:K.ref.current;(function z(de){te.current=de,window.clearTimeout(B.current),de!==""&&(B.current=window.setTimeout(()=>z(""),1e3))})(U),Z&&setTimeout(()=>Z.focus())};m.useEffect(()=>()=>window.clearTimeout(B.current),[]),en();const O=m.useCallback(J=>{var f,_;return q.current===((f=ee.current)==null?void 0:f.side)&&Jy(J,(_=ee.current)==null?void 0:_.area)},[]);return o.jsx(Ry,{scope:r,searchRef:te,onItemEnter:m.useCallback(J=>{O(J)&&J.preventDefault()},[O]),onItemLeave:m.useCallback(J=>{var U;O(J)||((U=b.current)==null||U.focus(),R(null))},[O]),onTriggerLeave:m.useCallback(J=>{O(J)&&J.preventDefault()},[O]),pointerGraceTimerRef:le,onPointerGraceIntentChange:m.useCallback(J=>{ee.current=J},[]),children:o.jsx(fe,{...ie,children:o.jsx(sa,{asChild:!0,trapped:n,onMountAutoFocus:oe(s,J=>{var U;J.preventDefault(),(U=b.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Ka,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:g,onDismiss:y,children:o.jsx(wy,{asChild:!0,...M,dir:S.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:R,onEntryFocus:oe(c,J=>{S.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(ls,{role:"menu","aria-orientation":"vertical","data-state":Bc(w.open),"data-radix-menu-content":"",dir:S.dir,...x,...p,ref:A,style:{outline:"none",...p.style},onKeyDown:oe(p.onKeyDown,J=>{const f=J.target.closest("[data-radix-menu-content]")===J.currentTarget,_=J.ctrlKey||J.altKey||J.metaKey,$=J.key.length===1;f&&(J.key==="Tab"&&J.preventDefault(),!_&&$&&D(J.key));const H=b.current;if(J.target!==H||!Ny.includes(J.key))return;J.preventDefault();const Z=j().filter(F=>!F.disabled).map(F=>F.ref.current);bc.includes(J.key)&&Z.reverse(),Hy(Z)}),onBlur:oe(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(B.current),te.current="")}),onPointerMove:oe(e.onPointerMove,ta(J=>{const U=J.target,f=ce.current!==J.clientX;if(J.currentTarget.contains(U)&&f){const _=J.clientX>ce.current?"right":"left";q.current=_,ce.current=J.clientX}}))})})})})})})});Sc.displayName=ut;var Uy="MenuGroup",Bs=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Me.div,{role:"group",...a,ref:t})});Bs.displayName=Uy;var Ly="MenuLabel",Cc=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Me.div,{...a,ref:t})});Cc.displayName=Ly;var Ya="MenuItem",Wo="menu.itemSelect",dn=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...n}=e,s=m.useRef(null),i=ha(Ya,e.__scopeMenu),l=$s(Ya,e.__scopeMenu),c=Te(t,s),d=m.useRef(!1),u=()=>{const h=s.current;if(!r&&h){const g=new CustomEvent(Wo,{bubbles:!0,cancelable:!0});h.addEventListener(Wo,y=>a==null?void 0:a(y),{once:!0}),Sd(h,g),g.defaultPrevented?d.current=!1:i.onClose()}};return o.jsx(Mc,{...n,ref:c,disabled:r,onClick:oe(e.onClick,u),onPointerDown:h=>{var g;(g=e.onPointerDown)==null||g.call(e,h),d.current=!0},onPointerUp:oe(e.onPointerUp,h=>{var g;d.current||(g=h.currentTarget)==null||g.click()}),onKeyDown:oe(e.onKeyDown,h=>{const g=l.searchRef.current!=="";r||g&&h.key===" "||as.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});dn.displayName=Ya;var Mc=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:n,...s}=e,i=$s(Ya,r),l=wc(r),c=m.useRef(null),d=Te(t,c),[u,h]=m.useState(!1),[g,y]=m.useState("");return m.useEffect(()=>{const k=c.current;k&&y((k.textContent??"").trim())},[s.children]),o.jsx(ea.ItemSlot,{scope:r,disabled:a,textValue:n??g,children:o.jsx(ky,{asChild:!0,...l,focusable:!a,children:o.jsx(Me.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...s,ref:d,onPointerMove:oe(e.onPointerMove,ta(k=>{a?i.onItemLeave(k):(i.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(e.onPointerLeave,ta(k=>i.onItemLeave(k))),onFocus:oe(e.onFocus,()=>h(!0)),onBlur:oe(e.onBlur,()=>h(!1))})})})}),$y="MenuCheckboxItem",Ac=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...n}=e;return o.jsx(Rc,{scope:e.__scopeMenu,checked:r,children:o.jsx(dn,{role:"menuitemcheckbox","aria-checked":Ga(r)?"mixed":r,...n,ref:t,"data-state":zs(r),onSelect:oe(n.onSelect,()=>a==null?void 0:a(Ga(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ac.displayName=$y;var Ec="MenuRadioGroup",[Vy,By]=fr(Ec,{value:void 0,onValueChange:()=>{}}),Dc=m.forwardRef((e,t)=>{const{value:r,onValueChange:a,...n}=e,s=jr(a);return o.jsx(Vy,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(Bs,{...n,ref:t})})});Dc.displayName=Ec;var Pc="MenuRadioItem",Tc=m.forwardRef((e,t)=>{const{value:r,...a}=e,n=By(Pc,e.__scopeMenu),s=r===n.value;return o.jsx(Rc,{scope:e.__scopeMenu,checked:s,children:o.jsx(dn,{role:"menuitemradio","aria-checked":s,...a,ref:t,"data-state":zs(s),onSelect:oe(a.onSelect,()=>{var i;return(i=n.onValueChange)==null?void 0:i.call(n,r)},{checkForDefaultPrevented:!1})})})});Tc.displayName=Pc;var Ws="MenuItemIndicator",[Rc,Wy]=fr(Ws,{checked:!1}),Oc=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...n}=e,s=Wy(Ws,r);return o.jsx(Bt,{present:a||Ga(s.checked)||s.checked===!0,children:o.jsx(Me.span,{...n,ref:t,"data-state":zs(s.checked)})})});Oc.displayName=Ws;var zy="MenuSeparator",Ic=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});Ic.displayName=zy;var Yy="MenuArrow",Fc=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,n=cn(r);return o.jsx(cs,{...n,...a,ref:t})});Fc.displayName=Yy;var Gy="MenuSub",[Xv,Uc]=fr(Gy),Yr="MenuSubTrigger",Lc=m.forwardRef((e,t)=>{const r=mr(Yr,e.__scopeMenu),a=ha(Yr,e.__scopeMenu),n=Uc(Yr,e.__scopeMenu),s=$s(Yr,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(Us,{asChild:!0,...d,children:o.jsx(Mc,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":n.contentId,"data-state":Bc(r.open),...e,ref:Yo(t,n.onTriggerChange),onClick:h=>{var g;(g=e.onClick)==null||g.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:oe(e.onPointerMove,ta(h=>{s.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:oe(e.onPointerLeave,ta(h=>{var y,k;u();const g=(y=r.content)==null?void 0:y.getBoundingClientRect();if(g){const p=(k=r.content)==null?void 0:k.dataset.side,w=p==="right",S=w?-5:5,x=g[w?"left":"right"],M=g[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+S,y:h.clientY},{x,y:g.top},{x:M,y:g.top},{x:M,y:g.bottom},{x,y:g.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:oe(e.onKeyDown,h=>{var y;const g=s.searchRef.current!=="";e.disabled||g&&h.key===" "||Sy[a.dir].includes(h.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),h.preventDefault())})})})});Lc.displayName=Yr;var $c="MenuSubContent",Vc=m.forwardRef((e,t)=>{const r=jc(ut,e.__scopeMenu),{forceMount:a=r.forceMount,...n}=e,s=mr(ut,e.__scopeMenu),i=ha(ut,e.__scopeMenu),l=Uc($c,e.__scopeMenu),c=m.useRef(null),d=Te(t,c);return o.jsx(ea.Provider,{scope:e.__scopeMenu,children:o.jsx(Bt,{present:a||s.open,children:o.jsx(ea.Slot,{scope:e.__scopeMenu,children:o.jsx(Vs,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:oe(e.onFocusOutside,u=>{u.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:oe(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:oe(e.onKeyDown,u=>{var y;const h=u.currentTarget.contains(u.target),g=Cy[i.dir].includes(u.key);h&&g&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),u.preventDefault())})})})})})});Vc.displayName=$c;function Bc(e){return e?"open":"closed"}function Ga(e){return e==="indeterminate"}function zs(e){return Ga(e)?"indeterminate":e?"checked":"unchecked"}function Hy(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function qy(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function Zy(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=qy(e,Math.max(s,0));n.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function Ky(e,t){const{x:r,y:a}=e;let n=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s].x,c=t[s].y,d=t[i].x,u=t[i].y;c>a!=u>a&&r<(d-l)*(a-c)/(u-c)+l&&(n=!n)}return n}function Jy(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Ky(r,t)}function ta(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Xy=kc,Qy=Us,ev=Nc,tv=Sc,rv=Bs,av=Cc,nv=dn,sv=Ac,ov=Dc,iv=Tc,lv=Oc,cv=Ic,dv=Fc,uv=Lc,fv=Vc,Ys="DropdownMenu",[mv,Qv]=dr(Ys,[_c]),qe=_c(),[hv,Wc]=mv(Ys),zc=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:n,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=qe(t),d=m.useRef(null),[u=!1,h]=rr({prop:n,defaultProp:s,onChange:i});return o.jsx(hv,{scope:t,triggerId:Ct(),triggerRef:d,contentId:Ct(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),modal:l,children:o.jsx(Xy,{...c,open:u,onOpenChange:h,dir:a,modal:l,children:r})})};zc.displayName=Ys;var Yc="DropdownMenuTrigger",Gc=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...n}=e,s=Wc(Yc,r),i=qe(r);return o.jsx(Qy,{asChild:!0,...i,children:o.jsx(Me.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Yo(t,s.triggerRef),onPointerDown:oe(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:oe(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Gc.displayName=Yc;var pv="DropdownMenuPortal",Hc=e=>{const{__scopeDropdownMenu:t,...r}=e,a=qe(t);return o.jsx(ev,{...a,...r})};Hc.displayName=pv;var qc="DropdownMenuContent",Zc=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Wc(qc,r),s=qe(r),i=m.useRef(!1);return o.jsx(tv,{id:n.contentId,"aria-labelledby":n.triggerId,...s,...a,ref:t,onCloseAutoFocus:oe(e.onCloseAutoFocus,l=>{var c;i.current||(c=n.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:oe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!n.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zc.displayName=qc;var gv="DropdownMenuGroup",yv=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(rv,{...n,...a,ref:t})});yv.displayName=gv;var vv="DropdownMenuLabel",Kc=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(av,{...n,...a,ref:t})});Kc.displayName=vv;var xv="DropdownMenuItem",Jc=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(nv,{...n,...a,ref:t})});Jc.displayName=xv;var bv="DropdownMenuCheckboxItem",Xc=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(sv,{...n,...a,ref:t})});Xc.displayName=bv;var _v="DropdownMenuRadioGroup",wv=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(ov,{...n,...a,ref:t})});wv.displayName=_v;var kv="DropdownMenuRadioItem",Qc=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(iv,{...n,...a,ref:t})});Qc.displayName=kv;var jv="DropdownMenuItemIndicator",ed=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(lv,{...n,...a,ref:t})});ed.displayName=jv;var Nv="DropdownMenuSeparator",td=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(cv,{...n,...a,ref:t})});td.displayName=Nv;var Sv="DropdownMenuArrow",Cv=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(dv,{...n,...a,ref:t})});Cv.displayName=Sv;var Mv="DropdownMenuSubTrigger",rd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(uv,{...n,...a,ref:t})});rd.displayName=Mv;var Av="DropdownMenuSubContent",ad=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=qe(r);return o.jsx(fv,{...n,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ad.displayName=Av;var Ev=zc,Dv=Gc,Pv=Hc,nd=Zc,sd=Kc,od=Jc,id=Xc,ld=Qc,cd=ed,dd=td,ud=rd,fd=ad;const Tv=Ev,Rv=Dv,Ov=m.forwardRef(({className:e,inset:t,children:r,...a},n)=>o.jsxs(ud,{ref:n,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...a,children:[r,o.jsx(Zo,{className:"ml-auto h-4 w-4"})]}));Ov.displayName=ud.displayName;const Iv=m.forwardRef(({className:e,...t},r)=>o.jsx(fd,{ref:r,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Iv.displayName=fd.displayName;const md=m.forwardRef(({className:e,sideOffset:t=4,...r},a)=>o.jsx(Pv,{children:o.jsx(nd,{ref:a,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));md.displayName=nd.displayName;const ns=m.forwardRef(({className:e,inset:t,...r},a)=>o.jsx(od,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ns.displayName=od.displayName;const Fv=m.forwardRef(({className:e,children:t,checked:r,...a},n)=>o.jsxs(id,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cd,{children:o.jsx(Ho,{className:"h-4 w-4"})})}),t]}));Fv.displayName=id.displayName;const Uv=m.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(ld,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cd,{children:o.jsx(Pd,{className:"h-2 w-2 fill-current"})})}),t]}));Uv.displayName=ld.displayName;const Lv=m.forwardRef(({className:e,inset:t,...r},a)=>o.jsx(sd,{ref:a,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Lv.displayName=sd.displayName;const $v=m.forwardRef(({className:e,...t},r)=>o.jsx(dd,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));$v.displayName=dd.displayName;const ka=e=>{const t=/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|v\/|)([\w-]{11})(?:\S+)?/i,r=e.match(t);return r?r[1]:null},Vv=ot({id:ge().optional(),title:ge().max(100,"Judul terlalu panjang.").nullable().optional(),file:gi(FileList).refine(e=>e.length>0,"File media harus diunggah.").optional(),file_type:ps(["audio","video"],{message:"Tipe file tidak valid."}),display_order:Le.number().int().min(0,"Urutan tampilan harus non-negatif.").default(0)}),Bv=ot({id:ge().optional(),title:ge().max(100,"Judul terlalu panjang.").nullable().optional(),youtubeUrl:ge().url("URL YouTube tidak valid.").min(1,"URL YouTube tidak boleh kosong.").refine(e=>ka(e)!==null,"URL YouTube tidak valid."),display_order:Le.number().int().min(0,"Urutan tampilan harus non-negatif.").default(0)}),Wv=()=>{var O,J;const[e,t]=m.useState([]),[r,a]=m.useState("none"),[n,s]=m.useState(null),[i,l]=m.useState(null),c=m.useRef(null),d=m.useRef(null),u=Qe({resolver:et(Vv),defaultValues:{title:"",file:void 0,file_type:"audio",display_order:0}}),h=Qe({resolver:et(Bv),defaultValues:{title:"",youtubeUrl:"",display_order:0}}),{handleSubmit:g,register:y,setValue:k,reset:p,formState:{isSubmitting:w,errors:S}}=u,{handleSubmit:x,register:M,setValue:j,reset:N,watch:R,formState:{isSubmitting:b,errors:A}}=h,B=R("youtubeUrl"),te=m.useCallback(async()=>{try{const{data:U,error:f}=await V.from("app_settings").select("active_media_id").eq("id",1).single();f&&f.code!=="PGRST116"?(console.error("Error fetching active media ID:",f),P.error("Gagal memuat pengaturan media aktif.")):l(U?U.active_media_id:null);const{data:_,error:$}=await V.from("media_files").select("*").order("created_at",{ascending:!1});$?(console.error("Error fetching media files:",$),P.error("Gagal memuat file media.")):t(_||[])}catch(U){console.error("Unexpected error fetching media files and settings:",U),P.error("Terjadi kesalahan saat memuat data media.")}},[]);m.useEffect(()=>(te(),c.current||(c.current=V.channel("media_files_changes").on("postgres_changes",{event:"*",schema:"public",table:"media_files"},U=>{console.log("Media file change received!",U),te()}).subscribe(),console.log("MediaPlayerSettings: Subscribed to channel 'media_files_changes'.")),d.current||(d.current=V.channel("app_settings_media_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"app_settings",filter:"id=eq.1"},U=>{console.log("App settings media change received!",U),l(U.new.active_media_id)}).subscribe(),console.log("MediaPlayerSettings: Subscribed to channel 'app_settings_media_changes'.")),()=>{c.current&&(V.removeChannel(c.current),console.log("MediaPlayerSettings: Unsubscribed from channel 'media_files_changes'."),c.current=null),d.current&&(V.removeChannel(d.current),console.log("MediaPlayerSettings: Unsubscribed from channel 'app_settings_media_changes'."),d.current=null)}),[te]);const le=()=>{s(null),p(),a("add-upload")},ee=()=>{s(null),N(),a("add-youtube")},q=U=>{s(U),U.source_type==="upload"?(p({id:U.id,title:U.title||"",file_type:U.file_type,display_order:U.display_order,file:void 0}),a("edit-upload")):(N({id:U.id,title:U.title||"",youtubeUrl:U.file_path,display_order:U.display_order}),a("edit-youtube"))},ce=async U=>{if(!window.confirm("Apakah Anda yakin ingin menghapus media ini? Ini juga akan menghapus file dari penyimpanan jika diunggah."))return;const f=P.loading("Menghapus media...");try{if(U.source_type==="upload"){const $=U.file_path,{data:H,error:Y}=await V.storage.from("audio").remove([$]);Y?(console.error("Gagal menghapus file dari penyimpanan Supabase:",Y),P.error(`Gagal menghapus file dari penyimpanan: ${Y.message}`,{id:f})):!H||H.length===0?(console.warn("File tidak ditemukan di penyimpanan atau tidak ada file yang dihapus:",$),P.warning("File tidak ditemukan di penyimpanan atau tidak ada file yang dihapus.",{id:f})):console.log("File berhasil dihapus dari penyimpanan:",H)}const{error:_}=await V.from("media_files").delete().eq("id",U.id);if(_)throw _;i===U.id&&await V.from("app_settings").upsert({id:1,active_media_id:null},{onConflict:"id"}),P.success("Media berhasil dihapus!",{id:f}),te()}catch(_){console.error("Error deleting media:",_),P.error(`Gagal menghapus media: ${_.message}`,{id:f})}},fe=async U=>{const f=P.loading("Mengatur media aktif...");try{const{error:_}=await V.from("app_settings").upsert({id:1,active_media_id:U},{onConflict:"id"});if(_)throw _;P.success("Media berhasil diatur sebagai aktif!",{id:f}),l(U)}catch(_){console.error("Error setting active media:",_),P.error(`Gagal mengatur media aktif: ${_.message}`,{id:f})}},ie=async U=>{let f=null,_=U.file_type;const $="upload",H=(n==null?void 0:n.source_type)==="upload"?n.file_path:null;if(U.file&&U.file.length>0){const Z=U.file[0],F=Z.name.split(".").pop();f=`media/${`${na()}.${F}`}`;const z=P.loading("Mengunggah file media: 0%");try{const{data:de,error:Se}=await V.storage.from("audio").upload(f,Z,{cacheControl:"3600",upsert:!1,onUploadProgress:ke=>{const it=Math.round(ke.loaded*100/ke.total);console.log(`Upload progress for media player: ${it}%`),P.loading(`Mengunggah file media: ${it}%`,{id:z})}});if(Se)throw Se;if(P.success("File media berhasil diunggah!",{id:z}),H&&H!==f)try{const{error:ke}=await V.storage.from("audio").remove([H]);ke?(console.warn("Gagal menghapus file media lama dari storage:",ke),P.warning("Gagal menghapus file media lama.")):console.log("File media lama berhasil dihapus.")}catch(ke){console.warn("Error parsing old file path for deletion:",ke)}}catch(de){P.error(`Gagal mengunggah file: ${de.message}`,{id:z});return}}else if(r==="edit-upload"&&(n==null?void 0:n.source_type)==="upload")f=n.file_path,_=n.file_type;else{P.error("File media harus diunggah.");return}if(!f){P.error("File media tidak valid.");return}const Y={title:U.title||null,file_path:f,file_type:_,source_type:$,display_order:U.display_order};if(r==="edit-upload"&&n){const{error:Z}=await V.from("media_files").update(Y).eq("id",n.id);Z?(console.error("Error updating media in DB:",Z),P.error("Gagal memperbarui media.")):(P.success("Media berhasil diperbarui!"),a("none"),te())}else{const{error:Z}=await V.from("media_files").insert(Y);Z?(console.error("Error adding media to DB:",Z),P.error("Gagal menambahkan media.")):(P.success("Media berhasil ditambahkan!"),a("none"),te())}},D=async U=>{const f=ka(U.youtubeUrl);if(!f){P.error("URL YouTube tidak valid.");return}const _=`https://www.youtube.com/embed/${f}`,Y={title:U.title||null,file_path:_,file_type:"video",source_type:"youtube",display_order:U.display_order};if(r==="edit-youtube"&&n){const{error:Z}=await V.from("media_files").update(Y).eq("id",n.id);Z?(console.error("Error updating media in DB:",Z),P.error("Gagal memperbarui media.")):(P.success("Media berhasil diperbarui!"),a("none"),te())}else{const{error:Z}=await V.from("media_files").insert(Y);Z?(console.error("Error adding media to DB:",Z),P.error("Gagal menambahkan media.")):(P.success("Media berhasil ditambahkan!"),a("none"),te())}};return o.jsxs(rt,{className:"bg-gray-800 text-white border-gray-700 col-span-full lg:col-span-2",children:[o.jsx(at,{children:o.jsx(nt,{className:"text-2xl font-semibold text-blue-300",children:"Pengaturan Media Player"})}),o.jsxs(st,{children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"Kelola file audio/video atau tautan YouTube yang akan diputar di layar utama."}),o.jsxs(Tv,{children:[o.jsx(Rv,{asChild:!0,children:o.jsxs(ue,{className:"w-full bg-green-600 hover:bg-green-700 text-white mb-4",children:[o.jsx(ra,{className:"mr-2 h-4 w-4"})," Tambah Media Baru"]})}),o.jsxs(md,{className:"w-56 bg-gray-700 text-white border-gray-600",children:[o.jsxs(ns,{onClick:le,className:"cursor-pointer hover:bg-gray-600",children:[o.jsx(Ko,{className:"mr-2 h-4 w-4"})," Unggah File Media"]}),o.jsxs(ns,{onClick:ee,className:"cursor-pointer hover:bg-gray-600",children:[o.jsx(Rd,{className:"mr-2 h-4 w-4"})," Tambah Tautan YouTube"]})]})]}),o.jsx("div",{className:"space-y-3",children:e.length===0?o.jsx("p",{className:"text-gray-400 text-center",children:"Belum ada file media. Tambahkan yang pertama!"}):e.map(U=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-md shadow-sm",children:[o.jsxs("div",{className:"flex-grow mr-2",children:[o.jsx("p",{className:"font-medium text-lg text-blue-200",children:U.title||"(Tanpa Judul)"}),o.jsxs("p",{className:"text-sm text-gray-300",children:["Tipe: ",U.file_type," | Sumber: ",U.source_type," | Urutan: ",U.display_order]}),o.jsx("p",{className:"text-xs text-gray-400 truncate",children:U.file_path})]}),o.jsxs("div",{className:"flex space-x-2 items-center",children:[i===U.id?o.jsxs("span",{className:"text-green-400 flex items-center text-sm",children:[o.jsx(Dd,{className:"h-4 w-4 mr-1"})," Aktif"]}):o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>fe(U.id),className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white",children:"Set Aktif"}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>q(U),className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:o.jsx(Pr,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"outline",size:"icon",onClick:()=>ce(U),className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:o.jsx(Tr,{className:"h-4 w-4"})})]})]},U.id))}),o.jsx(qt,{open:r==="add-upload"||r==="edit-upload",onOpenChange:U=>{U||a("none")},children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:r==="edit-upload"?"Edit Media Unggahan":"Unggah File Media Baru"}),o.jsx(Zt,{children:r==="edit-upload"?"Perbarui detail media unggahan ini.":"Unggah file audio atau video baru untuk diputar di layar utama."})]}),o.jsxs("form",{onSubmit:g(ie),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"uploadTitle",className:"text-gray-300",children:"Judul (Opsional)"}),o.jsx(ve,{id:"uploadTitle",...y("title"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Judul media (mis: Rekaman Kajian)"}),S.title&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:S.title.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"file",className:"text-gray-300",children:"Unggah File Media (Audio/Video)"}),o.jsx(ve,{id:"file",type:"file",accept:"audio/*,video/*",...y("file"),className:"bg-gray-700 border-gray-600 text-white mt-1 file:text-white file:bg-blue-600 file:hover:bg-blue-700 file:border-none file:rounded-md file:px-3 file:py-1"}),S.file&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:S.file.message}),r==="edit-upload"&&(n==null?void 0:n.source_type)==="upload"&&n.file_path&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"File saat ini:"}),n.file_type==="audio"?o.jsx("audio",{controls:!0,src:(O=V.storage.from("audio").getPublicUrl(n.file_path).data)==null?void 0:O.publicUrl,className:"w-full max-w-xs"}):o.jsx("video",{controls:!0,src:(J=V.storage.from("audio").getPublicUrl(n.file_path).data)==null?void 0:J.publicUrl,className:"w-full max-w-xs h-32 object-contain"})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"file_type",className:"text-gray-300",children:"Tipe File"}),o.jsxs(gt,{onValueChange:U=>k("file_type",U),defaultValue:u.getValues("file_type"),children:[o.jsx(lt,{className:"w-full bg-gray-700 border-gray-600 text-white mt-1",children:o.jsx(yt,{placeholder:"Pilih Tipe File"})}),o.jsxs(ct,{className:"bg-gray-700 text-white border-gray-600",children:[o.jsx($e,{value:"audio",children:"Audio"}),o.jsx($e,{value:"video",children:"Video"})]})]}),S.file_type&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:S.file_type.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"uploadDisplayOrder",className:"text-gray-300",children:"Urutan Tampilan"}),o.jsx(ve,{id:"uploadDisplayOrder",type:"number",...y("display_order"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),S.display_order&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:S.display_order.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>a("none"),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white",children:w?"Menyimpan...":r==="edit-upload"?"Simpan Perubahan":"Unggah Media"})]})]})]})}),o.jsx(qt,{open:r==="add-youtube"||r==="edit-youtube",onOpenChange:U=>{U||a("none")},children:o.jsxs(Ut,{className:"bg-gray-800 text-white border-gray-700",children:[o.jsxs(Lt,{children:[o.jsx(Vt,{className:"text-blue-300",children:r==="edit-youtube"?"Edit Tautan YouTube":"Tambah Tautan YouTube Baru"}),o.jsx(Zt,{children:r==="edit-youtube"?"Perbarui detail tautan YouTube ini.":"Tambahkan tautan video YouTube baru untuk diputar di layar utama."})]}),o.jsxs("form",{onSubmit:x(D),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"youtubeTitle",className:"text-gray-300",children:"Judul (Opsional)"}),o.jsx(ve,{id:"youtubeTitle",...M("title"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Judul video (mis: Khutbah Jumat Terbaru)"}),A.title&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:A.title.message})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"youtubeUrl",className:"text-gray-300",children:"URL Video YouTube"}),o.jsx(ve,{id:"youtubeUrl",type:"url",...M("youtubeUrl"),className:"bg-gray-700 border-gray-600 text-white mt-1",placeholder:"Contoh: https://www.youtube.com/watch?v=dQw4w9WgXcQ"}),A.youtubeUrl&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:A.youtubeUrl.message}),B&&ka(B)&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Pratinjau Video:"}),o.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:o.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full rounded-md border border-gray-600",src:`https://www.youtube.com/embed/${ka(B)}?autoplay=0&controls=1&modestbranding=1&rel=0`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"youtubeDisplayOrder",className:"text-gray-300",children:"Urutan Tampilan"}),o.jsx(ve,{id:"youtubeDisplayOrder",type:"number",...M("display_order"),className:"bg-gray-700 border-gray-600 text-white mt-1"}),A.display_order&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:A.display_order.message})]}),o.jsxs($t,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>a("none"),className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Batal"}),o.jsx(ue,{type:"submit",disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white",children:b?"Menyimpan...":r==="edit-youtube"?"Simpan Perubahan":"Tambah Tautan"})]})]})]})})]})]})},In=[{id:"masjid-info",title:"Informasi Masjid",component:Zu},{id:"prayer-time",title:"Waktu Sholat",component:bm},{id:"audio",title:"Audio & Iqomah",component:cy},{id:"ramadan-mode",title:"Mode Ramadan",component:ry},{id:"display",title:"Tampilan",component:ny},{id:"info-slides",title:"Slide Informasi",component:Um},{id:"media-player",title:"Media Player",component:Wv},{id:"running-text",title:"Teks Berjalan",component:wm},{id:"imam-muezzin",title:"Jadwal Imam & Muadzin",component:Bm},{id:"notifications-studies",title:"Notifikasi & Kajian",component:Hg},{id:"financial",title:"Keuangan",component:Kg},{id:"islamic-holidays",title:"Hari Besar Islam",component:uy}],zv=()=>{var s;const e=Cd(),[t,r]=m.useState(In[0].id),a=(s=In.find(i=>i.id===t))==null?void 0:s.component,n=async()=>{await Fd(),e("/login")};return o.jsxs("div",{className:"flex h-screen bg-gray-900 text-white",children:[o.jsxs("aside",{className:"w-64 bg-gray-800 border-r border-gray-700 flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-gray-700",children:o.jsx("h2",{className:"text-2xl font-bold text-blue-300",children:"Admin Panel"})}),o.jsx(Md,{className:"flex-grow py-4",children:o.jsx("nav",{className:"space-y-1 px-4",children:In.map(i=>o.jsx(ue,{variant:"ghost",className:xe("w-full justify-start text-lg py-2 px-3 rounded-md",t===i.id?"bg-blue-700 text-white hover:bg-blue-600":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:()=>r(i.id),children:i.title},i.id))})}),o.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-2",children:[o.jsx(ue,{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Kembali ke Display"}),o.jsx(ue,{onClick:n,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto p-8",children:a?o.jsx(a,{}):o.jsx("div",{className:"text-center text-gray-400 text-xl",children:"Pilih bagian dari sidebar untuk mengelola pengaturan."})})]})},ex=()=>o.jsx(zv,{});export{ex as default};
