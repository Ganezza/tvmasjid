import{e as m,r as a,s as i,a as d,j as e,N as u,O as h,Q as g,T as p,U as w}from"./index-BP8ToU7o.js";const b=m.memo(()=>{const[n,f]=a.useState([]),[x,o]=a.useState(!0),[c,t]=a.useState(null),r=a.useCallback(async()=>{o(!0),t(null);try{const{data:s,error:l}=await i.from("info_slides").select("*").order("display_order",{ascending:!0});l?(console.error("Error fetching info slides:",l),t("Gagal memuat slide informasi."),d.error("Gagal memuat slide informasi.")):f(s||[])}catch(s){console.error("Unexpected error fetching info slides:",s),t("Terjadi kesalahan saat memuat slide informasi."),d.error("Terjadi kesalahan saat memuat slide informasi.")}finally{o(!1)}},[]);return a.useEffect(()=>{r();const s=i.channel("info_slides_changes_display").on("postgres_changes",{event:"*",schema:"public",table:"info_slides"},l=>{console.log("Info slides change received!",l),r()}).subscribe();return console.log("InfoSlides: Subscribed to channel 'info_slides_changes_display'."),()=>{i.removeChannel(s),console.log("InfoSlides: Unsubscribed from channel 'info_slides_changes_display'.")}},[r]),x?e.jsx("div",{className:"bg-gray-800 bg-opacity-70 rounded-xl shadow-2xl overflow-hidden flex items-center justify-center text-white flex-grow",children:e.jsx("p",{className:"text-sm",children:"Memuat slide informasi..."})}):c?e.jsxs("div",{className:"bg-red-800 bg-opacity-70 rounded-xl shadow-2xl overflow-hidden flex items-center justify-center text-white flex-grow",children:[e.jsx("p",{className:"text-sm font-bold",children:"Error:"}),e.jsx("p",{className:"text-xs",children:c})]}):n.length===0?e.jsx("div",{className:"bg-gray-800 bg-opacity-70 rounded-xl shadow-2xl overflow-hidden flex items-center justify-center text-white flex-grow",children:e.jsx("p",{className:"text-sm text-gray-400",children:"Tidak ada slide informasi untuk ditampilkan."})}):e.jsx("div",{className:"bg-gray-800 bg-opacity-70 rounded-xl shadow-2xl overflow-hidden flex-grow flex flex-col",children:e.jsx(u,{spaceBetween:10,centeredSlides:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[h,g,p],className:"mySwiper w-full h-full",children:n.map(s=>e.jsxs(w,{className:"flex flex-col items-center justify-center p-1.5",children:[s.title&&e.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold mb-1 text-yellow-300 text-center text-wrap",children:s.title}),e.jsx("div",{className:"flex-grow flex items-center justify-center w-full h-full",children:e.jsx("img",{src:s.content,alt:s.title||"Info Slide",className:"max-w-full max-h-full object-contain rounded-lg"})})]},s.id))})})});export{b as default};
